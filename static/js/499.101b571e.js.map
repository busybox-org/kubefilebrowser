{"version":3,"file":"js/499.101b571e.js","mappings":"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AQ,KAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAAS,CAAC,KAAQ,MAC7C,CAAC,KAAQ,M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","sources":["webpack://KubernetesFileBrowser/./src/view/dashboard.vue?b233","webpack://KubernetesFileBrowser/./node_modules/js-base64/base64.mjs","webpack://KubernetesFileBrowser/src/view/dashboard.vue","webpack://KubernetesFileBrowser/./src/view/dashboard.vue?28fa","webpack://KubernetesFileBrowser/./src/view/dashboard.vue","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/AccessibilityManager.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/Buffer.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/BufferSet.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/CharMeasure.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/CharWidth.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/Clipboard.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/CompositionHelper.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/EscapeSequenceParser.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/InputHandler.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/Linkifier.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/MouseHelper.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/MouseZoneManager.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/SelectionManager.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/SelectionModel.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/SoundManager.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/Strings.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/Terminal.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/Viewport.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/WindowsMode.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/addons/fit/fit.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/addons/search/SearchHelper.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/addons/search/search.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/addons/webLinks/webLinks.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/common/CircularList.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/common/Clone.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/common/EventEmitter.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/common/EventEmitter2.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/common/Lifecycle.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/common/Platform.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/common/TypedArrayUtils.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/common/Types.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/common/data/EscapeSequences.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/core/buffer/BufferLine.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/core/buffer/BufferReflow.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/core/buffer/Marker.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/core/data/Charsets.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/core/input/Keyboard.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/core/input/TextDecoder.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/handlers/AltClickHandler.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/public/AddonManager.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/public/Terminal.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/renderer/BaseRenderLayer.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/renderer/CharacterJoinerRegistry.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/renderer/CursorRenderLayer.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/renderer/GridCache.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/renderer/LinkRenderLayer.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/renderer/RenderCoordinator.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/renderer/Renderer.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/renderer/SelectionRenderLayer.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/renderer/TextRenderLayer.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/renderer/atlas/BaseCharAtlas.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/renderer/atlas/CharAtlasCache.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/renderer/atlas/CharAtlasGenerator.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/renderer/atlas/CharAtlasUtils.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/renderer/atlas/DynamicCharAtlas.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/renderer/atlas/LRUMap.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/renderer/atlas/NoneCharAtlas.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/renderer/atlas/StaticCharAtlas.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/renderer/atlas/Types.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/renderer/dom/DomRenderer.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/renderer/dom/DomRendererRowFactory.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/ui/ColorManager.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/ui/Lifecycle.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/ui/RenderDebouncer.js","webpack://KubernetesFileBrowser/./node_modules/xterm/lib/ui/ScreenDprMonitor.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',{attrs:{\"shadow\":\"never\"}},[_c('div',[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"filterable\":\"\",\"placeholder\":_vm.$t('please_select_namespace')},on:{\"change\":_vm.selectedNamespace},nativeOn:{\"click\":function($event){return _vm.getNamespace.apply(null, arguments)}},model:{value:(_vm.namespace),callback:function ($$v) {_vm.namespace=$$v},expression:\"namespace\"}},_vm._l((_vm.namespaces),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}),1)],1),_c('div',{staticClass:\"table\",staticStyle:{\"margin-top\":\"15px\"}},[_c('div',{staticStyle:{\"float\":\"right\",\"text-align\":\"center\",\"margin-bottom\":\"20px\"}},[_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.current_page,\"page-sizes\":_vm.page_sizes,\"page-size\":_vm.page_size,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total_count},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_c('div',{staticClass:\"search-Box\",staticStyle:{\"float\":\"right\",\"width\":\"300px\",\"margin-right\":\"5px\",\"margin-bottom\":\"10px\",\"margin-top\":\"-5px\"}},[_c('el-input',{staticClass:\"search\",attrs:{\"placeholder\":_vm.$t('keyword_search'),\"icon\":\"search\",\"suffix-icon\":\"el-icon-search\"},model:{value:(_vm.search_key),callback:function ($$v) {_vm.search_key=$$v},expression:\"search_key\"}})],1),_c('el-table',{directives:[{name:\"tableDrag\",rawName:\"v-tableDrag\"}],staticClass:\"app-table\",staticStyle:{\"width\":\"100%\"},attrs:{\"size\":\"medium\",\"data\":_vm.table_data.filter(\n              function (data) { return !_vm.search_key ||\n              data.pod_name.toLowerCase().includes(_vm.search_key.toLowerCase()) ||\n              data.node_name.toLowerCase().includes(_vm.search_key.toLowerCase()) ||\n              data.host_ip.toLowerCase().includes(_vm.search_key.toLowerCase()); }\n          ),\"default-sort\":{prop: 'pod_name', order: 'ascending'}}},[_c('el-table-column',{attrs:{\"prop\":\"pod_name\",\"label\":_vm.$t('pod'),\"sortable\":\"\",\"show-overflow-tooltip\":\"\",\"min-width\":\"400\",\"fixed\":\"left\",\"sort-orders\":['ascending', 'descending']}}),_c('el-table-column',{attrs:{\"label\":_vm.$t('state'),\"sortable\":\"\",\"show-overflow-tooltip\":\"\",\"width\":\"100\",\"sort-orders\":['ascending', 'descending']},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.state === 'Running' || scope.row.state === 'Succeeded')?_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"mini\",\"plain\":\"\",\"round\":\"\"}},[_vm._v(\" \"+_vm._s(scope.row.state)+\" \")]):_vm._e(),(scope.row.state !== 'Running' && scope.row.State !== 'Succeeded')?_c('el-button',{attrs:{\"type\":\"warning\",\"size\":\"mini\",\"plain\":\"\",\"round\":\"\"}},[_vm._v(\" \"+_vm._s(scope.row.state)+\" \")]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"label\":\"Pod IP\",\"sortable\":\"\",\"width\":\"110\",\"sort-orders\":['ascending', 'descending']},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((scope.row.pod_ips),function(list){return _c('span',[_vm._v(_vm._s(list.ip)),_c('br')])})}}])}),_c('el-table-column',{attrs:{\"label\":_vm.$t('node'),\"sortable\":\"\",\"width\":\"220\",\"sort-orders\":['ascending', 'descending']},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(scope.row.node_name)),_c('br'),_vm._v(\" \"+_vm._s(scope.row.host_ip)+\" \")]}}])}),_c('el-table-column',{attrs:{\"prop\":\"create_time\",\"label\":_vm.$t('create_time'),\"sortable\":\"\",\"fix\":\"\",\"width\":\"170\",\"sort-orders\":['ascending', 'descending']}}),_c('el-table-column',{attrs:{\"prop\":\"restart_count\",\"label\":_vm.$t('restart_count'),\"sortable\":\"\",\"width\":\"100\",\"sort-orders\":['ascending', 'descending']}}),_c('el-table-column',{attrs:{\"prop\":\"os\",\"label\":_vm.$t('os'),\"sortable\":\"\",\"width\":\"100\",\"sort-orders\":['ascending', 'descending']}}),_c('el-table-column',{attrs:{\"prop\":\"arch\",\"label\":_vm.$t('arch'),\"sortable\":\"\",\"width\":\"120\",\"sort-orders\":['ascending', 'descending']}}),_c('el-table-column',{staticStyle:{\"text-align\":\"right\"},attrs:{\"label\":_vm.$t('operate'),\"min-width\":\"186\",\"fixed\":\"right\",\"sort-orders\":['ascending', 'descending']},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n          var row = ref.row;\nreturn [(row.state === 'Running')?_c('el-dropdown',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"hide-on-click\":false}},[_c('el-dropdown-menu'),_c('el-popover',{attrs:{\"placement\":\"left\",\"trigger\":\"hover\"}},[_vm._l((row.containers),function(c){return _c('div',{key:c.name},[_c('p',{staticStyle:{\"margin\":\"0\"}},[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.openTerminal(row, c)}}},[_vm._v(_vm._s(c.name))])],1)])}),_c('el-dropdown-item',{attrs:{\"slot\":\"reference\",\"icon\":\"el-icon-s-fold\"},slot:\"reference\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"terminal\"))+\" \"),_c('i',{staticClass:\"el-icon-arrow-right\"})])],2),_c('el-popover',{attrs:{\"placement\":\"left\",\"trigger\":\"hover\"}},[_vm._l((row.containers),function(c){return _c('div',{key:c.name},[_c('p',{staticStyle:{\"margin\":\"0\"}},[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.openFileBrowser(row, c, '/')}}},[_vm._v(_vm._s(c.name))])],1)])}),_c('el-dropdown-item',{attrs:{\"slot\":\"reference\",\"icon\":\"el-icon-files\"},slot:\"reference\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"file_browser\"))+\" \"),_c('i',{staticClass:\"el-icon-arrow-right\"})])],2)],1):_vm._e()]}}])})],1)],1)]),_c('el-dialog',{attrs:{\"visible\":_vm.dialog_terminal_visible,\"title\":_vm.$t('terminal'),\"center\":\"\",\"fullscreen\":\"\",\"modal\":false,\"destroy-on-close\":true},on:{\"update:visible\":function($event){_vm.dialog_terminal_visible=$event},\"opened\":_vm.doOpened,\"close\":_vm.doClose}},[_c('div',{staticStyle:{\"margin-top\":\"-25px\"}},[_c('div',{ref:\"terminal\"})])]),_c('el-dialog',{attrs:{\"center\":\"\",\"fullscreen\":\"\",\"title\":_vm.$t('file_browser'),\"visible\":_vm.dialog_file_browser_visible},on:{\"update:visible\":function($event){_vm.dialog_file_browser_visible=$event},\"close\":function($event){_vm.dialog_file_browser_visible = false}}},[_c('div',{staticStyle:{\"margin-top\":\"-25px\"}},[_c('el-table-header',{attrs:{\"store\":\"\"}},[_c('el-dropdown',{staticClass:\"avatar-container\",staticStyle:{\"height\":\"36px\",\"float\":\"right\",\"margin-bottom\":\"10px\"},attrs:{\"type\":\"info\",\"trigger\":\"click\"}},[_c('div',{staticClass:\"avatar-wrapper\"},[_c('el-button',{staticClass:\"el-icon-s-tools\",staticStyle:{\"width\":\"90px\",\"height\":\"30px\",\"margin-right\":\"6px\",\"padding-top\":\"7px\",\"padding-left\":\"14px\"},attrs:{\"type\":\"success\",\"round\":\"\",\"size\":\"medium\"}},[_vm._v(\" \"+_vm._s(_vm.$t('create'))+\" \"),_c('i',{staticClass:\"el-icon-caret-bottom\"})])],1),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',[_c('span',{staticStyle:{\"display\":\"block\"},on:{\"click\":function($event){return _vm.openFileDialog(_vm.global_path, 'create')}}},[_vm._v(_vm._s(_vm.$t('create_file')))])]),_c('el-dropdown-item',[_c('span',{staticStyle:{\"display\":\"block\"},on:{\"click\":function($event){return _vm.createDir()}}},[_vm._v(_vm._s(_vm.$t('create_dir')))])])],1)],1),_c('el-dropdown',{staticClass:\"avatar-container\",staticStyle:{\"height\":\"36px\",\"float\":\"right\",\"margin-bottom\":\"10px\"},attrs:{\"type\":\"success\",\"trigger\":\"click\"}},[_c('div',{staticClass:\"avatar-wrapper\"},[_c('el-button',{staticClass:\"el-icon-upload\",staticStyle:{\"width\":\"90px\",\"height\":\"30px\",\"margin-right\":\"6px\",\"padding-top\":\"7px\",\"padding-left\":\"14px\"},attrs:{\"type\":\"success\",\"round\":\"\",\"size\":\"medium\"}},[_vm._v(\" \"+_vm._s(_vm.$t('upload'))+\" \"),_c('i',{staticClass:\"el-icon-caret-bottom\"})])],1),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',[_c('span',{staticClass:\"fake-file-btn\"},[_vm._v(\" \"+_vm._s(_vm.$t('upload_file'))+\" \"),_c('input',{staticStyle:{\"display\":\"block\"},attrs:{\"type\":\"file\",\"name\":\"files\",\"multiple\":\"true\"},on:{\"change\":function($event){return _vm.uploadFileOrDir($event, _vm.global_path)}}})])]),_c('el-dropdown-item',{attrs:{\"divided\":\"\"}},[_c('span',{staticClass:\"fake-file-btn\"},[_vm._v(\" \"+_vm._s(_vm.$t('upload_dir'))+\" \"),_c('input',{staticStyle:{\"display\":\"block\"},attrs:{\"type\":\"file\",\"name\":\"files\",\"webkitdirectory\":\"\",\"mozdirectory\":\"\",\"accept\":\"*/*\"},on:{\"change\":function($event){return _vm.uploadFileOrDir($event, _vm.global_path)}}})])])],1)],1),_c('el-dropdown',{staticClass:\"el-upload avatar-container\",staticStyle:{\"height\":\"36px\",\"float\":\"right\",\"margin-bottom\":\"10px\"},attrs:{\"type\":\"primary\",\"trigger\":\"click\"}},[_c('div',{staticClass:\"avatar-wrapper\"},[_c('el-button',{staticClass:\"el-icon-download\",staticStyle:{\"width\":\"120px\",\"height\":\"30px\",\"margin-right\":\"6px\",\"padding-top\":\"7px\",\"padding-left\":\"14px\"},attrs:{\"type\":\"primary\",\"round\":\"\",\"size\":\"medium\"}},[_vm._v(\" \"+_vm._s(_vm.$t('bulk_download'))+\" \"),_c('i',{staticClass:\"el-icon-caret-bottom\"})])],1),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',[_c('span',{staticStyle:{\"display\":\"block\"},on:{\"click\":function($event){return _vm.bulkDownload(_vm.bulk_path, 'tar')}}},[_vm._v(\"TAR\"+_vm._s(_vm.$t('download')))])]),_c('el-dropdown-item',{attrs:{\"divided\":\"\"}},[_c('span',{staticStyle:{\"display\":\"block\"},on:{\"click\":function($event){return _vm.bulkDownload(_vm.bulk_path, 'zip')}}},[_vm._v(\"ZIP\"+_vm._s(_vm.$t('download')))])])],1)],1),_vm._v(\"      \"),_c('div',{staticClass:\"search-Box\",staticStyle:{\"float\":\"right\",\"width\":\"300px\",\"margin-right\":\"5px\",\"margin-bottom\":\"10px\",\"margin-top\":\"-5px\"}},[_c('el-input',{staticClass:\"search\",attrs:{\"placeholder\":_vm.$t('keyword_search'),\"icon\":\"search\",\"suffix-icon\":\"el-icon-search\"},model:{value:(_vm.search_key),callback:function ($$v) {_vm.search_key=$$v},expression:\"search_key\"}})],1),_vm._v(\"      \"),_c('ul',_vm._l((_vm.header_paths),function(item){return _c('li',{staticStyle:{\"float\":\"left\",\"margin-top\":\"10px\",\"list-style\":\"none\"}},[_c('a',{staticClass:\"el-icon-folder-opened\",staticStyle:{\"margin-right\":\"5px\",\"font-size\":\"16px\"},on:{\"click\":function($event){return _vm.openFileBrowser(null, null, item.path)}}},[_vm._v(_vm._s(item.name))])])}),0),_vm._v(\"      \"),_c('span',{staticStyle:{\"float\":\"left\"}},[_c('el-button',{staticStyle:{\"padding\":\"3px\",\"margin-top\":\"8px\"},attrs:{\"type\":\"info\",\"icon\":\"el-icon-refresh\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.openFileBrowser(null,null, _vm.path)}}})],1)],1),_c('el-table',{directives:[{name:\"tableDrag\",rawName:\"v-tableDrag\"}],staticClass:\"app-table\",staticStyle:{\"width\":\"100%\"},attrs:{\"id\":\"table_data\",\"border\":\"\",\"size\":\"100%\",\"cell-style\":{padding:'6px 0'},\"data\":_vm.file_browser_data.filter(\n              function (data) { return !_vm.search_key ||\n              data.Name.toLowerCase().includes(_vm.search_key.toLowerCase()); }\n          ),\"default-sort\":{prop: 'Name', order: 'ascending'}},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"fixed\":\"left\"}}),_c('el-table-column',{attrs:{\"fixed\":\"left\",\"min-width\":\"80px\",\"prop\":\"Name\",\"label\":_vm.$t('name'),\"sortable\":\"\",\"sort-orders\":['ascending', 'descending']},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.IsDir)?_c('div',{staticClass:\"el-icon-folder\",on:{\"click\":function($event){return _vm.openFileBrowser(null,null, scope.row.Path)}}},[_vm._v(\"  \"+_vm._s(scope.row.Name))]):_c('div',{staticClass:\"el-icon-files\"},[(scope.row.Size > 10240)?_c('span',{on:{\"click\":function($event){return _vm.download(scope.row.Path, 'zip')}}},[_vm._v(_vm._s(scope.row.Name))]):_c('span',{on:{\"click\":function($event){return _vm.openFileDialog(scope.row.Path, 'open')}}},[_vm._v(_vm._s(scope.row.Name))])])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"Size\",\"label\":_vm.$t('size'),\"sortable\":\"\",\"sort-orders\":['ascending', 'descending']}}),_c('el-table-column',{attrs:{\"prop\":\"Mode\",\"label\":_vm.$t('mode')}}),_c('el-table-column',{attrs:{\"prop\":\"ModTime\",\"label\":_vm.$t('mod_time'),\"sortable\":\"\",\"sort-orders\":['ascending', 'descending']}}),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"prop\":\"Download\",\"label\":_vm.$t('operate'),\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-dropdown',{staticClass:\"avatar-container\",staticStyle:{\"height\":\"36px\",\"font-size\":\"9px\"},attrs:{\"type\":\"info\",\"trigger\":\"click\"}},[_c('div',{staticClass:\"avatar-wrapper\"},[_c('el-button',{staticClass:\"el-icon-s-tools\",staticStyle:{\"width\":\"90px\",\"height\":\"30px\",\"margin-top\":\"4px\",\"margin-right\":\"6px\",\"padding-top\":\"7px\",\"padding-left\":\"14px\"},attrs:{\"type\":\"success\",\"round\":\"\",\"size\":\"medium\"}},[_vm._v(\" \"+_vm._s(_vm.$t('operate'))+\" \"),_c('i',{staticClass:\"el-icon-caret-bottom\"})])],1),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[(!scope.row.IsDir)?_c('el-dropdown-item',[(scope.row.Size > 10240)?_c('span',{on:{\"click\":function($event){return _vm.download(scope.row.Path, 'zip')}}},[_vm._v(_vm._s(_vm.$t('download')))]):_c('span',{staticClass:\"fake-file-btn\",on:{\"click\":function($event){return _vm.openFileDialog(scope.row.Path, 'open')}}},[_vm._v(_vm._s(_vm.$t('change')))])]):_vm._e(),_c('el-dropdown-item',[_c('span',{staticClass:\"fake-file-btn\",on:{\"click\":function($event){return _vm.openRenameDialog(scope.row.Name)}}},[_vm._v(_vm._s(_vm.$t('rename')))])]),_c('el-dropdown-item',[_c('span',{staticClass:\"fake-file-btn\",on:{\"click\":function($event){return _vm.removeFileOrDir(scope.row.Path)}}},[_vm._v(_vm._s(_vm.$t('remove')))])])],1)],1),_c('span',[_vm._v(\"    \")]),(scope.row.IsDir)?_c('el-dropdown',{staticClass:\"avatar-container\",staticStyle:{\"height\":\"36px\",\"font-size\":\"9px\"},attrs:{\"type\":\"success\",\"trigger\":\"click\"}},[_c('div',{staticClass:\"avatar-wrapper\"},[_c('el-button',{staticClass:\"el-icon-upload\",staticStyle:{\"width\":\"90px\",\"height\":\"30px\",\"margin-top\":\"4px\",\"margin-right\":\"6px\",\"padding-top\":\"7px\",\"padding-left\":\"14px\"},attrs:{\"type\":\"success\",\"round\":\"\",\"size\":\"medium\"}},[_vm._v(\" \"+_vm._s(_vm.$t('upload'))+\" \"),_c('i',{staticClass:\"el-icon-caret-bottom\"})])],1),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',[_c('span',{staticClass:\"fake-file-btn\"},[_vm._v(\" \"+_vm._s(_vm.$t('upload_file'))+\" \"),_c('input',{staticStyle:{\"display\":\"block\"},attrs:{\"type\":\"file\",\"name\":\"files\",\"multiple\":\"true\"},on:{\"change\":function($event){return _vm.uploadFileOrDir($event, scope.row.Path)}}})])]),_c('el-dropdown-item',{attrs:{\"divided\":\"\"}},[_c('span',{staticClass:\"fake-file-btn\"},[_vm._v(\" \"+_vm._s(_vm.$t('upload_dir'))+\" \"),_c('input',{staticStyle:{\"display\":\"block\"},attrs:{\"type\":\"file\",\"name\":\"files\",\"webkitdirectory\":\"\",\"mozdirectory\":\"\",\"accept\":\"*/*\"},on:{\"change\":function($event){return _vm.uploadFileOrDir($event, scope.row.Path)}}})])])],1)],1):_vm._e(),_c('span',[_vm._v(\"    \")]),_c('el-dropdown',{staticClass:\"avatar-container\",staticStyle:{\"height\":\"36px\",\"font-size\":\"9px\"},attrs:{\"type\":\"primary\",\"trigger\":\"click\"}},[_c('div',{staticClass:\"avatar-wrapper\"},[_c('el-button',{staticClass:\"el-icon-download\",staticStyle:{\"width\":\"90px\",\"height\":\"30px\",\"margin-top\":\"4px\",\"margin-right\":\"6px\",\"padding-top\":\"7px\",\"padding-left\":\"14px\"},attrs:{\"type\":\"primary\",\"round\":\"\",\"size\":\"medium\"}},[_vm._v(\" \"+_vm._s(_vm.$t('download'))+\" \"),_c('i',{staticClass:\"el-icon-caret-bottom\"})])],1),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',[_c('span',{staticStyle:{\"display\":\"block\"},on:{\"click\":function($event){return _vm.download(scope.row.Path, 'tar')}}},[_vm._v(\"TAR\"+_vm._s(_vm.$t('download')))])]),_c('el-dropdown-item',{attrs:{\"divided\":\"\"}},[_c('span',{staticStyle:{\"display\":\"block\"},on:{\"click\":function($event){return _vm.download(scope.row.Path, 'zip')}}},[_vm._v(\"ZIP\"+_vm._s(_vm.$t('download')))])])],1)],1)]}}])})],1)],1)]),_c('el-dialog',{attrs:{\"append-to-body\":true,\"with-header\":false,\"width\":\"80%\",\"title\":_vm.$t('file'),\"visible\":_vm.dialog_file_visible},on:{\"update:visible\":function($event){_vm.dialog_file_visible=$event},\"close\":function($event){_vm.dialog_file_visible = false}}},[_c('div',{staticStyle:{\"margin-top\":\"-45px\"}},[_c('span',{staticStyle:{\"display\":\"block\",\"float\":\"left\",\"font-size\":\"25px\",\"margin-top\":\"20px\",\"margin-left\":\"12px\"}},[_vm._v(_vm._s(_vm.create_for_path))]),(_vm.is_new_file)?_c('el-input',{staticStyle:{\"margin-top\":\"17px\",\"margin-left\":\"6px\",\"float\":\"left\",\"width\":\"auto\"},attrs:{\"size\":\"small\",\"autocomplete\":\"off\",\"placeholder\":_vm.$t('please_input_name')},model:{value:(_vm.create_name),callback:function ($$v) {_vm.create_name=$$v},expression:\"create_name\"}}):_vm._e(),_c('el-button',{staticStyle:{\"float\":\"right\",\"margin-right\":\"12px\",\"margin-top\":\"12px\"},nativeOn:{\"click\":function($event){return _vm.saveFile.apply(null, arguments)}}},[_vm._v(_vm._s(_vm.$t('enter')))]),_c('el-input',{staticStyle:{\"margin-top\":\"15px\"},attrs:{\"rows\":\"15\",\"type\":\"textarea\",\"placeholder\":_vm.$t('please_input_content')},model:{value:(_vm.fileContent),callback:function ($$v) {_vm.fileContent=$$v},expression:\"fileContent\"}})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n *  base64.ts\n *\n *  Licensed under the BSD 3-Clause License.\n *    http://opensource.org/licenses/BSD-3-Clause\n *\n *  References:\n *    http://en.wikipedia.org/wiki/Base64\n *\n * @author Dan Kogai (https://github.com/dankogai)\n */\nconst version = '3.7.2';\n/**\n * @deprecated use lowercase `version`.\n */\nconst VERSION = version;\nconst _hasatob = typeof atob === 'function';\nconst _hasbtoa = typeof btoa === 'function';\nconst _hasBuffer = typeof Buffer === 'function';\nconst _TD = typeof TextDecoder === 'function' ? new TextDecoder() : undefined;\nconst _TE = typeof TextEncoder === 'function' ? new TextEncoder() : undefined;\nconst b64ch = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\nconst b64chs = Array.prototype.slice.call(b64ch);\nconst b64tab = ((a) => {\n    let tab = {};\n    a.forEach((c, i) => tab[c] = i);\n    return tab;\n})(b64chs);\nconst b64re = /^(?:[A-Za-z\\d+\\/]{4})*?(?:[A-Za-z\\d+\\/]{2}(?:==)?|[A-Za-z\\d+\\/]{3}=?)?$/;\nconst _fromCC = String.fromCharCode.bind(String);\nconst _U8Afrom = typeof Uint8Array.from === 'function'\n    ? Uint8Array.from.bind(Uint8Array)\n    : (it, fn = (x) => x) => new Uint8Array(Array.prototype.slice.call(it, 0).map(fn));\nconst _mkUriSafe = (src) => src\n    .replace(/=/g, '').replace(/[+\\/]/g, (m0) => m0 == '+' ? '-' : '_');\nconst _tidyB64 = (s) => s.replace(/[^A-Za-z0-9\\+\\/]/g, '');\n/**\n * polyfill version of `btoa`\n */\nconst btoaPolyfill = (bin) => {\n    // console.log('polyfilled');\n    let u32, c0, c1, c2, asc = '';\n    const pad = bin.length % 3;\n    for (let i = 0; i < bin.length;) {\n        if ((c0 = bin.charCodeAt(i++)) > 255 ||\n            (c1 = bin.charCodeAt(i++)) > 255 ||\n            (c2 = bin.charCodeAt(i++)) > 255)\n            throw new TypeError('invalid character found');\n        u32 = (c0 << 16) | (c1 << 8) | c2;\n        asc += b64chs[u32 >> 18 & 63]\n            + b64chs[u32 >> 12 & 63]\n            + b64chs[u32 >> 6 & 63]\n            + b64chs[u32 & 63];\n    }\n    return pad ? asc.slice(0, pad - 3) + \"===\".substring(pad) : asc;\n};\n/**\n * does what `window.btoa` of web browsers do.\n * @param {String} bin binary string\n * @returns {string} Base64-encoded string\n */\nconst _btoa = _hasbtoa ? (bin) => btoa(bin)\n    : _hasBuffer ? (bin) => Buffer.from(bin, 'binary').toString('base64')\n        : btoaPolyfill;\nconst _fromUint8Array = _hasBuffer\n    ? (u8a) => Buffer.from(u8a).toString('base64')\n    : (u8a) => {\n        // cf. https://stackoverflow.com/questions/12710001/how-to-convert-uint8-array-to-base64-encoded-string/12713326#12713326\n        const maxargs = 0x1000;\n        let strs = [];\n        for (let i = 0, l = u8a.length; i < l; i += maxargs) {\n            strs.push(_fromCC.apply(null, u8a.subarray(i, i + maxargs)));\n        }\n        return _btoa(strs.join(''));\n    };\n/**\n * converts a Uint8Array to a Base64 string.\n * @param {boolean} [urlsafe] URL-and-filename-safe a la RFC4648 §5\n * @returns {string} Base64 string\n */\nconst fromUint8Array = (u8a, urlsafe = false) => urlsafe ? _mkUriSafe(_fromUint8Array(u8a)) : _fromUint8Array(u8a);\n// This trick is found broken https://github.com/dankogai/js-base64/issues/130\n// const utob = (src: string) => unescape(encodeURIComponent(src));\n// reverting good old fationed regexp\nconst cb_utob = (c) => {\n    if (c.length < 2) {\n        var cc = c.charCodeAt(0);\n        return cc < 0x80 ? c\n            : cc < 0x800 ? (_fromCC(0xc0 | (cc >>> 6))\n                + _fromCC(0x80 | (cc & 0x3f)))\n                : (_fromCC(0xe0 | ((cc >>> 12) & 0x0f))\n                    + _fromCC(0x80 | ((cc >>> 6) & 0x3f))\n                    + _fromCC(0x80 | (cc & 0x3f)));\n    }\n    else {\n        var cc = 0x10000\n            + (c.charCodeAt(0) - 0xD800) * 0x400\n            + (c.charCodeAt(1) - 0xDC00);\n        return (_fromCC(0xf0 | ((cc >>> 18) & 0x07))\n            + _fromCC(0x80 | ((cc >>> 12) & 0x3f))\n            + _fromCC(0x80 | ((cc >>> 6) & 0x3f))\n            + _fromCC(0x80 | (cc & 0x3f)));\n    }\n};\nconst re_utob = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFFF]|[^\\x00-\\x7F]/g;\n/**\n * @deprecated should have been internal use only.\n * @param {string} src UTF-8 string\n * @returns {string} UTF-16 string\n */\nconst utob = (u) => u.replace(re_utob, cb_utob);\n//\nconst _encode = _hasBuffer\n    ? (s) => Buffer.from(s, 'utf8').toString('base64')\n    : _TE\n        ? (s) => _fromUint8Array(_TE.encode(s))\n        : (s) => _btoa(utob(s));\n/**\n * converts a UTF-8-encoded string to a Base64 string.\n * @param {boolean} [urlsafe] if `true` make the result URL-safe\n * @returns {string} Base64 string\n */\nconst encode = (src, urlsafe = false) => urlsafe\n    ? _mkUriSafe(_encode(src))\n    : _encode(src);\n/**\n * converts a UTF-8-encoded string to URL-safe Base64 RFC4648 §5.\n * @returns {string} Base64 string\n */\nconst encodeURI = (src) => encode(src, true);\n// This trick is found broken https://github.com/dankogai/js-base64/issues/130\n// const btou = (src: string) => decodeURIComponent(escape(src));\n// reverting good old fationed regexp\nconst re_btou = /[\\xC0-\\xDF][\\x80-\\xBF]|[\\xE0-\\xEF][\\x80-\\xBF]{2}|[\\xF0-\\xF7][\\x80-\\xBF]{3}/g;\nconst cb_btou = (cccc) => {\n    switch (cccc.length) {\n        case 4:\n            var cp = ((0x07 & cccc.charCodeAt(0)) << 18)\n                | ((0x3f & cccc.charCodeAt(1)) << 12)\n                | ((0x3f & cccc.charCodeAt(2)) << 6)\n                | (0x3f & cccc.charCodeAt(3)), offset = cp - 0x10000;\n            return (_fromCC((offset >>> 10) + 0xD800)\n                + _fromCC((offset & 0x3FF) + 0xDC00));\n        case 3:\n            return _fromCC(((0x0f & cccc.charCodeAt(0)) << 12)\n                | ((0x3f & cccc.charCodeAt(1)) << 6)\n                | (0x3f & cccc.charCodeAt(2)));\n        default:\n            return _fromCC(((0x1f & cccc.charCodeAt(0)) << 6)\n                | (0x3f & cccc.charCodeAt(1)));\n    }\n};\n/**\n * @deprecated should have been internal use only.\n * @param {string} src UTF-16 string\n * @returns {string} UTF-8 string\n */\nconst btou = (b) => b.replace(re_btou, cb_btou);\n/**\n * polyfill version of `atob`\n */\nconst atobPolyfill = (asc) => {\n    // console.log('polyfilled');\n    asc = asc.replace(/\\s+/g, '');\n    if (!b64re.test(asc))\n        throw new TypeError('malformed base64.');\n    asc += '=='.slice(2 - (asc.length & 3));\n    let u24, bin = '', r1, r2;\n    for (let i = 0; i < asc.length;) {\n        u24 = b64tab[asc.charAt(i++)] << 18\n            | b64tab[asc.charAt(i++)] << 12\n            | (r1 = b64tab[asc.charAt(i++)]) << 6\n            | (r2 = b64tab[asc.charAt(i++)]);\n        bin += r1 === 64 ? _fromCC(u24 >> 16 & 255)\n            : r2 === 64 ? _fromCC(u24 >> 16 & 255, u24 >> 8 & 255)\n                : _fromCC(u24 >> 16 & 255, u24 >> 8 & 255, u24 & 255);\n    }\n    return bin;\n};\n/**\n * does what `window.atob` of web browsers do.\n * @param {String} asc Base64-encoded string\n * @returns {string} binary string\n */\nconst _atob = _hasatob ? (asc) => atob(_tidyB64(asc))\n    : _hasBuffer ? (asc) => Buffer.from(asc, 'base64').toString('binary')\n        : atobPolyfill;\n//\nconst _toUint8Array = _hasBuffer\n    ? (a) => _U8Afrom(Buffer.from(a, 'base64'))\n    : (a) => _U8Afrom(_atob(a), c => c.charCodeAt(0));\n/**\n * converts a Base64 string to a Uint8Array.\n */\nconst toUint8Array = (a) => _toUint8Array(_unURI(a));\n//\nconst _decode = _hasBuffer\n    ? (a) => Buffer.from(a, 'base64').toString('utf8')\n    : _TD\n        ? (a) => _TD.decode(_toUint8Array(a))\n        : (a) => btou(_atob(a));\nconst _unURI = (a) => _tidyB64(a.replace(/[-_]/g, (m0) => m0 == '-' ? '+' : '/'));\n/**\n * converts a Base64 string to a UTF-8 string.\n * @param {String} src Base64 string.  Both normal and URL-safe are supported\n * @returns {string} UTF-8 string\n */\nconst decode = (src) => _decode(_unURI(src));\n/**\n * check if a value is a valid Base64 string\n * @param {String} src a value to check\n  */\nconst isValid = (src) => {\n    if (typeof src !== 'string')\n        return false;\n    const s = src.replace(/\\s+/g, '').replace(/={0,2}$/, '');\n    return !/[^\\s0-9a-zA-Z\\+/]/.test(s) || !/[^\\s0-9a-zA-Z\\-_]/.test(s);\n};\n//\nconst _noEnum = (v) => {\n    return {\n        value: v, enumerable: false, writable: true, configurable: true\n    };\n};\n/**\n * extend String.prototype with relevant methods\n */\nconst extendString = function () {\n    const _add = (name, body) => Object.defineProperty(String.prototype, name, _noEnum(body));\n    _add('fromBase64', function () { return decode(this); });\n    _add('toBase64', function (urlsafe) { return encode(this, urlsafe); });\n    _add('toBase64URI', function () { return encode(this, true); });\n    _add('toBase64URL', function () { return encode(this, true); });\n    _add('toUint8Array', function () { return toUint8Array(this); });\n};\n/**\n * extend Uint8Array.prototype with relevant methods\n */\nconst extendUint8Array = function () {\n    const _add = (name, body) => Object.defineProperty(Uint8Array.prototype, name, _noEnum(body));\n    _add('toBase64', function (urlsafe) { return fromUint8Array(this, urlsafe); });\n    _add('toBase64URI', function () { return fromUint8Array(this, true); });\n    _add('toBase64URL', function () { return fromUint8Array(this, true); });\n};\n/**\n * extend Builtin prototypes with relevant methods\n */\nconst extendBuiltins = () => {\n    extendString();\n    extendUint8Array();\n};\nconst gBase64 = {\n    version: version,\n    VERSION: VERSION,\n    atob: _atob,\n    atobPolyfill: atobPolyfill,\n    btoa: _btoa,\n    btoaPolyfill: btoaPolyfill,\n    fromBase64: decode,\n    toBase64: encode,\n    encode: encode,\n    encodeURI: encodeURI,\n    encodeURL: encodeURI,\n    utob: utob,\n    btou: btou,\n    decode: decode,\n    isValid: isValid,\n    fromUint8Array: fromUint8Array,\n    toUint8Array: toUint8Array,\n    extendString: extendString,\n    extendUint8Array: extendUint8Array,\n    extendBuiltins: extendBuiltins,\n};\n// makecjs:CUT //\nexport { version };\nexport { VERSION };\nexport { _atob as atob };\nexport { atobPolyfill };\nexport { _btoa as btoa };\nexport { btoaPolyfill };\nexport { decode as fromBase64 };\nexport { encode as toBase64 };\nexport { utob };\nexport { encode };\nexport { encodeURI };\nexport { encodeURI as encodeURL };\nexport { btou };\nexport { decode };\nexport { isValid };\nexport { fromUint8Array };\nexport { toUint8Array };\nexport { extendString };\nexport { extendUint8Array };\nexport { extendBuiltins };\n// and finally,\nexport { gBase64 as Base64 };\n","<template>\n  <div>\n    <el-card shadow=\"never\">\n      <div>\n        <el-select v-model=\"namespace\" @click.native=\"getNamespace\" @change=\"selectedNamespace\" style=\"width: 100%\" filterable :placeholder=\"$t('please_select_namespace')\">\n          <el-option\n              v-for=\"item in namespaces\"\n              :label=\"item\"\n              :value=\"item\"\n              :key=\"item\"\n          ></el-option>\n        </el-select>\n      </div>\n      <div style=\"margin-top: 15px\" class=\"table\">\n        <div style=\"float: right; text-align: center;margin-bottom: 20px;\">\n          <el-pagination\n              background\n              @size-change=\"handleSizeChange\"\n              @current-change=\"handleCurrentChange\"\n              :current-page=\"current_page\"\n              :page-sizes=\"page_sizes\"\n              :page-size=\"page_size\"\n              layout=\"total, sizes, prev, pager, next, jumper\"\n              :total=\"total_count\">\n          </el-pagination>\n        </div>\n        <div style=\"float: right;width: 300px;margin-right: 5px;margin-bottom: 10px;margin-top: -5px\" class=\"search-Box\">\n          <el-input  :placeholder=\"$t('keyword_search')\" icon=\"search\"  class=\"search\" suffix-icon=\"el-icon-search\" v-model=\"search_key\"/>\n        </div>\n        <el-table\n            v-tableDrag\n            class=\"app-table\"\n            size=\"medium\"\n            :data=\"table_data.filter(\n                data => !search_key ||\n                data.pod_name.toLowerCase().includes(search_key.toLowerCase()) ||\n                data.node_name.toLowerCase().includes(search_key.toLowerCase()) ||\n                data.host_ip.toLowerCase().includes(search_key.toLowerCase())\n            )\"\n            style=\"width: 100%\"\n            :default-sort=\"{prop: 'pod_name', order: 'ascending'}\"\n          >\n          <el-table-column prop=\"pod_name\" :label=\"$t('pod')\" sortable show-overflow-tooltip min-width=\"400\" fixed=\"left\" :sort-orders=\"['ascending', 'descending']\"></el-table-column>\n          <el-table-column :label=\"$t('state')\" sortable show-overflow-tooltip width=\"100\" :sort-orders=\"['ascending', 'descending']\">\n            <template slot-scope=\"scope\">\n              <el-button v-if=\"scope.row.state === 'Running' || scope.row.state === 'Succeeded'\" type=\"success\"\n                         size=\"mini\" plain round>\n                {{ scope.row.state }}\n              </el-button>\n              <el-button v-if=\"scope.row.state !== 'Running' && scope.row.State !== 'Succeeded'\" type=\"warning\"\n                         size=\"mini\" plain round>\n                {{ scope.row.state }}\n              </el-button>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"Pod IP\"  sortable width=\"110\" :sort-orders=\"['ascending', 'descending']\">\n            <template slot-scope=\"scope\">\n              <span v-for=\"list in scope.row.pod_ips\">{{list.ip}}<br></span>\n            </template>\n          </el-table-column>\n          <el-table-column :label=\"$t('node')\" sortable width=\"220\" :sort-orders=\"['ascending', 'descending']\">\n            <template slot-scope=\"scope\">\n              {{scope.row.node_name}}<br>\n              {{scope.row.host_ip}}\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"create_time\" :label=\"$t('create_time')\" sortable fix width=\"170\" :sort-orders=\"['ascending', 'descending']\"></el-table-column>\n          <el-table-column prop=\"restart_count\" :label=\"$t('restart_count')\" sortable width=\"100\" :sort-orders=\"['ascending', 'descending']\"></el-table-column>\n          <el-table-column prop=\"os\" :label=\"$t('os')\" sortable width=\"100\" :sort-orders=\"['ascending', 'descending']\"></el-table-column>\n          <el-table-column prop=\"arch\" :label=\"$t('arch')\" sortable width=\"120\" :sort-orders=\"['ascending', 'descending']\"></el-table-column>\n          <el-table-column :label=\"$t('operate')\" min-width=\"186\" fixed=\"right\" style=\"text-align: right\" :sort-orders=\"['ascending', 'descending']\">\n            <template v-slot:default=\"{row}\">\n              <el-dropdown style=\"margin-left: 10px\" :hide-on-click=\"false\" v-if=\"row.state === 'Running'\">\n                <el-dropdown-menu></el-dropdown-menu>\n                <el-popover placement=\"left\" trigger=\"hover\">\n                  <div v-for=\"c in row.containers\" :key=\"c.name\">\n                    <p style=\"margin: 0\">\n                      <el-button @click=\"openTerminal(row, c)\" type=\"text\">{{ c.name }}</el-button>\n                    </p>\n                  </div>\n                  <el-dropdown-item slot=\"reference\" icon=\"el-icon-s-fold\">\n                    {{ $t(\"terminal\") }}\n                    <i class=\"el-icon-arrow-right\"/>\n                  </el-dropdown-item>\n                </el-popover>\n                <el-popover placement=\"left\" trigger=\"hover\">\n                  <div v-for=\"c in row.containers\" :key=\"c.name\">\n                    <p style=\"margin: 0\">\n                      <el-button @click=\"openFileBrowser(row, c, '/')\" type=\"text\">{{ c.name }}</el-button>\n                    </p>\n                  </div>\n                  <el-dropdown-item slot=\"reference\" icon=\"el-icon-files\">\n                    {{ $t(\"file_browser\") }}\n                    <i class=\"el-icon-arrow-right\"/>\n                  </el-dropdown-item>\n                </el-popover>\n              </el-dropdown>\n            </template>\n          </el-table-column>\n        </el-table>\n      </div>\n    </el-card>\n    <el-dialog\n        :visible.sync=\"dialog_terminal_visible\"\n        :title=\"$t('terminal')\"\n        center\n        fullscreen\n        :modal=\"false\"\n        :destroy-on-close=\"true\"\n        @opened=\"doOpened\"\n        @close=\"doClose\"\n    >\n      <div style=\"margin-top: -25px;\">\n        <div ref=\"terminal\" />\n      </div>\n    </el-dialog>\n    <el-dialog\n        center\n        fullscreen\n        :title=\"$t('file_browser')\"\n        :visible.sync=\"dialog_file_browser_visible\"\n        @close=\"dialog_file_browser_visible = false\">\n      <div style=\"margin-top: -25px;\">\n        <el-table-header store=\"\">\n          <el-dropdown  type=\"info\" class=\"avatar-container\" trigger=\"click\" style=\"height: 36px; float: right; margin-bottom: 10px;\">\n            <div class=\"avatar-wrapper\">\n              <el-button style=\"width: 90px; height: 30px; margin-right: 6px; padding-top: 7px; padding-left: 14px;\" type=\"success\" round class=\"el-icon-s-tools\" size=\"medium\">\n                {{ $t('create') }}\n                <i class=\"el-icon-caret-bottom\" />\n              </el-button>\n            </div>\n            <el-dropdown-menu slot=\"dropdown\">\n              <el-dropdown-item>\n                <span style=\"display:block;\" @click=\"openFileDialog(global_path, 'create')\">{{ $t('create_file') }}</span>\n              </el-dropdown-item>\n              <el-dropdown-item>\n                <span style=\"display:block;\" @click=\"createDir()\">{{ $t('create_dir') }}</span>\n              </el-dropdown-item>\n            </el-dropdown-menu>\n          </el-dropdown>\n          <el-dropdown type=\"success\" class=\"avatar-container\" trigger=\"click\" style=\"height: 36px;float: right;margin-bottom: 10px;\">\n            <div class=\"avatar-wrapper\">\n              <el-button style=\"width: 90px; height: 30px; margin-right: 6px; padding-top: 7px; padding-left: 14px;\" type=\"success\" round class=\"el-icon-upload\" size=\"medium\">\n                {{ $t('upload') }}\n                <i class=\"el-icon-caret-bottom\" />\n              </el-button>\n            </div>\n            <el-dropdown-menu slot=\"dropdown\">\n              <el-dropdown-item>\n                <span class=\"fake-file-btn\">\n                  {{ $t('upload_file') }}\n                  <input type=\"file\" style=\"display:block;\" v-on:change=\"uploadFileOrDir($event, global_path)\" name=\"files\" multiple=\"true\">\n                </span>\n              </el-dropdown-item>\n              <el-dropdown-item divided>\n                <span class=\"fake-file-btn\">\n                  {{ $t('upload_dir') }}\n                  <input type=\"file\" style=\"display:block;\" v-on:change=\"uploadFileOrDir($event, global_path)\" name=\"files\" webkitdirectory mozdirectory accept=\"*/*\">\n                </span>\n              </el-dropdown-item>\n            </el-dropdown-menu>\n          </el-dropdown>\n          <el-dropdown type=\"primary\" class=\"el-upload avatar-container\" trigger=\"click\" style=\"height: 36px;float: right;margin-bottom: 10px;\">\n            <div class=\"avatar-wrapper\">\n              <el-button style=\"width: 120px; height: 30px; margin-right: 6px; padding-top: 7px; padding-left: 14px;\" type=\"primary\" round class=\"el-icon-download\" size=\"medium\">\n                {{ $t('bulk_download') }}\n                <i class=\"el-icon-caret-bottom\" />\n              </el-button>\n            </div>\n            <el-dropdown-menu slot=\"dropdown\">\n              <el-dropdown-item>\n                <span style=\"display:block;\" @click=\"bulkDownload(bulk_path, 'tar')\">TAR{{ $t('download') }}</span>\n              </el-dropdown-item>\n              <el-dropdown-item divided>\n                <span style=\"display:block;\" @click=\"bulkDownload(bulk_path, 'zip')\">ZIP{{ $t('download') }}</span>\n              </el-dropdown-item>\n            </el-dropdown-menu>\n          </el-dropdown>\n          &nbsp;&nbsp;&nbsp;&nbsp;\n          <div style=\"float: right;width: 300px;margin-right: 5px;margin-bottom: 10px; margin-top: -5px\" class=\"search-Box\">\n            <el-input  :placeholder=\"$t('keyword_search')\" icon=\"search\"  class=\"search\" suffix-icon=\"el-icon-search\" v-model=\"search_key\"/>\n          </div>\n          &nbsp;&nbsp;&nbsp;&nbsp;\n          <ul>\n            <li style=\"float: left; margin-top: 10px; list-style: none;\" v-for=\"(item) in header_paths\">\n              <a style=\"margin-right: 5px; font-size: 16px\" class=\"el-icon-folder-opened\" @click=\"openFileBrowser(null, null, item.path)\">{{item.name}}</a>\n            </li>\n          </ul>\n          &nbsp;&nbsp;&nbsp;&nbsp;\n          <span style=\"float: left;\">\n            <el-button type=\"info\" style=\"padding: 3px;margin-top: 8px;\" icon=\"el-icon-refresh\" circle @click=\"openFileBrowser(null,null, path)\"></el-button>\n          </span>\n        </el-table-header>\n        <el-table\n            v-tableDrag\n            id=\"table_data\"\n            class=\"app-table\"\n            border\n            style=\"width: 100%\"\n            size=\"100%\"\n            :cell-style=\"{padding:'6px 0'}\"\n            :data=\"file_browser_data.filter(\n                data => !search_key ||\n                data.Name.toLowerCase().includes(search_key.toLowerCase())\n            )\"\n            @selection-change=\"handleSelectionChange\"\n            :default-sort=\"{prop: 'Name', order: 'ascending'}\">\n          <el-table-column type=\"selection\" fixed=\"left\"></el-table-column>\n          <el-table-column\n              fixed=\"left\"\n              min-width=\"80px\"\n              prop=\"Name\"\n              :label=\"$t('name')\"\n              sortable\n              :sort-orders=\"['ascending', 'descending']\"\n          >\n            <template slot-scope=\"scope\">\n              <div class=\"el-icon-folder\" v-if=\"scope.row.IsDir\" @click=\"openFileBrowser(null,null, scope.row.Path)\">&nbsp;&nbsp;{{scope.row.Name}}</div>\n              <div class=\"el-icon-files\" v-else>\n                <span v-if=\"scope.row.Size > 10240\" @click=\"download(scope.row.Path, 'zip')\">{{scope.row.Name}}</span>\n                <span v-else @click=\"openFileDialog(scope.row.Path, 'open')\">{{scope.row.Name}}</span>\n              </div>\n            </template>\n          </el-table-column>\n          <el-table-column\n              prop=\"Size\"\n              :label=\"$t('size')\"\n              sortable\n              :sort-orders=\"['ascending', 'descending']\"\n          >\n          </el-table-column>\n          <el-table-column\n              prop=\"Mode\"\n              :label=\"$t('mode')\"\n          >\n          </el-table-column>\n          <el-table-column\n              prop=\"ModTime\"\n              :label=\"$t('mod_time')\"\n              sortable\n              :sort-orders=\"['ascending', 'descending']\"\n          >\n          </el-table-column>\n          <el-table-column\n              fixed=\"right\"\n              prop=\"Download\"\n              :label=\"$t('operate')\" align=\"center\"\n          >\n            <template slot-scope=\"scope\">\n              <el-dropdown type=\"info\" class=\"avatar-container\" trigger=\"click\" style=\"height: 36px;font-size: 9px\">\n                <div class=\"avatar-wrapper\">\n                  <el-button style=\"width: 90px; height: 30px; margin-top: 4px; margin-right: 6px; padding-top: 7px; padding-left: 14px;\" type=\"success\" round class=\"el-icon-s-tools\" size=\"medium\">\n                    {{ $t('operate') }}\n                    <i class=\"el-icon-caret-bottom\" />\n                  </el-button>\n                </div>\n                <el-dropdown-menu slot=\"dropdown\">\n                  <el-dropdown-item v-if=\"!scope.row.IsDir\">\n                    <span v-if=\"scope.row.Size > 10240\" @click=\"download(scope.row.Path, 'zip')\">{{ $t('download') }}</span>\n                    <span v-else class=\"fake-file-btn\" @click=\"openFileDialog(scope.row.Path, 'open')\">{{ $t('change') }}</span>\n                  </el-dropdown-item>\n                  <el-dropdown-item>\n                    <span class=\"fake-file-btn\" @click=\"openRenameDialog(scope.row.Name)\">{{ $t('rename') }}</span>\n                  </el-dropdown-item>\n                  <el-dropdown-item>\n                    <span class=\"fake-file-btn\" @click=\"removeFileOrDir(scope.row.Path)\">{{ $t('remove') }}</span>\n                  </el-dropdown-item>\n                </el-dropdown-menu>\n              </el-dropdown>\n              <span>\n                &nbsp;&nbsp;\n              </span>\n              <el-dropdown v-if=\"scope.row.IsDir\" type=\"success\" class=\"avatar-container\" trigger=\"click\" style=\"height: 36px;font-size: 9px\">\n                <div class=\"avatar-wrapper\">\n                  <el-button style=\"width: 90px; height: 30px; margin-top: 4px; margin-right: 6px; padding-top: 7px; padding-left: 14px;\" type=\"success\" round class=\"el-icon-upload\" size=\"medium\">\n                    {{ $t('upload') }}\n                    <i class=\"el-icon-caret-bottom\" />\n                  </el-button>\n                </div>\n                <el-dropdown-menu slot=\"dropdown\">\n                  <el-dropdown-item>\n                    <span class=\"fake-file-btn\">\n                      {{ $t('upload_file') }}\n                      <input type=\"file\" style=\"display:block;\" v-on:change=\"uploadFileOrDir($event, scope.row.Path)\" name=\"files\" multiple=\"true\">\n                    </span>\n                  </el-dropdown-item>\n                  <el-dropdown-item divided>\n                    <span class=\"fake-file-btn\">\n                      {{ $t('upload_dir') }}\n                      <input type=\"file\" style=\"display:block;\" v-on:change=\"uploadFileOrDir($event, scope.row.Path)\" name=\"files\" webkitdirectory mozdirectory accept=\"*/*\">\n                    </span>\n                  </el-dropdown-item>\n                </el-dropdown-menu>\n              </el-dropdown>\n              <span>\n                &nbsp;&nbsp;\n              </span>\n              <el-dropdown type=\"primary\" class=\"avatar-container\" trigger=\"click\" style=\"height: 36px;font-size: 9px\">\n                <div class=\"avatar-wrapper\">\n                  <el-button style=\"width: 90px; height: 30px; margin-top: 4px; margin-right: 6px; padding-top: 7px; padding-left: 14px;\" type=\"primary\" round class=\"el-icon-download\" size=\"medium\">\n                    {{ $t('download') }}\n                    <i class=\"el-icon-caret-bottom\" />\n                  </el-button>\n                </div>\n                <el-dropdown-menu slot=\"dropdown\">\n                  <el-dropdown-item>\n                    <span style=\"display:block;\" @click=\"download(scope.row.Path, 'tar')\">TAR{{ $t('download') }}</span>\n                  </el-dropdown-item>\n                  <el-dropdown-item divided>\n                    <span style=\"display:block;\" @click=\"download(scope.row.Path, 'zip')\">ZIP{{ $t('download') }}</span>\n                  </el-dropdown-item>\n                </el-dropdown-menu>\n              </el-dropdown>\n            </template>\n          </el-table-column>\n        </el-table>\n      </div>\n    </el-dialog>\n    <el-dialog\n        :append-to-body=\"true\"\n        :with-header=\"false\"\n        width=\"80%\"\n        :title=\"$t('file')\"\n        :visible.sync=\"dialog_file_visible\"\n        @close=\"dialog_file_visible = false\">\n      <div style=\"margin-top: -45px\">\n        <span style=\"display:block; float: left;font-size: 25px;margin-top: 20px; margin-left: 12px\">{{create_for_path}}</span>\n        <el-input v-if=\"is_new_file\" v-model=\"create_name\" size=\"small\" style=\"margin-top: 17px; margin-left: 6px;float: left; width: auto;\" autocomplete=\"off\" :placeholder=\"$t('please_input_name')\"></el-input>\n        <el-button @click.native=\"saveFile\" style=\"float: right;margin-right: 12px;margin-top: 12px\">{{ $t('enter') }}</el-button>\n        <el-input v-model=\"fileContent\" rows=\"15\" type=\"textarea\" style=\"margin-top: 15px\" :placeholder=\"$t('please_input_content')\"></el-input>\n        <!--        style=\"margin-top: 15px;margin-bottom: 60px;padding-bottom: 70px;height: 600px;\"-->\n        <!--        <quill-editor-->\n        <!--            style=\"margin-top: 15px;height: 100%\"-->\n        <!--            v-model=\"fileContent\"-->\n        <!--            :options=\"editor_option\">-->\n        <!--        </quill-editor>-->\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n\n<style>\n.fake-file-btn {\n}\n.fake-file-btn:active {\n  box-shadow: 0 1px 5px 1px rgba(0, 255, 255, 0.3) inset;\n}\n.fake-file-btn input[type=file] {\n  position: absolute;\n  font-size: 100px;\n  right: 0;\n  top: 0;\n  opacity: 0;\n  filter: alpha(opacity=0);\n  cursor: pointer\n}\n</style>\n\n<script>\nimport {Download, BulkDownload, GetNamespace, GetPods, Upload,} from '../api/kubeapiproxy'\nimport {\n  FileBrowserCreateDir,\n  FileBrowserCreateFile,\n  FileBrowserList,\n  FileBrowserOpen,\n  FileBrowserRemove,\n  FileBrowserRename,\n} from \"../api/filebrowser\";\nimport {Terminal} from 'xterm'\nimport * as fit from 'xterm/lib/addons/fit/fit'\nimport {Base64} from 'js-base64'\nimport * as webLinks from 'xterm/lib/addons/webLinks/webLinks'\nimport * as search from 'xterm/lib/addons/search/search'\nimport 'xterm/lib/addons/fullscreen/fullscreen.css'\nimport 'xterm/dist/xterm.css'\n\nconst toolbar_options = [\n  [\"bold\", \"italic\", \"underline\", \"strike\"], // 加粗 斜体 下划线 删除线\n  [\"blockquote\", \"code-block\"], // 引用  代码块\n  [{ header: 1 }, { header: 2 }], // 1、2 级标题\n  [{ list: \"ordered\" }, { list: \"bullet\" }], // 有序、无序列表\n  [{ script: \"sub\" }, { script: \"super\" }], // 上标/下标\n  [{ indent: \"-1\" }, { indent: \"+1\" }], // 缩进\n  // [{'direction': 'rtl'}],                         // 文本方向\n  [{ size: [\"small\", false, \"large\", \"huge\"] }], // 字体大小\n  [{ header: [1, 2, 3, 4, 5, 6, false] }], // 标题\n  [{ color: [] }, { background: [] }], // 字体颜色、字体背景颜色\n  [{ font: [] }], // 字体种类\n  [{ align: [] }], // 对齐方式\n  [\"clean\"], // 清除文本格式\n  [\"link\"] // 链接、图片\n];\n\nconst defaultTheme = {\n  foreground: '#ffffff', // 字体\n  background: '#1b212f', // 背景色\n  cursor: '#ffffff', // 设置光标\n  selection: 'rgba(255, 255, 255, 0.3)',\n  black: '#000000',\n  brightBlack: '#808080',\n  red: '#ce2f2b',\n  brightRed: '#f44a47',\n  green: '#00b976',\n  brightGreen: '#05d289',\n  yellow: '#e0d500',\n  brightYellow: '#f4f628',\n  magenta: '#bd37bc',\n  brightMagenta: '#d86cd8',\n  blue: '#1d6fca',\n  brightBlue: '#358bed',\n  cyan: '#00a8cf',\n  brightCyan: '#19b8dd',\n  white: '#e5e5e5',\n  brightWhite: '#ffffff'\n}\nconst bindTerminalResize = (term, websocket) => {\n  const onTermResize = size => {\n    websocket.send(\n        Base64.encode(\n            JSON.stringify({\n              type: 'resize',\n              rows: size.rows,\n              cols: size.cols\n            })\n        )\n    )\n  }\n  // register resize event.\n  term.on('resize', onTermResize)\n  // unregister resize event when WebSocket closed.\n  websocket.addEventListener('close', function() {\n    term.off('resize', onTermResize)\n  })\n}\nconst bindTerminal = (term, websocket, bidirectional, bufferedTime) => {\n  term.socket = websocket\n  let messageBuffer = null\n  const handleWebSocketMessage = function(ev) {\n    if (bufferedTime && bufferedTime > 0) {\n      if (messageBuffer) {\n        messageBuffer += Base64.decode(ev.data)\n      } else {\n        messageBuffer = Base64.decode(ev.data)\n        setTimeout(function() {\n          term.write(messageBuffer)\n        }, bufferedTime)\n      }\n    } else {\n      term.write(Base64.decode(ev.data))\n    }\n  }\n  const handleTerminalData = function(data) {\n    websocket.send(\n        Base64.encode(\n            JSON.stringify({\n              type: 'input',\n              input: data\n            })\n        )\n    )\n  }\n  websocket.onmessage = handleWebSocketMessage\n  if (bidirectional) {\n    term.on('data', handleTerminalData)\n  }\n  // send heartbeat package to avoid closing webSocket connection in some proxy environmental such as nginx.\n  const heartBeatTimer = setInterval(function() {\n    websocket.send(\n        Base64.encode(\n            JSON.stringify({\n              type: 'heartbeat',\n              data: ''\n            })\n        )\n    )\n    // websocket.send('1')\n  }, 20 * 1000)\n  websocket.addEventListener('close', function() {\n    websocket.removeEventListener('message', handleWebSocketMessage)\n    term.off('data', handleTerminalData)\n    delete term.socket\n    clearInterval(heartBeatTimer)\n  })\n}\n\nexport default {\n  data() {\n    return {\n      namespace: \"\",\n      namespaces: [],\n      table_data: [],\n      table_datas: {},\n      pods: [],\n      file_browser_data: [],\n      continue: \"\",\n      total_count: 0,\n      page_sizes: [10, 30, 50, 100, 150, 200],\n      page_size: 10,\n      current_page: 1,\n      pod_name: \"\",\n      container:\"\",\n      path: \"\",\n      bulk_path: [],\n      global_path: \"\",\n      header_paths: [],\n      dialog_terminal_visible: false,\n      dialog_file_browser_visible: false,\n      dialog_file_visible: false,\n      ws_url: \"\",\n      search_key: '',\n      v: this.visible,\n      ws: null,\n      term: null,\n      thisV: this.visible,\n      create_for_path: \"\",\n      create_name: \"\",\n      fileContent: \"\",\n      is_new_file: false,\n      editor_option: {\n        theme: \"snow\", // or 'bubble'\n        modules: {\n          toolbar: {\n            container: toolbar_options,\n          }\n        }\n      },\n    }\n  },\n  methods: {\n    getNamespace() {\n      GetNamespace().then(res =>{\n        if (res) {\n          this.namespaces = []\n          const data = res.items\n          for(const key in data){\n            this.namespaces.push(data[key].metadata.name)\n          }\n        }\n      })\n    },\n    // 分页\n    // 每页显示的条数\n    handleSizeChange(val) {\n      // 改变每页显示的条数\n      this.page_size=val\n      if (this.namespace !== \"\") {\n        // 点击每页显示的条数时，显示第一页\n        this.selectedNamespace(this.namespace)\n        // 注意：在改变每页显示的条数时，要将页码显示到第一页\n        this.current_page=1\n      }\n    },\n    // 显示第几页\n    handleCurrentChange(val) {\n      // 改变默认的页数\n      this.current_page=val\n      this.table_data = this.table_datas[val]\n    },\n    selectedNamespace(options) {\n      this.pods = []\n      this.table_data = []\n      this.continue = \"\"\n      this.namespace = options\n      // 处理第一页\n      GetPods({namespace: options, limit: this.page_size}).then(async res => {\n        this.total_count = res.metadata.remainingItemCount\n        this.table_datas[1] = this.getTableData(res)\n        if (this.total_count === null || this.total_count === undefined) {\n          this.total_count = 0\n          if (res.metadata.continue === null || res.metadata.continue === undefined) {\n            this.total_count = this.table_datas[1].length\n          }else {\n            this.total_count += this.page_size+1\n          }\n        } else {\n          this.total_count += this.page_size\n        }\n        // 处理剩余页面\n        for (let i = 1; i < Math.ceil(this.total_count / this.page_size); i++) {\n          await GetPods({namespace: options, limit: this.page_size, continue: this.continue}).then(res => {\n            this.table_datas[i+1] = this.getTableData(res)\n          })\n        }\n        this.table_data = this.table_datas[1]\n      }, err => {\n        this.$message.error(err.message)\n      })\n    },\n    getTableData (res) {\n      this.continue = res.metadata.continue\n      let table_data = []\n      for (const i in res.items) {\n        const pod = res.items[i]\n        let tr = {\n          namespace: pod.metadata.namespace,\n          pod_name: pod.metadata.name,\n          state: pod.status.phase,\n          os: pod.metadata.annotations.os,\n          arch: pod.metadata.annotations.arch,\n          create_time: pod.metadata.creationTimestamp,\n          pod_ips: pod.status.podIPs,\n          node_name: pod.spec.nodeName,\n          host_ip: pod.status.hostIP,\n          containers: pod.spec.containers,\n          restart_count: this.getRestartTimes(pod),\n        }\n        table_data.push(tr)\n      }\n      return table_data\n    },\n    getRestartTimes (row) {\n      if (row.status.containerStatuses) {\n        let restartCount = 0\n        for (const c of row.status.containerStatuses) {\n          restartCount += c.restartCount\n        }\n        return restartCount\n      }\n      return 0\n    },\n    openTerminal(options, container) {\n      let shell = \"sh\"\n      if (options.os === \"windows\") {\n        shell = \"cmd\"\n      }\n      this.dialog_terminal_visible = true\n      this.ws_url = \"ws://\"+window.location.host+\"/api/kubeapiproxy/terminal?namespace=\"+this.namespace+\"&pod=\"+options.pod_name+\"&container=\"+container.name+\"&shell=\"+shell;\n    },\n    openFileBrowser(options, container, path) {\n      if (path === undefined) {\n        path = \"/\"\n      }\n      if (path === \"/\" && options !== null) {\n        this.pod_name = options.pod_name\n      }\n      if (container != null) {\n        this.container = container.name\n      }\n      this.header_paths = []\n      this.global_path=path\n      this.header_paths.push(path)\n      if (path !== undefined) {\n        let _p = path.split('/')\n        let _pa = \"\"\n        this.header_paths = []\n        _p.forEach((item,index) => {\n          if (index === 0) {\n            _pa = \"/\"\n            item = \"/\"\n            this.header_paths.push({\n              name: item,\n              path: _pa,\n            })\n          }\n          if (index !== 0 && item !== \"\") {\n            _pa += item + \"/\"\n            this.header_paths.push({\n              name: item,\n              path: _pa,\n            })\n          }\n        })\n      }\n      this.path = path\n      this.file_browser_data = []\n      FileBrowserList({\n        namespace: this.namespace,\n        pod: this.pod_name,\n        container: this.container,\n        path: path,\n      }).then(res => {\n        this.dialog_file_browser_visible = true\n        this.file_browser_data = []\n        if (res !== undefined) {\n          this.file_browser_data = res\n        }\n      }, err => {\n        this.$message.error(err.message)\n      })\n    },\n    openFileDialog(path, type) {\n      this.fileContent = \"\"\n      this.dialog_file_visible=true\n      this.create_for_path = path\n      this.is_new_file = true\n      if (type === \"open\") {\n        this.is_new_file = false\n        this.create_name = \"\"\n        FileBrowserOpen({\n          namespace: this.namespace,\n          pod: this.pod_name,\n          container: this.container,\n          path: path,\n        }).then(res => {\n          console.log(res)\n          if (res !== undefined) {\n            this.fileContent = res\n          }\n        }, err => {\n          this.dialog_file_visible=false\n          this.$message.error(err.message)\n        })\n      }\n    },\n    saveFile() {\n      let path = this.create_for_path+\"/\"+this.create_name\n      if (this.create_name === \"\") {\n        path = this.create_for_path\n      }\n      FileBrowserCreateFile(this.fileContent, {\n        namespace: this.namespace,\n        pod: this.pod_name,\n        container: this.container,\n        path: path,\n      }).then(res => {\n        console.log(res)\n        if (res !== undefined) {\n          this.dialog_file_visible = false\n          this.fileContent = \"\"\n          this.create_name = \"\"\n          this.$message.success(res)\n          this.openFileBrowser(null, null, this.path)\n        }\n      }, err => {\n        this.$message.error(err.message)\n      })\n    },\n    createDir() {\n      this.$prompt(this.$t('please_input_name'), this.$t('tips'), {\n        confirmButtonText: this.$t('enter'),\n        cancelButtonText: this.$t('cancel'),\n        type: 'warning'\n      }).then(({value}) => {\n        if(!value) {//对输入内容校验\n          return this.$t('please_input_name');\n        }\n        FileBrowserCreateDir({\n          namespace: this.namespace,\n          pod: this.pod_name,\n          container: this.container,\n          path: this.path+\"/\"+value,\n        }).then(res => {\n          if (res !== undefined) {\n            this.$message.success(res)\n            this.openFileBrowser(null, null, this.path)\n          }\n        }, err => {\n          this.$message.error(err.message)\n        })\n      }).catch(() => {\n        this.$message.info(this.$t('cancel'))\n      });\n    },\n    openRenameDialog(oldName) {\n      this.$prompt(this.$t('please_input_name')+\"\\n\"+oldName, this.$t('tips'), {\n        confirmButtonText: this.$t('enter'),\n        cancelButtonText: this.$t('cancel'),\n        type: 'warning'\n      }).then(({value}) => {\n        if(!value) {//对输入内容校验\n          return this.$t('please_input_name');\n        }\n        FileBrowserRename({\n          namespace: this.namespace,\n          pod: this.pod_name,\n          container: this.container,\n          old_path: this.path+\"/\"+oldName,\n          path: this.path+\"/\"+value,\n        }).then(res => {\n          console.log(res)\n          if (res !== undefined) {\n            this.$message.success(res)\n            this.openFileBrowser(null, null, this.path)\n          }\n        }, err => {\n          this.$message.error(err.message)\n        })\n      }).catch(() => {\n        this.$message.info(this.$t('cancel'))\n      });\n    },\n    removeFileOrDir(path) {\n      this.$confirm(this.$t('tips_msg')+\"\\n\"+path, this.$t('tips'), {\n        confirmButtonText: this.$t('enter'),\n        cancelButtonText: this.$t('cancel'),\n        type: 'warning'\n      }).then(() => {\n        FileBrowserRemove({\n          namespace: this.namespace,\n          pod: this.pod_name,\n          container: this.container,\n          path: path,\n        }).then(res => {\n          console.log(res)\n          if (res !== undefined) {\n            this.$message.success(res)\n            this.openFileBrowser(null, null, this.path)\n          }\n        }, err => {\n          this.$message.error(err.message)\n        })\n      }).catch(() => {\n        this.$message.info(this.$t('cancel'))\n      });\n    },\n    handleSelectionChange(val) {\n      this.bulk_path = []\n      val.forEach((item) => {\n        this.bulk_path.push(item.Path)\n      })\n    },\n    download(path, style) {\n      const exportUrl = `/api/kubeapiproxy/download?namespace=${this.namespace}&pod=${this.pod_name}&container=${this.container}&dest_paths=${path}&style=${style}`\n      window.open(exportUrl, '_blank');\n      // Download({namespace: this.namespace, pod: this.pod_name, container: this.container, dest_paths: path, style: style}).then(res=>{})\n    },\n    bulkDownload(paths, style) {\n      if (paths.length === 0) {\n        this.$message.error(this.$t('cannot_empty'))\n        return\n      }\n      let path = \"\"\n      paths.forEach(item => {\n        path += \"&dest_paths=\"+item\n      })\n      const exportUrl = `/api/kubeapiproxy/download?namespace=${this.namespace}&pod=${this.pod_name}&container=${this.container}${path}&style=${style}`\n      window.open(exportUrl, '_blank');\n      // BulkDownload(`namespace=${this.namespace}&pod=${this.pod_name}&container=${this.container}${path}&style=${style}`).then(res=>{})\n    },\n    uploadFileOrDir(e, path) {\n      const files = e.target.files;\n      if (files.length === 0 ) {\n        e.target.value = \"\"\n        return\n      }\n      const formData = new FormData();\n      //追加文件数据\n      for (let i = 0; i < files.length; i++) {\n        formData.append(\"files\", files[i]);\n      }\n      Upload(formData, {\n        namespace:this.namespace,\n        pod:this.pod_name,\n        containers:this.container,\n        dest_path:path},{\"Content-Type\":\"multipart/form-data\"}).then((res) => {\n          this.openFileBrowser(null, null, path)\n          this.$prompt(res, this.$t('tips'), {\n            confirmButtonText: this.$t('enter'),\n            cancelButtonText: this.$t('cancel'),\n            showInput: false,\n            type: 'success'\n          })\n      }, (err) => {\n        this.$message.error(err.message)\n      })\n      e.target.value = \"\"\n    },\n\n    onWindowResize() {\n      // console.log(\"resize\")\n      // this.term.fit() // it will make terminal resized.\n      // this.term.scrollToBottom();\n      let height = document.body.clientHeight;\n      let rows = height/23;\n      this.term.fit();\n      this.term.resize(this.term.cols,parseInt(rows))//终端窗口重新设置大小 并触发term.on(\"resize\"\n      this.term.scrollToBottom();\n    },\n    doLink(ev, url) {\n      if (ev.type === 'click') {\n        window.open(url)\n      }\n    },\n    doClose() {\n      window.removeEventListener('resize', this.onWindowResize)\n      // term.off(\"resize\", this.onTerminalResize);\n      if (this.ws) {\n        this.ws.close()\n      }\n      if (this.term) {\n        this.term.dispose()\n      }\n      this.$emit('pclose', false)// 子组件对openStatus修改后向父组件发送事件通知\n    },\n    doOpened() {\n      Terminal.applyAddon(fit)\n      Terminal.applyAddon(webLinks)\n      Terminal.applyAddon(search)\n      this.term = new Terminal({\n        rendererType: 'canvas', // 渲染类型\n        rows: parseInt(document.body.clientHeight/23),\n        cols: parseInt(document.body.clientWidth),\n        convertEol: true, // 启用时，光标将设置为下一行的开头\n        // scrollback: 10, // 终端中的回滚量\n        disableStdin: false, // 是否应禁用输入\n        fontSize: 18,\n        cursorBlink: true, // 光标闪烁\n        cursorStyle: 'bar', // 光标样式 underline\n        bellStyle: 'sound',\n        theme: defaultTheme\n      })\n      this.term._initialized = true\n      this.term.prompt = () => {\n        this.term.write('\\r\\n')\n      }\n      this.term.prompt()\n      this.term.on('key', function(key, ev) {\n        console.log(key, ev, ev.keyCode)\n      })\n      this.term.open(this.$refs.terminal)\n      this.term.webLinksInit(this.doLink)\n      // term.on(\"resize\", this.onTerminalResize);\n      this.term.on('resize', this.onWindowResize)\n      window.addEventListener('resize', this.onWindowResize)\n      this.term.fit() // first resizing\n      this.ws = new WebSocket(this.ws_url)\n      this.ws.onerror = () => {\n        this.$message.error(this.$t('web_socker_connection_failed'))\n      }\n      this.ws.onclose = () => {\n        this.term.setOption('cursorBlink', false)\n        this.$message(this.$t('web_socket_disconnect'))\n      }\n      bindTerminal(this.term, this.ws, true, -1)\n      bindTerminalResize(this.term, this.ws)\n    }\n  },\n  watch:{\n    visible(val) {\n      this.v = val// 新增result的watch，监听变更并同步到myResult上\n    }\n  },\n  created:function (){\n    this.getNamespace()\n  },\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??clonedRuleSet-40[0].rules[0].use[0]!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].rules[0].use[0]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./dashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??clonedRuleSet-40[0].rules[0].use[0]!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].rules[0].use[0]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./dashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dashboard.vue?vue&type=template&id=138e0a8f&\"\nimport script from \"./dashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./dashboard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./dashboard.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Strings = require(\"./Strings\");\nvar Platform_1 = require(\"./common/Platform\");\nvar RenderDebouncer_1 = require(\"./ui/RenderDebouncer\");\nvar Lifecycle_1 = require(\"./ui/Lifecycle\");\nvar Lifecycle_2 = require(\"./common/Lifecycle\");\nvar ScreenDprMonitor_1 = require(\"./ui/ScreenDprMonitor\");\nvar MAX_ROWS_TO_READ = 20;\nvar AccessibilityManager = (function (_super) {\n    __extends(AccessibilityManager, _super);\n    function AccessibilityManager(_terminal, _dimensions) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._dimensions = _dimensions;\n        _this._liveRegionLineCount = 0;\n        _this._charsToConsume = [];\n        _this._charsToAnnounce = '';\n        _this._accessibilityTreeRoot = document.createElement('div');\n        _this._accessibilityTreeRoot.classList.add('xterm-accessibility');\n        _this._rowContainer = document.createElement('div');\n        _this._rowContainer.classList.add('xterm-accessibility-tree');\n        _this._rowElements = [];\n        for (var i = 0; i < _this._terminal.rows; i++) {\n            _this._rowElements[i] = _this._createAccessibilityTreeNode();\n            _this._rowContainer.appendChild(_this._rowElements[i]);\n        }\n        _this._topBoundaryFocusListener = function (e) { return _this._onBoundaryFocus(e, 0); };\n        _this._bottomBoundaryFocusListener = function (e) { return _this._onBoundaryFocus(e, 1); };\n        _this._rowElements[0].addEventListener('focus', _this._topBoundaryFocusListener);\n        _this._rowElements[_this._rowElements.length - 1].addEventListener('focus', _this._bottomBoundaryFocusListener);\n        _this._refreshRowsDimensions();\n        _this._accessibilityTreeRoot.appendChild(_this._rowContainer);\n        _this._renderRowsDebouncer = new RenderDebouncer_1.RenderDebouncer(_this._renderRows.bind(_this));\n        _this._refreshRows();\n        _this._liveRegion = document.createElement('div');\n        _this._liveRegion.classList.add('live-region');\n        _this._liveRegion.setAttribute('aria-live', 'assertive');\n        _this._accessibilityTreeRoot.appendChild(_this._liveRegion);\n        _this._terminal.element.insertAdjacentElement('afterbegin', _this._accessibilityTreeRoot);\n        _this.register(_this._renderRowsDebouncer);\n        _this.register(_this._terminal.onResize(function (e) { return _this._onResize(e.rows); }));\n        _this.register(_this._terminal.onRender(function (e) { return _this._refreshRows(e.start, e.end); }));\n        _this.register(_this._terminal.onScroll(function () { return _this._refreshRows(); }));\n        _this.register(_this._terminal.addDisposableListener('a11y.char', function (char) { return _this._onChar(char); }));\n        _this.register(_this._terminal.onLineFeed(function () { return _this._onChar('\\n'); }));\n        _this.register(_this._terminal.addDisposableListener('a11y.tab', function (spaceCount) { return _this._onTab(spaceCount); }));\n        _this.register(_this._terminal.onKey(function (e) { return _this._onKey(e.key); }));\n        _this.register(_this._terminal.addDisposableListener('blur', function () { return _this._clearLiveRegion(); }));\n        _this._screenDprMonitor = new ScreenDprMonitor_1.ScreenDprMonitor();\n        _this.register(_this._screenDprMonitor);\n        _this._screenDprMonitor.setListener(function () { return _this._refreshRowsDimensions(); });\n        _this.register(Lifecycle_1.addDisposableDomListener(window, 'resize', function () { return _this._refreshRowsDimensions(); }));\n        return _this;\n    }\n    AccessibilityManager.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._terminal.element.removeChild(this._accessibilityTreeRoot);\n        this._rowElements.length = 0;\n    };\n    AccessibilityManager.prototype._onBoundaryFocus = function (e, position) {\n        var boundaryElement = e.target;\n        var beforeBoundaryElement = this._rowElements[position === 0 ? 1 : this._rowElements.length - 2];\n        var posInSet = boundaryElement.getAttribute('aria-posinset');\n        var lastRowPos = position === 0 ? '1' : \"\" + this._terminal.buffer.lines.length;\n        if (posInSet === lastRowPos) {\n            return;\n        }\n        if (e.relatedTarget !== beforeBoundaryElement) {\n            return;\n        }\n        var topBoundaryElement;\n        var bottomBoundaryElement;\n        if (position === 0) {\n            topBoundaryElement = boundaryElement;\n            bottomBoundaryElement = this._rowElements.pop();\n            this._rowContainer.removeChild(bottomBoundaryElement);\n        }\n        else {\n            topBoundaryElement = this._rowElements.shift();\n            bottomBoundaryElement = boundaryElement;\n            this._rowContainer.removeChild(topBoundaryElement);\n        }\n        topBoundaryElement.removeEventListener('focus', this._topBoundaryFocusListener);\n        bottomBoundaryElement.removeEventListener('focus', this._bottomBoundaryFocusListener);\n        if (position === 0) {\n            var newElement = this._createAccessibilityTreeNode();\n            this._rowElements.unshift(newElement);\n            this._rowContainer.insertAdjacentElement('afterbegin', newElement);\n        }\n        else {\n            var newElement = this._createAccessibilityTreeNode();\n            this._rowElements.push(newElement);\n            this._rowContainer.appendChild(newElement);\n        }\n        this._rowElements[0].addEventListener('focus', this._topBoundaryFocusListener);\n        this._rowElements[this._rowElements.length - 1].addEventListener('focus', this._bottomBoundaryFocusListener);\n        this._terminal.scrollLines(position === 0 ? -1 : 1);\n        this._rowElements[position === 0 ? 1 : this._rowElements.length - 2].focus();\n        e.preventDefault();\n        e.stopImmediatePropagation();\n    };\n    AccessibilityManager.prototype._onResize = function (rows) {\n        this._rowElements[this._rowElements.length - 1].removeEventListener('focus', this._bottomBoundaryFocusListener);\n        for (var i = this._rowContainer.children.length; i < this._terminal.rows; i++) {\n            this._rowElements[i] = this._createAccessibilityTreeNode();\n            this._rowContainer.appendChild(this._rowElements[i]);\n        }\n        while (this._rowElements.length > rows) {\n            this._rowContainer.removeChild(this._rowElements.pop());\n        }\n        this._rowElements[this._rowElements.length - 1].addEventListener('focus', this._bottomBoundaryFocusListener);\n        this._refreshRowsDimensions();\n    };\n    AccessibilityManager.prototype._createAccessibilityTreeNode = function () {\n        var element = document.createElement('div');\n        element.setAttribute('role', 'listitem');\n        element.tabIndex = -1;\n        this._refreshRowDimensions(element);\n        return element;\n    };\n    AccessibilityManager.prototype._onTab = function (spaceCount) {\n        for (var i = 0; i < spaceCount; i++) {\n            this._onChar(' ');\n        }\n    };\n    AccessibilityManager.prototype._onChar = function (char) {\n        var _this = this;\n        if (this._liveRegionLineCount < MAX_ROWS_TO_READ + 1) {\n            if (this._charsToConsume.length > 0) {\n                var shiftedChar = this._charsToConsume.shift();\n                if (shiftedChar !== char) {\n                    this._charsToAnnounce += char;\n                }\n            }\n            else {\n                this._charsToAnnounce += char;\n            }\n            if (char === '\\n') {\n                this._liveRegionLineCount++;\n                if (this._liveRegionLineCount === MAX_ROWS_TO_READ + 1) {\n                    this._liveRegion.textContent += Strings.tooMuchOutput;\n                }\n            }\n            if (Platform_1.isMac) {\n                if (this._liveRegion.textContent && this._liveRegion.textContent.length > 0 && !this._liveRegion.parentNode) {\n                    setTimeout(function () {\n                        _this._accessibilityTreeRoot.appendChild(_this._liveRegion);\n                    }, 0);\n                }\n            }\n        }\n    };\n    AccessibilityManager.prototype._clearLiveRegion = function () {\n        this._liveRegion.textContent = '';\n        this._liveRegionLineCount = 0;\n        if (Platform_1.isMac) {\n            if (this._liveRegion.parentNode) {\n                this._accessibilityTreeRoot.removeChild(this._liveRegion);\n            }\n        }\n    };\n    AccessibilityManager.prototype._onKey = function (keyChar) {\n        this._clearLiveRegion();\n        this._charsToConsume.push(keyChar);\n    };\n    AccessibilityManager.prototype._refreshRows = function (start, end) {\n        this._renderRowsDebouncer.refresh(start, end, this._terminal.rows);\n    };\n    AccessibilityManager.prototype._renderRows = function (start, end) {\n        var buffer = this._terminal.buffer;\n        var setSize = buffer.lines.length.toString();\n        for (var i = start; i <= end; i++) {\n            var lineData = buffer.translateBufferLineToString(buffer.ydisp + i, true);\n            var posInSet = (buffer.ydisp + i + 1).toString();\n            var element = this._rowElements[i];\n            if (element) {\n                element.textContent = lineData.length === 0 ? Strings.blankLine : lineData;\n                element.setAttribute('aria-posinset', posInSet);\n                element.setAttribute('aria-setsize', setSize);\n            }\n        }\n        this._announceCharacters();\n    };\n    AccessibilityManager.prototype._refreshRowsDimensions = function () {\n        if (!this._dimensions.actualCellHeight) {\n            return;\n        }\n        if (this._rowElements.length !== this._terminal.rows) {\n            this._onResize(this._terminal.rows);\n        }\n        for (var i = 0; i < this._terminal.rows; i++) {\n            this._refreshRowDimensions(this._rowElements[i]);\n        }\n    };\n    AccessibilityManager.prototype.setDimensions = function (dimensions) {\n        this._dimensions = dimensions;\n        this._refreshRowsDimensions();\n    };\n    AccessibilityManager.prototype._refreshRowDimensions = function (element) {\n        element.style.height = this._dimensions.actualCellHeight + \"px\";\n    };\n    AccessibilityManager.prototype._announceCharacters = function () {\n        if (this._charsToAnnounce.length === 0) {\n            return;\n        }\n        this._liveRegion.textContent += this._charsToAnnounce;\n        this._charsToAnnounce = '';\n    };\n    return AccessibilityManager;\n}(Lifecycle_2.Disposable));\nexports.AccessibilityManager = AccessibilityManager;\n//# sourceMappingURL=AccessibilityManager.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CircularList_1 = require(\"./common/CircularList\");\nvar BufferLine_1 = require(\"./core/buffer/BufferLine\");\nvar BufferReflow_1 = require(\"./core/buffer/BufferReflow\");\nvar Marker_1 = require(\"./core/buffer/Marker\");\nexports.MAX_BUFFER_SIZE = 4294967295;\nvar Buffer = (function () {\n    function Buffer(_terminal, _hasScrollback) {\n        this._terminal = _terminal;\n        this._hasScrollback = _hasScrollback;\n        this.savedCurAttrData = BufferLine_1.DEFAULT_ATTR_DATA.clone();\n        this.markers = [];\n        this._nullCell = BufferLine_1.CellData.fromCharData([0, BufferLine_1.NULL_CELL_CHAR, BufferLine_1.NULL_CELL_WIDTH, BufferLine_1.NULL_CELL_CODE]);\n        this._whitespaceCell = BufferLine_1.CellData.fromCharData([0, BufferLine_1.WHITESPACE_CELL_CHAR, BufferLine_1.WHITESPACE_CELL_WIDTH, BufferLine_1.WHITESPACE_CELL_CODE]);\n        this._cols = this._terminal.cols;\n        this._rows = this._terminal.rows;\n        this.clear();\n    }\n    Buffer.prototype.getNullCell = function (attr) {\n        if (attr) {\n            this._nullCell.fg = attr.fg;\n            this._nullCell.bg = attr.bg;\n        }\n        else {\n            this._nullCell.fg = 0;\n            this._nullCell.bg = 0;\n        }\n        return this._nullCell;\n    };\n    Buffer.prototype.getWhitespaceCell = function (attr) {\n        if (attr) {\n            this._whitespaceCell.fg = attr.fg;\n            this._whitespaceCell.bg = attr.bg;\n        }\n        else {\n            this._whitespaceCell.fg = 0;\n            this._whitespaceCell.bg = 0;\n        }\n        return this._whitespaceCell;\n    };\n    Buffer.prototype.getBlankLine = function (attr, isWrapped) {\n        return new BufferLine_1.BufferLine(this._terminal.cols, this.getNullCell(attr), isWrapped);\n    };\n    Object.defineProperty(Buffer.prototype, \"hasScrollback\", {\n        get: function () {\n            return this._hasScrollback && this.lines.maxLength > this._rows;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Buffer.prototype, \"isCursorInViewport\", {\n        get: function () {\n            var absoluteY = this.ybase + this.y;\n            var relativeY = absoluteY - this.ydisp;\n            return (relativeY >= 0 && relativeY < this._rows);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Buffer.prototype._getCorrectBufferLength = function (rows) {\n        if (!this._hasScrollback) {\n            return rows;\n        }\n        var correctBufferLength = rows + this._terminal.options.scrollback;\n        return correctBufferLength > exports.MAX_BUFFER_SIZE ? exports.MAX_BUFFER_SIZE : correctBufferLength;\n    };\n    Buffer.prototype.fillViewportRows = function (fillAttr) {\n        if (this.lines.length === 0) {\n            if (fillAttr === undefined) {\n                fillAttr = BufferLine_1.DEFAULT_ATTR_DATA;\n            }\n            var i = this._rows;\n            while (i--) {\n                this.lines.push(this.getBlankLine(fillAttr));\n            }\n        }\n    };\n    Buffer.prototype.clear = function () {\n        this.ydisp = 0;\n        this.ybase = 0;\n        this.y = 0;\n        this.x = 0;\n        this.lines = new CircularList_1.CircularList(this._getCorrectBufferLength(this._rows));\n        this.scrollTop = 0;\n        this.scrollBottom = this._rows - 1;\n        this.setupTabStops();\n    };\n    Buffer.prototype.resize = function (newCols, newRows) {\n        var nullCell = this.getNullCell(BufferLine_1.DEFAULT_ATTR_DATA);\n        var newMaxLength = this._getCorrectBufferLength(newRows);\n        if (newMaxLength > this.lines.maxLength) {\n            this.lines.maxLength = newMaxLength;\n        }\n        if (this.lines.length > 0) {\n            if (this._cols < newCols) {\n                for (var i = 0; i < this.lines.length; i++) {\n                    this.lines.get(i).resize(newCols, nullCell);\n                }\n            }\n            var addToY = 0;\n            if (this._rows < newRows) {\n                for (var y = this._rows; y < newRows; y++) {\n                    if (this.lines.length < newRows + this.ybase) {\n                        if (this.ybase > 0 && this.lines.length <= this.ybase + this.y + addToY + 1) {\n                            this.ybase--;\n                            addToY++;\n                            if (this.ydisp > 0) {\n                                this.ydisp--;\n                            }\n                        }\n                        else {\n                            this.lines.push(new BufferLine_1.BufferLine(newCols, nullCell));\n                        }\n                    }\n                }\n            }\n            else {\n                for (var y = this._rows; y > newRows; y--) {\n                    if (this.lines.length > newRows + this.ybase) {\n                        if (this.lines.length > this.ybase + this.y + 1) {\n                            this.lines.pop();\n                        }\n                        else {\n                            this.ybase++;\n                            this.ydisp++;\n                        }\n                    }\n                }\n            }\n            if (newMaxLength < this.lines.maxLength) {\n                var amountToTrim = this.lines.length - newMaxLength;\n                if (amountToTrim > 0) {\n                    this.lines.trimStart(amountToTrim);\n                    this.ybase = Math.max(this.ybase - amountToTrim, 0);\n                    this.ydisp = Math.max(this.ydisp - amountToTrim, 0);\n                }\n                this.lines.maxLength = newMaxLength;\n            }\n            this.x = Math.min(this.x, newCols - 1);\n            this.y = Math.min(this.y, newRows - 1);\n            if (addToY) {\n                this.y += addToY;\n            }\n            this.savedY = Math.min(this.savedY, newRows - 1);\n            this.savedX = Math.min(this.savedX, newCols - 1);\n            this.scrollTop = 0;\n        }\n        this.scrollBottom = newRows - 1;\n        if (this._isReflowEnabled) {\n            this._reflow(newCols, newRows);\n            if (this._cols > newCols) {\n                for (var i = 0; i < this.lines.length; i++) {\n                    this.lines.get(i).resize(newCols, nullCell);\n                }\n            }\n        }\n        this._cols = newCols;\n        this._rows = newRows;\n    };\n    Object.defineProperty(Buffer.prototype, \"_isReflowEnabled\", {\n        get: function () {\n            return this._hasScrollback && !this._terminal.options.windowsMode;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Buffer.prototype._reflow = function (newCols, newRows) {\n        if (this._cols === newCols) {\n            return;\n        }\n        if (newCols > this._cols) {\n            this._reflowLarger(newCols, newRows);\n        }\n        else {\n            this._reflowSmaller(newCols, newRows);\n        }\n    };\n    Buffer.prototype._reflowLarger = function (newCols, newRows) {\n        var toRemove = BufferReflow_1.reflowLargerGetLinesToRemove(this.lines, this._cols, newCols, this.ybase + this.y, this.getNullCell(BufferLine_1.DEFAULT_ATTR_DATA));\n        if (toRemove.length > 0) {\n            var newLayoutResult = BufferReflow_1.reflowLargerCreateNewLayout(this.lines, toRemove);\n            BufferReflow_1.reflowLargerApplyNewLayout(this.lines, newLayoutResult.layout);\n            this._reflowLargerAdjustViewport(newCols, newRows, newLayoutResult.countRemoved);\n        }\n    };\n    Buffer.prototype._reflowLargerAdjustViewport = function (newCols, newRows, countRemoved) {\n        var nullCell = this.getNullCell(BufferLine_1.DEFAULT_ATTR_DATA);\n        var viewportAdjustments = countRemoved;\n        while (viewportAdjustments-- > 0) {\n            if (this.ybase === 0) {\n                if (this.y > 0) {\n                    this.y--;\n                }\n                if (this.lines.length < newRows) {\n                    this.lines.push(new BufferLine_1.BufferLine(newCols, nullCell));\n                }\n            }\n            else {\n                if (this.ydisp === this.ybase) {\n                    this.ydisp--;\n                }\n                this.ybase--;\n            }\n        }\n    };\n    Buffer.prototype._reflowSmaller = function (newCols, newRows) {\n        var nullCell = this.getNullCell(BufferLine_1.DEFAULT_ATTR_DATA);\n        var toInsert = [];\n        var countToInsert = 0;\n        for (var y = this.lines.length - 1; y >= 0; y--) {\n            var nextLine = this.lines.get(y);\n            if (!nextLine || !nextLine.isWrapped && nextLine.getTrimmedLength() <= newCols) {\n                continue;\n            }\n            var wrappedLines = [nextLine];\n            while (nextLine.isWrapped && y > 0) {\n                nextLine = this.lines.get(--y);\n                wrappedLines.unshift(nextLine);\n            }\n            var absoluteY = this.ybase + this.y;\n            if (absoluteY >= y && absoluteY < y + wrappedLines.length) {\n                continue;\n            }\n            var lastLineLength = wrappedLines[wrappedLines.length - 1].getTrimmedLength();\n            var destLineLengths = BufferReflow_1.reflowSmallerGetNewLineLengths(wrappedLines, this._cols, newCols);\n            var linesToAdd = destLineLengths.length - wrappedLines.length;\n            var trimmedLines = void 0;\n            if (this.ybase === 0 && this.y !== this.lines.length - 1) {\n                trimmedLines = Math.max(0, this.y - this.lines.maxLength + linesToAdd);\n            }\n            else {\n                trimmedLines = Math.max(0, this.lines.length - this.lines.maxLength + linesToAdd);\n            }\n            var newLines = [];\n            for (var i = 0; i < linesToAdd; i++) {\n                var newLine = this.getBlankLine(BufferLine_1.DEFAULT_ATTR_DATA, true);\n                newLines.push(newLine);\n            }\n            if (newLines.length > 0) {\n                toInsert.push({\n                    start: y + wrappedLines.length + countToInsert,\n                    newLines: newLines\n                });\n                countToInsert += newLines.length;\n            }\n            wrappedLines.push.apply(wrappedLines, newLines);\n            var destLineIndex = destLineLengths.length - 1;\n            var destCol = destLineLengths[destLineIndex];\n            if (destCol === 0) {\n                destLineIndex--;\n                destCol = destLineLengths[destLineIndex];\n            }\n            var srcLineIndex = wrappedLines.length - linesToAdd - 1;\n            var srcCol = lastLineLength;\n            while (srcLineIndex >= 0) {\n                var cellsToCopy = Math.min(srcCol, destCol);\n                wrappedLines[destLineIndex].copyCellsFrom(wrappedLines[srcLineIndex], srcCol - cellsToCopy, destCol - cellsToCopy, cellsToCopy, true);\n                destCol -= cellsToCopy;\n                if (destCol === 0) {\n                    destLineIndex--;\n                    destCol = destLineLengths[destLineIndex];\n                }\n                srcCol -= cellsToCopy;\n                if (srcCol === 0) {\n                    srcLineIndex--;\n                    var wrappedLinesIndex = Math.max(srcLineIndex, 0);\n                    srcCol = BufferReflow_1.getWrappedLineTrimmedLength(wrappedLines, wrappedLinesIndex, this._cols);\n                }\n            }\n            for (var i = 0; i < wrappedLines.length; i++) {\n                if (destLineLengths[i] < newCols) {\n                    wrappedLines[i].setCell(destLineLengths[i], nullCell);\n                }\n            }\n            var viewportAdjustments = linesToAdd - trimmedLines;\n            while (viewportAdjustments-- > 0) {\n                if (this.ybase === 0) {\n                    if (this.y < newRows - 1) {\n                        this.y++;\n                        this.lines.pop();\n                    }\n                    else {\n                        this.ybase++;\n                        this.ydisp++;\n                    }\n                }\n                else {\n                    if (this.ybase < Math.min(this.lines.maxLength, this.lines.length + countToInsert) - newRows) {\n                        if (this.ybase === this.ydisp) {\n                            this.ydisp++;\n                        }\n                        this.ybase++;\n                    }\n                }\n            }\n        }\n        if (toInsert.length > 0) {\n            var insertEvents = [];\n            var originalLines = [];\n            for (var i = 0; i < this.lines.length; i++) {\n                originalLines.push(this.lines.get(i));\n            }\n            var originalLinesLength = this.lines.length;\n            var originalLineIndex = originalLinesLength - 1;\n            var nextToInsertIndex = 0;\n            var nextToInsert = toInsert[nextToInsertIndex];\n            this.lines.length = Math.min(this.lines.maxLength, this.lines.length + countToInsert);\n            var countInsertedSoFar = 0;\n            for (var i = Math.min(this.lines.maxLength - 1, originalLinesLength + countToInsert - 1); i >= 0; i--) {\n                if (nextToInsert && nextToInsert.start > originalLineIndex + countInsertedSoFar) {\n                    for (var nextI = nextToInsert.newLines.length - 1; nextI >= 0; nextI--) {\n                        this.lines.set(i--, nextToInsert.newLines[nextI]);\n                    }\n                    i++;\n                    insertEvents.push({\n                        index: originalLineIndex + 1,\n                        amount: nextToInsert.newLines.length\n                    });\n                    countInsertedSoFar += nextToInsert.newLines.length;\n                    nextToInsert = toInsert[++nextToInsertIndex];\n                }\n                else {\n                    this.lines.set(i, originalLines[originalLineIndex--]);\n                }\n            }\n            var insertCountEmitted = 0;\n            for (var i = insertEvents.length - 1; i >= 0; i--) {\n                insertEvents[i].index += insertCountEmitted;\n                this.lines.onInsertEmitter.fire(insertEvents[i]);\n                insertCountEmitted += insertEvents[i].amount;\n            }\n            var amountToTrim = Math.max(0, originalLinesLength + countToInsert - this.lines.maxLength);\n            if (amountToTrim > 0) {\n                this.lines.onTrimEmitter.fire(amountToTrim);\n            }\n        }\n    };\n    Buffer.prototype.stringIndexToBufferIndex = function (lineIndex, stringIndex, trimRight) {\n        if (trimRight === void 0) { trimRight = false; }\n        while (stringIndex) {\n            var line = this.lines.get(lineIndex);\n            if (!line) {\n                return [-1, -1];\n            }\n            var length_1 = (trimRight) ? line.getTrimmedLength() : line.length;\n            for (var i = 0; i < length_1; ++i) {\n                if (line.get(i)[BufferLine_1.CHAR_DATA_WIDTH_INDEX]) {\n                    stringIndex -= line.get(i)[BufferLine_1.CHAR_DATA_CHAR_INDEX].length || 1;\n                }\n                if (stringIndex < 0) {\n                    return [lineIndex, i];\n                }\n            }\n            lineIndex++;\n        }\n        return [lineIndex, 0];\n    };\n    Buffer.prototype.translateBufferLineToString = function (lineIndex, trimRight, startCol, endCol) {\n        if (startCol === void 0) { startCol = 0; }\n        var line = this.lines.get(lineIndex);\n        if (!line) {\n            return '';\n        }\n        return line.translateToString(trimRight, startCol, endCol);\n    };\n    Buffer.prototype.getWrappedRangeForLine = function (y) {\n        var first = y;\n        var last = y;\n        while (first > 0 && this.lines.get(first).isWrapped) {\n            first--;\n        }\n        while (last + 1 < this.lines.length && this.lines.get(last + 1).isWrapped) {\n            last++;\n        }\n        return { first: first, last: last };\n    };\n    Buffer.prototype.setupTabStops = function (i) {\n        if (i !== null && i !== undefined) {\n            if (!this.tabs[i]) {\n                i = this.prevStop(i);\n            }\n        }\n        else {\n            this.tabs = {};\n            i = 0;\n        }\n        for (; i < this._cols; i += this._terminal.options.tabStopWidth) {\n            this.tabs[i] = true;\n        }\n    };\n    Buffer.prototype.prevStop = function (x) {\n        if (x === null || x === undefined) {\n            x = this.x;\n        }\n        while (!this.tabs[--x] && x > 0)\n            ;\n        return x >= this._cols ? this._cols - 1 : x < 0 ? 0 : x;\n    };\n    Buffer.prototype.nextStop = function (x) {\n        if (x === null || x === undefined) {\n            x = this.x;\n        }\n        while (!this.tabs[++x] && x < this._cols)\n            ;\n        return x >= this._cols ? this._cols - 1 : x < 0 ? 0 : x;\n    };\n    Buffer.prototype.addMarker = function (y) {\n        var _this = this;\n        var marker = new Marker_1.Marker(y);\n        this.markers.push(marker);\n        marker.register(this.lines.onTrim(function (amount) {\n            marker.line -= amount;\n            if (marker.line < 0) {\n                marker.dispose();\n            }\n        }));\n        marker.register(this.lines.onInsert(function (event) {\n            if (marker.line >= event.index) {\n                marker.line += event.amount;\n            }\n        }));\n        marker.register(this.lines.onDelete(function (event) {\n            if (marker.line >= event.index && marker.line < event.index + event.amount) {\n                marker.dispose();\n            }\n            if (marker.line > event.index) {\n                marker.line -= event.amount;\n            }\n        }));\n        marker.register(marker.onDispose(function () { return _this._removeMarker(marker); }));\n        return marker;\n    };\n    Buffer.prototype._removeMarker = function (marker) {\n        this.markers.splice(this.markers.indexOf(marker), 1);\n    };\n    Buffer.prototype.iterator = function (trimRight, startIndex, endIndex, startOverscan, endOverscan) {\n        return new BufferStringIterator(this, trimRight, startIndex, endIndex, startOverscan, endOverscan);\n    };\n    return Buffer;\n}());\nexports.Buffer = Buffer;\nvar BufferStringIterator = (function () {\n    function BufferStringIterator(_buffer, _trimRight, _startIndex, _endIndex, _startOverscan, _endOverscan) {\n        if (_startIndex === void 0) { _startIndex = 0; }\n        if (_endIndex === void 0) { _endIndex = _buffer.lines.length; }\n        if (_startOverscan === void 0) { _startOverscan = 0; }\n        if (_endOverscan === void 0) { _endOverscan = 0; }\n        this._buffer = _buffer;\n        this._trimRight = _trimRight;\n        this._startIndex = _startIndex;\n        this._endIndex = _endIndex;\n        this._startOverscan = _startOverscan;\n        this._endOverscan = _endOverscan;\n        if (this._startIndex < 0) {\n            this._startIndex = 0;\n        }\n        if (this._endIndex > this._buffer.lines.length) {\n            this._endIndex = this._buffer.lines.length;\n        }\n        this._current = this._startIndex;\n    }\n    BufferStringIterator.prototype.hasNext = function () {\n        return this._current < this._endIndex;\n    };\n    BufferStringIterator.prototype.next = function () {\n        var range = this._buffer.getWrappedRangeForLine(this._current);\n        if (range.first < this._startIndex - this._startOverscan) {\n            range.first = this._startIndex - this._startOverscan;\n        }\n        if (range.last > this._endIndex + this._endOverscan) {\n            range.last = this._endIndex + this._endOverscan;\n        }\n        range.first = Math.max(range.first, 0);\n        range.last = Math.min(range.last, this._buffer.lines.length);\n        var result = '';\n        for (var i = range.first; i <= range.last; ++i) {\n            result += this._buffer.translateBufferLineToString(i, this._trimRight);\n        }\n        this._current = range.last + 1;\n        return { range: range, content: result };\n    };\n    return BufferStringIterator;\n}());\nexports.BufferStringIterator = BufferStringIterator;\n//# sourceMappingURL=Buffer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Buffer_1 = require(\"./Buffer\");\nvar EventEmitter2_1 = require(\"./common/EventEmitter2\");\nvar BufferSet = (function () {\n    function BufferSet(_terminal) {\n        this._terminal = _terminal;\n        this._onBufferActivate = new EventEmitter2_1.EventEmitter2();\n        this._normal = new Buffer_1.Buffer(this._terminal, true);\n        this._normal.fillViewportRows();\n        this._alt = new Buffer_1.Buffer(this._terminal, false);\n        this._activeBuffer = this._normal;\n        this.setupTabStops();\n    }\n    Object.defineProperty(BufferSet.prototype, \"onBufferActivate\", {\n        get: function () { return this._onBufferActivate.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferSet.prototype, \"alt\", {\n        get: function () {\n            return this._alt;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferSet.prototype, \"active\", {\n        get: function () {\n            return this._activeBuffer;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferSet.prototype, \"normal\", {\n        get: function () {\n            return this._normal;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BufferSet.prototype.activateNormalBuffer = function () {\n        if (this._activeBuffer === this._normal) {\n            return;\n        }\n        this._normal.x = this._alt.x;\n        this._normal.y = this._alt.y;\n        this._alt.clear();\n        this._activeBuffer = this._normal;\n        this._onBufferActivate.fire({\n            activeBuffer: this._normal,\n            inactiveBuffer: this._alt\n        });\n    };\n    BufferSet.prototype.activateAltBuffer = function (fillAttr) {\n        if (this._activeBuffer === this._alt) {\n            return;\n        }\n        this._alt.fillViewportRows(fillAttr);\n        this._alt.x = this._normal.x;\n        this._alt.y = this._normal.y;\n        this._activeBuffer = this._alt;\n        this._onBufferActivate.fire({\n            activeBuffer: this._alt,\n            inactiveBuffer: this._normal\n        });\n    };\n    BufferSet.prototype.resize = function (newCols, newRows) {\n        this._normal.resize(newCols, newRows);\n        this._alt.resize(newCols, newRows);\n    };\n    BufferSet.prototype.setupTabStops = function (i) {\n        this._normal.setupTabStops(i);\n        this._alt.setupTabStops(i);\n    };\n    return BufferSet;\n}());\nexports.BufferSet = BufferSet;\n//# sourceMappingURL=BufferSet.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EventEmitter2_1 = require(\"./common/EventEmitter2\");\nvar CharMeasure = (function () {\n    function CharMeasure(document, parentElement) {\n        this._onCharSizeChanged = new EventEmitter2_1.EventEmitter2();\n        this._document = document;\n        this._parentElement = parentElement;\n        this._measureElement = this._document.createElement('span');\n        this._measureElement.classList.add('xterm-char-measure-element');\n        this._measureElement.textContent = 'W';\n        this._measureElement.setAttribute('aria-hidden', 'true');\n        this._parentElement.appendChild(this._measureElement);\n    }\n    Object.defineProperty(CharMeasure.prototype, \"onCharSizeChanged\", {\n        get: function () { return this._onCharSizeChanged.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CharMeasure.prototype, \"width\", {\n        get: function () {\n            return this._width;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CharMeasure.prototype, \"height\", {\n        get: function () {\n            return this._height;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CharMeasure.prototype.measure = function (options) {\n        this._measureElement.style.fontFamily = options.fontFamily;\n        this._measureElement.style.fontSize = options.fontSize + \"px\";\n        var geometry = this._measureElement.getBoundingClientRect();\n        if (geometry.width === 0 || geometry.height === 0) {\n            return;\n        }\n        var adjustedHeight = Math.ceil(geometry.height);\n        if (this._width !== geometry.width || this._height !== adjustedHeight) {\n            this._width = geometry.width;\n            this._height = adjustedHeight;\n            this._onCharSizeChanged.fire();\n        }\n    };\n    return CharMeasure;\n}());\nexports.CharMeasure = CharMeasure;\n//# sourceMappingURL=CharMeasure.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TypedArrayUtils_1 = require(\"./common/TypedArrayUtils\");\nexports.wcwidth = (function (opts) {\n    var COMBINING_BMP = [\n        [0x0300, 0x036F], [0x0483, 0x0486], [0x0488, 0x0489],\n        [0x0591, 0x05BD], [0x05BF, 0x05BF], [0x05C1, 0x05C2],\n        [0x05C4, 0x05C5], [0x05C7, 0x05C7], [0x0600, 0x0603],\n        [0x0610, 0x0615], [0x064B, 0x065E], [0x0670, 0x0670],\n        [0x06D6, 0x06E4], [0x06E7, 0x06E8], [0x06EA, 0x06ED],\n        [0x070F, 0x070F], [0x0711, 0x0711], [0x0730, 0x074A],\n        [0x07A6, 0x07B0], [0x07EB, 0x07F3], [0x0901, 0x0902],\n        [0x093C, 0x093C], [0x0941, 0x0948], [0x094D, 0x094D],\n        [0x0951, 0x0954], [0x0962, 0x0963], [0x0981, 0x0981],\n        [0x09BC, 0x09BC], [0x09C1, 0x09C4], [0x09CD, 0x09CD],\n        [0x09E2, 0x09E3], [0x0A01, 0x0A02], [0x0A3C, 0x0A3C],\n        [0x0A41, 0x0A42], [0x0A47, 0x0A48], [0x0A4B, 0x0A4D],\n        [0x0A70, 0x0A71], [0x0A81, 0x0A82], [0x0ABC, 0x0ABC],\n        [0x0AC1, 0x0AC5], [0x0AC7, 0x0AC8], [0x0ACD, 0x0ACD],\n        [0x0AE2, 0x0AE3], [0x0B01, 0x0B01], [0x0B3C, 0x0B3C],\n        [0x0B3F, 0x0B3F], [0x0B41, 0x0B43], [0x0B4D, 0x0B4D],\n        [0x0B56, 0x0B56], [0x0B82, 0x0B82], [0x0BC0, 0x0BC0],\n        [0x0BCD, 0x0BCD], [0x0C3E, 0x0C40], [0x0C46, 0x0C48],\n        [0x0C4A, 0x0C4D], [0x0C55, 0x0C56], [0x0CBC, 0x0CBC],\n        [0x0CBF, 0x0CBF], [0x0CC6, 0x0CC6], [0x0CCC, 0x0CCD],\n        [0x0CE2, 0x0CE3], [0x0D41, 0x0D43], [0x0D4D, 0x0D4D],\n        [0x0DCA, 0x0DCA], [0x0DD2, 0x0DD4], [0x0DD6, 0x0DD6],\n        [0x0E31, 0x0E31], [0x0E34, 0x0E3A], [0x0E47, 0x0E4E],\n        [0x0EB1, 0x0EB1], [0x0EB4, 0x0EB9], [0x0EBB, 0x0EBC],\n        [0x0EC8, 0x0ECD], [0x0F18, 0x0F19], [0x0F35, 0x0F35],\n        [0x0F37, 0x0F37], [0x0F39, 0x0F39], [0x0F71, 0x0F7E],\n        [0x0F80, 0x0F84], [0x0F86, 0x0F87], [0x0F90, 0x0F97],\n        [0x0F99, 0x0FBC], [0x0FC6, 0x0FC6], [0x102D, 0x1030],\n        [0x1032, 0x1032], [0x1036, 0x1037], [0x1039, 0x1039],\n        [0x1058, 0x1059], [0x1160, 0x11FF], [0x135F, 0x135F],\n        [0x1712, 0x1714], [0x1732, 0x1734], [0x1752, 0x1753],\n        [0x1772, 0x1773], [0x17B4, 0x17B5], [0x17B7, 0x17BD],\n        [0x17C6, 0x17C6], [0x17C9, 0x17D3], [0x17DD, 0x17DD],\n        [0x180B, 0x180D], [0x18A9, 0x18A9], [0x1920, 0x1922],\n        [0x1927, 0x1928], [0x1932, 0x1932], [0x1939, 0x193B],\n        [0x1A17, 0x1A18], [0x1B00, 0x1B03], [0x1B34, 0x1B34],\n        [0x1B36, 0x1B3A], [0x1B3C, 0x1B3C], [0x1B42, 0x1B42],\n        [0x1B6B, 0x1B73], [0x1DC0, 0x1DCA], [0x1DFE, 0x1DFF],\n        [0x200B, 0x200F], [0x202A, 0x202E], [0x2060, 0x2063],\n        [0x206A, 0x206F], [0x20D0, 0x20EF], [0x302A, 0x302F],\n        [0x3099, 0x309A], [0xA806, 0xA806], [0xA80B, 0xA80B],\n        [0xA825, 0xA826], [0xFB1E, 0xFB1E], [0xFE00, 0xFE0F],\n        [0xFE20, 0xFE23], [0xFEFF, 0xFEFF], [0xFFF9, 0xFFFB]\n    ];\n    var COMBINING_HIGH = [\n        [0x10A01, 0x10A03], [0x10A05, 0x10A06], [0x10A0C, 0x10A0F],\n        [0x10A38, 0x10A3A], [0x10A3F, 0x10A3F], [0x1D167, 0x1D169],\n        [0x1D173, 0x1D182], [0x1D185, 0x1D18B], [0x1D1AA, 0x1D1AD],\n        [0x1D242, 0x1D244], [0xE0001, 0xE0001], [0xE0020, 0xE007F],\n        [0xE0100, 0xE01EF]\n    ];\n    function bisearch(ucs, data) {\n        var min = 0;\n        var max = data.length - 1;\n        var mid;\n        if (ucs < data[0][0] || ucs > data[max][1]) {\n            return false;\n        }\n        while (max >= min) {\n            mid = (min + max) >> 1;\n            if (ucs > data[mid][1]) {\n                min = mid + 1;\n            }\n            else if (ucs < data[mid][0]) {\n                max = mid - 1;\n            }\n            else {\n                return true;\n            }\n        }\n        return false;\n    }\n    function wcwidthHigh(ucs) {\n        if (bisearch(ucs, COMBINING_HIGH)) {\n            return 0;\n        }\n        if ((ucs >= 0x20000 && ucs <= 0x2fffd) || (ucs >= 0x30000 && ucs <= 0x3fffd)) {\n            return 2;\n        }\n        return 1;\n    }\n    var control = opts.control | 0;\n    var table = new Uint8Array(65536);\n    TypedArrayUtils_1.fill(table, 1);\n    table[0] = opts.nul;\n    TypedArrayUtils_1.fill(table, opts.control, 1, 32);\n    TypedArrayUtils_1.fill(table, opts.control, 0x7f, 0xa0);\n    TypedArrayUtils_1.fill(table, 2, 0x1100, 0x1160);\n    table[0x2329] = 2;\n    table[0x232a] = 2;\n    TypedArrayUtils_1.fill(table, 2, 0x2e80, 0xa4d0);\n    table[0x303f] = 1;\n    TypedArrayUtils_1.fill(table, 2, 0xac00, 0xd7a4);\n    TypedArrayUtils_1.fill(table, 2, 0xf900, 0xfb00);\n    TypedArrayUtils_1.fill(table, 2, 0xfe10, 0xfe1a);\n    TypedArrayUtils_1.fill(table, 2, 0xfe30, 0xfe70);\n    TypedArrayUtils_1.fill(table, 2, 0xff00, 0xff61);\n    TypedArrayUtils_1.fill(table, 2, 0xffe0, 0xffe7);\n    for (var r = 0; r < COMBINING_BMP.length; ++r) {\n        TypedArrayUtils_1.fill(table, 0, COMBINING_BMP[r][0], COMBINING_BMP[r][1] + 1);\n    }\n    return function (num) {\n        if (num < 32) {\n            return control | 0;\n        }\n        if (num < 127) {\n            return 1;\n        }\n        if (num < 65536) {\n            return table[num];\n        }\n        return wcwidthHigh(num);\n    };\n})({ nul: 0, control: 0 });\nfunction getStringCellWidth(s) {\n    var result = 0;\n    var length = s.length;\n    for (var i = 0; i < length; ++i) {\n        var code = s.charCodeAt(i);\n        if (0xD800 <= code && code <= 0xDBFF) {\n            if (++i >= length) {\n                return result + exports.wcwidth(code);\n            }\n            var second = s.charCodeAt(i);\n            if (0xDC00 <= second && second <= 0xDFFF) {\n                code = (code - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n            }\n            else {\n                result += exports.wcwidth(second);\n            }\n        }\n        result += exports.wcwidth(code);\n    }\n    return result;\n}\nexports.getStringCellWidth = getStringCellWidth;\n//# sourceMappingURL=CharWidth.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction prepareTextForTerminal(text) {\n    return text.replace(/\\r?\\n/g, '\\r');\n}\nexports.prepareTextForTerminal = prepareTextForTerminal;\nfunction bracketTextForPaste(text, bracketedPasteMode) {\n    if (bracketedPasteMode) {\n        return '\\x1b[200~' + text + '\\x1b[201~';\n    }\n    return text;\n}\nexports.bracketTextForPaste = bracketTextForPaste;\nfunction copyHandler(ev, term, selectionManager) {\n    if (term.browser.isMSIE) {\n        window.clipboardData.setData('Text', selectionManager.selectionText);\n    }\n    else {\n        ev.clipboardData.setData('text/plain', selectionManager.selectionText);\n    }\n    ev.preventDefault();\n}\nexports.copyHandler = copyHandler;\nfunction pasteHandler(ev, term) {\n    ev.stopPropagation();\n    var text;\n    var dispatchPaste = function (text) {\n        text = prepareTextForTerminal(text);\n        text = bracketTextForPaste(text, term.bracketedPasteMode);\n        term.handler(text);\n        term.textarea.value = '';\n        term.emit('paste', text);\n        term.cancel(ev);\n    };\n    if (term.browser.isMSIE) {\n        if (window.clipboardData) {\n            text = window.clipboardData.getData('Text');\n            dispatchPaste(text);\n        }\n    }\n    else {\n        if (ev.clipboardData) {\n            text = ev.clipboardData.getData('text/plain');\n            dispatchPaste(text);\n        }\n    }\n}\nexports.pasteHandler = pasteHandler;\nfunction moveTextAreaUnderMouseCursor(ev, term) {\n    var pos = term.screenElement.getBoundingClientRect();\n    var left = ev.clientX - pos.left - 10;\n    var top = ev.clientY - pos.top - 10;\n    term.textarea.style.position = 'absolute';\n    term.textarea.style.width = '20px';\n    term.textarea.style.height = '20px';\n    term.textarea.style.left = left + \"px\";\n    term.textarea.style.top = top + \"px\";\n    term.textarea.style.zIndex = '1000';\n    term.textarea.focus();\n    setTimeout(function () {\n        term.textarea.style.position = null;\n        term.textarea.style.width = null;\n        term.textarea.style.height = null;\n        term.textarea.style.left = null;\n        term.textarea.style.top = null;\n        term.textarea.style.zIndex = null;\n    }, 200);\n}\nexports.moveTextAreaUnderMouseCursor = moveTextAreaUnderMouseCursor;\nfunction rightClickHandler(ev, term, selectionManager, shouldSelectWord) {\n    moveTextAreaUnderMouseCursor(ev, term);\n    if (shouldSelectWord && !selectionManager.isClickInSelection(ev)) {\n        selectionManager.selectWordAtCursor(ev);\n    }\n    term.textarea.value = selectionManager.selectionText;\n    term.textarea.select();\n}\nexports.rightClickHandler = rightClickHandler;\n//# sourceMappingURL=Clipboard.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CompositionHelper = (function () {\n    function CompositionHelper(_textarea, _compositionView, _terminal) {\n        this._textarea = _textarea;\n        this._compositionView = _compositionView;\n        this._terminal = _terminal;\n        this._isComposing = false;\n        this._isSendingComposition = false;\n        this._compositionPosition = { start: null, end: null };\n    }\n    CompositionHelper.prototype.compositionstart = function () {\n        this._isComposing = true;\n        this._compositionPosition.start = this._textarea.value.length;\n        this._compositionView.textContent = '';\n        this._compositionView.classList.add('active');\n    };\n    CompositionHelper.prototype.compositionupdate = function (ev) {\n        var _this = this;\n        this._compositionView.textContent = ev.data;\n        this.updateCompositionElements();\n        setTimeout(function () {\n            _this._compositionPosition.end = _this._textarea.value.length;\n        }, 0);\n    };\n    CompositionHelper.prototype.compositionend = function () {\n        this._finalizeComposition(true);\n    };\n    CompositionHelper.prototype.keydown = function (ev) {\n        if (this._isComposing || this._isSendingComposition) {\n            if (ev.keyCode === 229) {\n                return false;\n            }\n            else if (ev.keyCode === 16 || ev.keyCode === 17 || ev.keyCode === 18) {\n                return false;\n            }\n            this._finalizeComposition(false);\n        }\n        if (ev.keyCode === 229) {\n            this._handleAnyTextareaChanges();\n            return false;\n        }\n        return true;\n    };\n    CompositionHelper.prototype._finalizeComposition = function (waitForPropagation) {\n        var _this = this;\n        this._compositionView.classList.remove('active');\n        this._isComposing = false;\n        this._clearTextareaPosition();\n        if (!waitForPropagation) {\n            this._isSendingComposition = false;\n            var input = this._textarea.value.substring(this._compositionPosition.start, this._compositionPosition.end);\n            this._terminal.handler(input);\n        }\n        else {\n            var currentCompositionPosition_1 = {\n                start: this._compositionPosition.start,\n                end: this._compositionPosition.end\n            };\n            this._isSendingComposition = true;\n            setTimeout(function () {\n                if (_this._isSendingComposition) {\n                    _this._isSendingComposition = false;\n                    var input = void 0;\n                    if (_this._isComposing) {\n                        input = _this._textarea.value.substring(currentCompositionPosition_1.start, currentCompositionPosition_1.end);\n                    }\n                    else {\n                        input = _this._textarea.value.substring(currentCompositionPosition_1.start);\n                    }\n                    _this._terminal.handler(input);\n                }\n            }, 0);\n        }\n    };\n    CompositionHelper.prototype._handleAnyTextareaChanges = function () {\n        var _this = this;\n        var oldValue = this._textarea.value;\n        setTimeout(function () {\n            if (!_this._isComposing) {\n                var newValue = _this._textarea.value;\n                var diff = newValue.replace(oldValue, '');\n                if (diff.length > 0) {\n                    _this._terminal.handler(diff);\n                }\n            }\n        }, 0);\n    };\n    CompositionHelper.prototype.updateCompositionElements = function (dontRecurse) {\n        var _this = this;\n        if (!this._isComposing) {\n            return;\n        }\n        if (this._terminal.buffer.isCursorInViewport) {\n            var cellHeight = Math.ceil(this._terminal.charMeasure.height * this._terminal.options.lineHeight);\n            var cursorTop = this._terminal.buffer.y * cellHeight;\n            var cursorLeft = this._terminal.buffer.x * this._terminal.charMeasure.width;\n            this._compositionView.style.left = cursorLeft + 'px';\n            this._compositionView.style.top = cursorTop + 'px';\n            this._compositionView.style.height = cellHeight + 'px';\n            this._compositionView.style.lineHeight = cellHeight + 'px';\n            this._compositionView.style.fontFamily = this._terminal.options.fontFamily;\n            this._compositionView.style.fontSize = this._terminal.options.fontSize + 'px';\n            var compositionViewBounds = this._compositionView.getBoundingClientRect();\n            this._textarea.style.left = cursorLeft + 'px';\n            this._textarea.style.top = cursorTop + 'px';\n            this._textarea.style.width = compositionViewBounds.width + 'px';\n            this._textarea.style.height = compositionViewBounds.height + 'px';\n            this._textarea.style.lineHeight = compositionViewBounds.height + 'px';\n        }\n        if (!dontRecurse) {\n            setTimeout(function () { return _this.updateCompositionElements(true); }, 0);\n        }\n    };\n    CompositionHelper.prototype._clearTextareaPosition = function () {\n        this._textarea.style.left = '';\n        this._textarea.style.top = '';\n    };\n    return CompositionHelper;\n}());\nexports.CompositionHelper = CompositionHelper;\n//# sourceMappingURL=CompositionHelper.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Lifecycle_1 = require(\"./common/Lifecycle\");\nvar TextDecoder_1 = require(\"./core/input/TextDecoder\");\nfunction r(low, high) {\n    var c = high - low;\n    var arr = new Array(c);\n    while (c--) {\n        arr[c] = --high;\n    }\n    return arr;\n}\nvar TransitionTable = (function () {\n    function TransitionTable(length) {\n        this.table = (typeof Uint8Array === 'undefined')\n            ? new Array(length)\n            : new Uint8Array(length);\n    }\n    TransitionTable.prototype.add = function (code, state, action, next) {\n        this.table[state << 8 | code] = ((action | 0) << 4) | ((next === undefined) ? state : next);\n    };\n    TransitionTable.prototype.addMany = function (codes, state, action, next) {\n        for (var i = 0; i < codes.length; i++) {\n            this.add(codes[i], state, action, next);\n        }\n    };\n    return TransitionTable;\n}());\nexports.TransitionTable = TransitionTable;\nvar PRINTABLES = r(0x20, 0x7f);\nvar EXECUTABLES = r(0x00, 0x18);\nEXECUTABLES.push(0x19);\nEXECUTABLES.push.apply(EXECUTABLES, r(0x1c, 0x20));\nvar NON_ASCII_PRINTABLE = 0xA0;\nexports.VT500_TRANSITION_TABLE = (function () {\n    var table = new TransitionTable(4095);\n    var states = r(0, 13 + 1);\n    var state;\n    for (state in states) {\n        for (var code = 0; code <= NON_ASCII_PRINTABLE; ++code) {\n            table.add(code, state, 1, 0);\n        }\n    }\n    table.addMany(PRINTABLES, 0, 2, 0);\n    for (state in states) {\n        table.addMany([0x18, 0x1a, 0x99, 0x9a], state, 3, 0);\n        table.addMany(r(0x80, 0x90), state, 3, 0);\n        table.addMany(r(0x90, 0x98), state, 3, 0);\n        table.add(0x9c, state, 0, 0);\n        table.add(0x1b, state, 11, 1);\n        table.add(0x9d, state, 4, 8);\n        table.addMany([0x98, 0x9e, 0x9f], state, 0, 7);\n        table.add(0x9b, state, 11, 3);\n        table.add(0x90, state, 11, 9);\n    }\n    table.addMany(EXECUTABLES, 0, 3, 0);\n    table.addMany(EXECUTABLES, 1, 3, 1);\n    table.add(0x7f, 1, 0, 1);\n    table.addMany(EXECUTABLES, 8, 0, 8);\n    table.addMany(EXECUTABLES, 3, 3, 3);\n    table.add(0x7f, 3, 0, 3);\n    table.addMany(EXECUTABLES, 4, 3, 4);\n    table.add(0x7f, 4, 0, 4);\n    table.addMany(EXECUTABLES, 6, 3, 6);\n    table.addMany(EXECUTABLES, 5, 3, 5);\n    table.add(0x7f, 5, 0, 5);\n    table.addMany(EXECUTABLES, 2, 3, 2);\n    table.add(0x7f, 2, 0, 2);\n    table.add(0x5d, 1, 4, 8);\n    table.addMany(PRINTABLES, 8, 5, 8);\n    table.add(0x7f, 8, 5, 8);\n    table.addMany([0x9c, 0x1b, 0x18, 0x1a, 0x07], 8, 6, 0);\n    table.addMany(r(0x1c, 0x20), 8, 0, 8);\n    table.addMany([0x58, 0x5e, 0x5f], 1, 0, 7);\n    table.addMany(PRINTABLES, 7, 0, 7);\n    table.addMany(EXECUTABLES, 7, 0, 7);\n    table.add(0x9c, 7, 0, 0);\n    table.add(0x7f, 7, 0, 7);\n    table.add(0x5b, 1, 11, 3);\n    table.addMany(r(0x40, 0x7f), 3, 7, 0);\n    table.addMany(r(0x30, 0x3a), 3, 8, 4);\n    table.add(0x3b, 3, 8, 4);\n    table.addMany([0x3c, 0x3d, 0x3e, 0x3f], 3, 9, 4);\n    table.addMany(r(0x30, 0x3a), 4, 8, 4);\n    table.add(0x3b, 4, 8, 4);\n    table.addMany(r(0x40, 0x7f), 4, 7, 0);\n    table.addMany([0x3a, 0x3c, 0x3d, 0x3e, 0x3f], 4, 0, 6);\n    table.addMany(r(0x20, 0x40), 6, 0, 6);\n    table.add(0x7f, 6, 0, 6);\n    table.addMany(r(0x40, 0x7f), 6, 0, 0);\n    table.add(0x3a, 3, 0, 6);\n    table.addMany(r(0x20, 0x30), 3, 9, 5);\n    table.addMany(r(0x20, 0x30), 5, 9, 5);\n    table.addMany(r(0x30, 0x40), 5, 0, 6);\n    table.addMany(r(0x40, 0x7f), 5, 7, 0);\n    table.addMany(r(0x20, 0x30), 4, 9, 5);\n    table.addMany(r(0x20, 0x30), 1, 9, 2);\n    table.addMany(r(0x20, 0x30), 2, 9, 2);\n    table.addMany(r(0x30, 0x7f), 2, 10, 0);\n    table.addMany(r(0x30, 0x50), 1, 10, 0);\n    table.addMany(r(0x51, 0x58), 1, 10, 0);\n    table.addMany([0x59, 0x5a, 0x5c], 1, 10, 0);\n    table.addMany(r(0x60, 0x7f), 1, 10, 0);\n    table.add(0x50, 1, 11, 9);\n    table.addMany(EXECUTABLES, 9, 0, 9);\n    table.add(0x7f, 9, 0, 9);\n    table.addMany(r(0x1c, 0x20), 9, 0, 9);\n    table.addMany(r(0x20, 0x30), 9, 9, 12);\n    table.add(0x3a, 9, 0, 11);\n    table.addMany(r(0x30, 0x3a), 9, 8, 10);\n    table.add(0x3b, 9, 8, 10);\n    table.addMany([0x3c, 0x3d, 0x3e, 0x3f], 9, 9, 10);\n    table.addMany(EXECUTABLES, 11, 0, 11);\n    table.addMany(r(0x20, 0x80), 11, 0, 11);\n    table.addMany(r(0x1c, 0x20), 11, 0, 11);\n    table.addMany(EXECUTABLES, 10, 0, 10);\n    table.add(0x7f, 10, 0, 10);\n    table.addMany(r(0x1c, 0x20), 10, 0, 10);\n    table.addMany(r(0x30, 0x3a), 10, 8, 10);\n    table.add(0x3b, 10, 8, 10);\n    table.addMany([0x3a, 0x3c, 0x3d, 0x3e, 0x3f], 10, 0, 11);\n    table.addMany(r(0x20, 0x30), 10, 9, 12);\n    table.addMany(EXECUTABLES, 12, 0, 12);\n    table.add(0x7f, 12, 0, 12);\n    table.addMany(r(0x1c, 0x20), 12, 0, 12);\n    table.addMany(r(0x20, 0x30), 12, 9, 12);\n    table.addMany(r(0x30, 0x40), 12, 0, 11);\n    table.addMany(r(0x40, 0x7f), 12, 12, 13);\n    table.addMany(r(0x40, 0x7f), 10, 12, 13);\n    table.addMany(r(0x40, 0x7f), 9, 12, 13);\n    table.addMany(EXECUTABLES, 13, 13, 13);\n    table.addMany(PRINTABLES, 13, 13, 13);\n    table.add(0x7f, 13, 0, 13);\n    table.addMany([0x1b, 0x9c], 13, 14, 0);\n    table.add(NON_ASCII_PRINTABLE, 8, 5, 8);\n    return table;\n})();\nvar DcsDummy = (function () {\n    function DcsDummy() {\n    }\n    DcsDummy.prototype.hook = function (collect, params, flag) { };\n    DcsDummy.prototype.put = function (data, start, end) { };\n    DcsDummy.prototype.unhook = function () { };\n    return DcsDummy;\n}());\nvar EscapeSequenceParser = (function (_super) {\n    __extends(EscapeSequenceParser, _super);\n    function EscapeSequenceParser(TRANSITIONS) {\n        if (TRANSITIONS === void 0) { TRANSITIONS = exports.VT500_TRANSITION_TABLE; }\n        var _this = _super.call(this) || this;\n        _this.TRANSITIONS = TRANSITIONS;\n        _this.initialState = 0;\n        _this.currentState = _this.initialState;\n        _this._osc = '';\n        _this._params = [0];\n        _this._collect = '';\n        _this._printHandlerFb = function (data, start, end) { };\n        _this._executeHandlerFb = function (code) { };\n        _this._csiHandlerFb = function (collect, params, flag) { };\n        _this._escHandlerFb = function (collect, flag) { };\n        _this._oscHandlerFb = function (identifier, data) { };\n        _this._dcsHandlerFb = new DcsDummy();\n        _this._errorHandlerFb = function (state) { return state; };\n        _this._printHandler = _this._printHandlerFb;\n        _this._executeHandlers = Object.create(null);\n        _this._csiHandlers = Object.create(null);\n        _this._escHandlers = Object.create(null);\n        _this._oscHandlers = Object.create(null);\n        _this._dcsHandlers = Object.create(null);\n        _this._activeDcsHandler = null;\n        _this._errorHandler = _this._errorHandlerFb;\n        _this.setEscHandler('\\\\', function () { });\n        return _this;\n    }\n    EscapeSequenceParser.prototype.dispose = function () {\n        this._printHandlerFb = null;\n        this._executeHandlerFb = null;\n        this._csiHandlerFb = null;\n        this._escHandlerFb = null;\n        this._oscHandlerFb = null;\n        this._dcsHandlerFb = null;\n        this._errorHandlerFb = null;\n        this._printHandler = null;\n        this._executeHandlers = null;\n        this._escHandlers = null;\n        this._csiHandlers = null;\n        this._oscHandlers = null;\n        this._dcsHandlers = null;\n        this._activeDcsHandler = null;\n        this._errorHandler = null;\n    };\n    EscapeSequenceParser.prototype.setPrintHandler = function (callback) {\n        this._printHandler = callback;\n    };\n    EscapeSequenceParser.prototype.clearPrintHandler = function () {\n        this._printHandler = this._printHandlerFb;\n    };\n    EscapeSequenceParser.prototype.setExecuteHandler = function (flag, callback) {\n        this._executeHandlers[flag.charCodeAt(0)] = callback;\n    };\n    EscapeSequenceParser.prototype.clearExecuteHandler = function (flag) {\n        if (this._executeHandlers[flag.charCodeAt(0)])\n            delete this._executeHandlers[flag.charCodeAt(0)];\n    };\n    EscapeSequenceParser.prototype.setExecuteHandlerFallback = function (callback) {\n        this._executeHandlerFb = callback;\n    };\n    EscapeSequenceParser.prototype.addCsiHandler = function (flag, callback) {\n        var index = flag.charCodeAt(0);\n        if (this._csiHandlers[index] === undefined) {\n            this._csiHandlers[index] = [];\n        }\n        var handlerList = this._csiHandlers[index];\n        handlerList.push(callback);\n        return {\n            dispose: function () {\n                var handlerIndex = handlerList.indexOf(callback);\n                if (handlerIndex !== -1) {\n                    handlerList.splice(handlerIndex, 1);\n                }\n            }\n        };\n    };\n    EscapeSequenceParser.prototype.setCsiHandler = function (flag, callback) {\n        this._csiHandlers[flag.charCodeAt(0)] = [callback];\n    };\n    EscapeSequenceParser.prototype.clearCsiHandler = function (flag) {\n        if (this._csiHandlers[flag.charCodeAt(0)])\n            delete this._csiHandlers[flag.charCodeAt(0)];\n    };\n    EscapeSequenceParser.prototype.setCsiHandlerFallback = function (callback) {\n        this._csiHandlerFb = callback;\n    };\n    EscapeSequenceParser.prototype.setEscHandler = function (collectAndFlag, callback) {\n        this._escHandlers[collectAndFlag] = callback;\n    };\n    EscapeSequenceParser.prototype.clearEscHandler = function (collectAndFlag) {\n        if (this._escHandlers[collectAndFlag])\n            delete this._escHandlers[collectAndFlag];\n    };\n    EscapeSequenceParser.prototype.setEscHandlerFallback = function (callback) {\n        this._escHandlerFb = callback;\n    };\n    EscapeSequenceParser.prototype.addOscHandler = function (ident, callback) {\n        if (this._oscHandlers[ident] === undefined) {\n            this._oscHandlers[ident] = [];\n        }\n        var handlerList = this._oscHandlers[ident];\n        handlerList.push(callback);\n        return {\n            dispose: function () {\n                var handlerIndex = handlerList.indexOf(callback);\n                if (handlerIndex !== -1) {\n                    handlerList.splice(handlerIndex, 1);\n                }\n            }\n        };\n    };\n    EscapeSequenceParser.prototype.setOscHandler = function (ident, callback) {\n        this._oscHandlers[ident] = [callback];\n    };\n    EscapeSequenceParser.prototype.clearOscHandler = function (ident) {\n        if (this._oscHandlers[ident])\n            delete this._oscHandlers[ident];\n    };\n    EscapeSequenceParser.prototype.setOscHandlerFallback = function (callback) {\n        this._oscHandlerFb = callback;\n    };\n    EscapeSequenceParser.prototype.setDcsHandler = function (collectAndFlag, handler) {\n        this._dcsHandlers[collectAndFlag] = handler;\n    };\n    EscapeSequenceParser.prototype.clearDcsHandler = function (collectAndFlag) {\n        if (this._dcsHandlers[collectAndFlag])\n            delete this._dcsHandlers[collectAndFlag];\n    };\n    EscapeSequenceParser.prototype.setDcsHandlerFallback = function (handler) {\n        this._dcsHandlerFb = handler;\n    };\n    EscapeSequenceParser.prototype.setErrorHandler = function (callback) {\n        this._errorHandler = callback;\n    };\n    EscapeSequenceParser.prototype.clearErrorHandler = function () {\n        this._errorHandler = this._errorHandlerFb;\n    };\n    EscapeSequenceParser.prototype.reset = function () {\n        this.currentState = this.initialState;\n        this._osc = '';\n        this._params = [0];\n        this._collect = '';\n        this._activeDcsHandler = null;\n    };\n    EscapeSequenceParser.prototype.parse = function (data, length) {\n        var code = 0;\n        var transition = 0;\n        var error = false;\n        var currentState = this.currentState;\n        var print = -1;\n        var dcs = -1;\n        var osc = this._osc;\n        var collect = this._collect;\n        var params = this._params;\n        var table = this.TRANSITIONS.table;\n        var dcsHandler = this._activeDcsHandler;\n        var callback = null;\n        for (var i = 0; i < length; ++i) {\n            code = data[i];\n            if (currentState === 0 && code > 0x1f && code < 0x80) {\n                print = (~print) ? print : i;\n                do\n                    i++;\n                while (i < length && data[i] > 0x1f && data[i] < 0x80);\n                i--;\n                continue;\n            }\n            if (currentState === 4 && (code > 0x2f && code < 0x39)) {\n                params[params.length - 1] = params[params.length - 1] * 10 + code - 48;\n                continue;\n            }\n            transition = table[currentState << 8 | (code < 0xa0 ? code : NON_ASCII_PRINTABLE)];\n            switch (transition >> 4) {\n                case 2:\n                    print = (~print) ? print : i;\n                    break;\n                case 3:\n                    if (~print) {\n                        this._printHandler(data, print, i);\n                        print = -1;\n                    }\n                    callback = this._executeHandlers[code];\n                    if (callback)\n                        callback();\n                    else\n                        this._executeHandlerFb(code);\n                    break;\n                case 0:\n                    if (~print) {\n                        this._printHandler(data, print, i);\n                        print = -1;\n                    }\n                    else if (~dcs) {\n                        dcsHandler.put(data, dcs, i);\n                        dcs = -1;\n                    }\n                    break;\n                case 1:\n                    if (code > 0x9f) {\n                        switch (currentState) {\n                            case 0:\n                                print = (~print) ? print : i;\n                                break;\n                            case 6:\n                                transition |= 6;\n                                break;\n                            case 11:\n                                transition |= 11;\n                                break;\n                            case 13:\n                                dcs = (~dcs) ? dcs : i;\n                                transition |= 13;\n                                break;\n                            default:\n                                error = true;\n                        }\n                    }\n                    else {\n                        error = true;\n                    }\n                    if (error) {\n                        var inject = this._errorHandler({\n                            position: i,\n                            code: code,\n                            currentState: currentState,\n                            print: print,\n                            dcs: dcs,\n                            osc: osc,\n                            collect: collect,\n                            params: params,\n                            abort: false\n                        });\n                        if (inject.abort)\n                            return;\n                        error = false;\n                    }\n                    break;\n                case 7:\n                    var handlers = this._csiHandlers[code];\n                    var j = handlers ? handlers.length - 1 : -1;\n                    for (; j >= 0; j--) {\n                        if (handlers[j](params, collect) !== false) {\n                            break;\n                        }\n                    }\n                    if (j < 0) {\n                        this._csiHandlerFb(collect, params, code);\n                    }\n                    break;\n                case 8:\n                    if (code === 0x3b)\n                        params.push(0);\n                    else\n                        params[params.length - 1] = params[params.length - 1] * 10 + code - 48;\n                    break;\n                case 9:\n                    collect += String.fromCharCode(code);\n                    break;\n                case 10:\n                    callback = this._escHandlers[collect + String.fromCharCode(code)];\n                    if (callback)\n                        callback(collect, code);\n                    else\n                        this._escHandlerFb(collect, code);\n                    break;\n                case 11:\n                    if (~print) {\n                        this._printHandler(data, print, i);\n                        print = -1;\n                    }\n                    osc = '';\n                    params = [0];\n                    collect = '';\n                    dcs = -1;\n                    break;\n                case 12:\n                    dcsHandler = this._dcsHandlers[collect + String.fromCharCode(code)];\n                    if (!dcsHandler)\n                        dcsHandler = this._dcsHandlerFb;\n                    dcsHandler.hook(collect, params, code);\n                    break;\n                case 13:\n                    dcs = (~dcs) ? dcs : i;\n                    break;\n                case 14:\n                    if (dcsHandler) {\n                        if (~dcs)\n                            dcsHandler.put(data, dcs, i);\n                        dcsHandler.unhook();\n                        dcsHandler = null;\n                    }\n                    if (code === 0x1b)\n                        transition |= 1;\n                    osc = '';\n                    params = [0];\n                    collect = '';\n                    dcs = -1;\n                    break;\n                case 4:\n                    if (~print) {\n                        this._printHandler(data, print, i);\n                        print = -1;\n                    }\n                    osc = '';\n                    break;\n                case 5:\n                    for (var j_1 = i + 1;; j_1++) {\n                        if (j_1 >= length\n                            || (code = data[j_1]) < 0x20\n                            || (code > 0x7f && code <= 0x9f)) {\n                            osc += TextDecoder_1.utf32ToString(data, i, j_1);\n                            i = j_1 - 1;\n                            break;\n                        }\n                    }\n                    break;\n                case 6:\n                    if (osc && code !== 0x18 && code !== 0x1a) {\n                        var idx = osc.indexOf(';');\n                        if (idx === -1) {\n                            this._oscHandlerFb(-1, osc);\n                        }\n                        else {\n                            var identifier = parseInt(osc.substring(0, idx));\n                            var content = osc.substring(idx + 1);\n                            var handlers_1 = this._oscHandlers[identifier];\n                            var j_2 = handlers_1 ? handlers_1.length - 1 : -1;\n                            for (; j_2 >= 0; j_2--) {\n                                if (handlers_1[j_2](content) !== false) {\n                                    break;\n                                }\n                            }\n                            if (j_2 < 0) {\n                                this._oscHandlerFb(identifier, content);\n                            }\n                        }\n                    }\n                    if (code === 0x1b)\n                        transition |= 1;\n                    osc = '';\n                    params = [0];\n                    collect = '';\n                    dcs = -1;\n                    break;\n            }\n            currentState = transition & 15;\n        }\n        if (currentState === 0 && ~print) {\n            this._printHandler(data, print, length);\n        }\n        else if (currentState === 13 && ~dcs && dcsHandler) {\n            dcsHandler.put(data, dcs, length);\n        }\n        this._osc = osc;\n        this._collect = collect;\n        this._params = params;\n        this._activeDcsHandler = dcsHandler;\n        this.currentState = currentState;\n    };\n    return EscapeSequenceParser;\n}(Lifecycle_1.Disposable));\nexports.EscapeSequenceParser = EscapeSequenceParser;\n//# sourceMappingURL=EscapeSequenceParser.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EscapeSequences_1 = require(\"./common/data/EscapeSequences\");\nvar Charsets_1 = require(\"./core/data/Charsets\");\nvar CharWidth_1 = require(\"./CharWidth\");\nvar EscapeSequenceParser_1 = require(\"./EscapeSequenceParser\");\nvar Lifecycle_1 = require(\"./common/Lifecycle\");\nvar TypedArrayUtils_1 = require(\"./common/TypedArrayUtils\");\nvar TextDecoder_1 = require(\"./core/input/TextDecoder\");\nvar BufferLine_1 = require(\"./core/buffer/BufferLine\");\nvar EventEmitter2_1 = require(\"./common/EventEmitter2\");\nvar GLEVEL = { '(': 0, ')': 1, '*': 2, '+': 3, '-': 1, '.': 2 };\nvar DECRQSS = (function () {\n    function DECRQSS(_terminal) {\n        this._terminal = _terminal;\n        this._data = new Uint32Array(0);\n    }\n    DECRQSS.prototype.hook = function (collect, params, flag) {\n        this._data = new Uint32Array(0);\n    };\n    DECRQSS.prototype.put = function (data, start, end) {\n        this._data = TypedArrayUtils_1.concat(this._data, data.subarray(start, end));\n    };\n    DECRQSS.prototype.unhook = function () {\n        var data = TextDecoder_1.utf32ToString(this._data);\n        this._data = new Uint32Array(0);\n        switch (data) {\n            case '\"q':\n                return this._terminal.handler(EscapeSequences_1.C0.ESC + \"P1$r0\\\"q\" + EscapeSequences_1.C0.ESC + \"\\\\\");\n            case '\"p':\n                return this._terminal.handler(EscapeSequences_1.C0.ESC + \"P1$r61\\\"p\" + EscapeSequences_1.C0.ESC + \"\\\\\");\n            case 'r':\n                var pt = '' + (this._terminal.buffer.scrollTop + 1) +\n                    ';' + (this._terminal.buffer.scrollBottom + 1) + 'r';\n                return this._terminal.handler(EscapeSequences_1.C0.ESC + \"P1$r\" + pt + EscapeSequences_1.C0.ESC + \"\\\\\");\n            case 'm':\n                return this._terminal.handler(EscapeSequences_1.C0.ESC + \"P1$r0m\" + EscapeSequences_1.C0.ESC + \"\\\\\");\n            case ' q':\n                var STYLES = { 'block': 2, 'underline': 4, 'bar': 6 };\n                var style = STYLES[this._terminal.getOption('cursorStyle')];\n                style -= this._terminal.getOption('cursorBlink');\n                return this._terminal.handler(EscapeSequences_1.C0.ESC + \"P1$r\" + style + \" q\" + EscapeSequences_1.C0.ESC + \"\\\\\");\n            default:\n                this._terminal.error('Unknown DCS $q %s', data);\n                this._terminal.handler(EscapeSequences_1.C0.ESC + \"P0$r\" + EscapeSequences_1.C0.ESC + \"\\\\\");\n        }\n    };\n    return DECRQSS;\n}());\nvar InputHandler = (function (_super) {\n    __extends(InputHandler, _super);\n    function InputHandler(_terminal, _parser) {\n        if (_parser === void 0) { _parser = new EscapeSequenceParser_1.EscapeSequenceParser(); }\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._parser = _parser;\n        _this._parseBuffer = new Uint32Array(4096);\n        _this._stringDecoder = new TextDecoder_1.StringToUtf32();\n        _this._utf8Decoder = new TextDecoder_1.Utf8ToUtf32();\n        _this._workCell = new BufferLine_1.CellData();\n        _this._onCursorMove = new EventEmitter2_1.EventEmitter2();\n        _this._onData = new EventEmitter2_1.EventEmitter2();\n        _this._onLineFeed = new EventEmitter2_1.EventEmitter2();\n        _this._onScroll = new EventEmitter2_1.EventEmitter2();\n        _this.register(_this._parser);\n        _this._parser.setCsiHandlerFallback(function (collect, params, flag) {\n            _this._terminal.error('Unknown CSI code: ', { collect: collect, params: params, flag: String.fromCharCode(flag) });\n        });\n        _this._parser.setEscHandlerFallback(function (collect, flag) {\n            _this._terminal.error('Unknown ESC code: ', { collect: collect, flag: String.fromCharCode(flag) });\n        });\n        _this._parser.setExecuteHandlerFallback(function (code) {\n            _this._terminal.error('Unknown EXECUTE code: ', { code: code });\n        });\n        _this._parser.setOscHandlerFallback(function (identifier, data) {\n            _this._terminal.error('Unknown OSC code: ', { identifier: identifier, data: data });\n        });\n        _this._parser.setPrintHandler(function (data, start, end) { return _this.print(data, start, end); });\n        _this._parser.setCsiHandler('@', function (params, collect) { return _this.insertChars(params); });\n        _this._parser.setCsiHandler('A', function (params, collect) { return _this.cursorUp(params); });\n        _this._parser.setCsiHandler('B', function (params, collect) { return _this.cursorDown(params); });\n        _this._parser.setCsiHandler('C', function (params, collect) { return _this.cursorForward(params); });\n        _this._parser.setCsiHandler('D', function (params, collect) { return _this.cursorBackward(params); });\n        _this._parser.setCsiHandler('E', function (params, collect) { return _this.cursorNextLine(params); });\n        _this._parser.setCsiHandler('F', function (params, collect) { return _this.cursorPrecedingLine(params); });\n        _this._parser.setCsiHandler('G', function (params, collect) { return _this.cursorCharAbsolute(params); });\n        _this._parser.setCsiHandler('H', function (params, collect) { return _this.cursorPosition(params); });\n        _this._parser.setCsiHandler('I', function (params, collect) { return _this.cursorForwardTab(params); });\n        _this._parser.setCsiHandler('J', function (params, collect) { return _this.eraseInDisplay(params); });\n        _this._parser.setCsiHandler('K', function (params, collect) { return _this.eraseInLine(params); });\n        _this._parser.setCsiHandler('L', function (params, collect) { return _this.insertLines(params); });\n        _this._parser.setCsiHandler('M', function (params, collect) { return _this.deleteLines(params); });\n        _this._parser.setCsiHandler('P', function (params, collect) { return _this.deleteChars(params); });\n        _this._parser.setCsiHandler('S', function (params, collect) { return _this.scrollUp(params); });\n        _this._parser.setCsiHandler('T', function (params, collect) { return _this.scrollDown(params, collect); });\n        _this._parser.setCsiHandler('X', function (params, collect) { return _this.eraseChars(params); });\n        _this._parser.setCsiHandler('Z', function (params, collect) { return _this.cursorBackwardTab(params); });\n        _this._parser.setCsiHandler('`', function (params, collect) { return _this.charPosAbsolute(params); });\n        _this._parser.setCsiHandler('a', function (params, collect) { return _this.hPositionRelative(params); });\n        _this._parser.setCsiHandler('b', function (params, collect) { return _this.repeatPrecedingCharacter(params); });\n        _this._parser.setCsiHandler('c', function (params, collect) { return _this.sendDeviceAttributes(params, collect); });\n        _this._parser.setCsiHandler('d', function (params, collect) { return _this.linePosAbsolute(params); });\n        _this._parser.setCsiHandler('e', function (params, collect) { return _this.vPositionRelative(params); });\n        _this._parser.setCsiHandler('f', function (params, collect) { return _this.hVPosition(params); });\n        _this._parser.setCsiHandler('g', function (params, collect) { return _this.tabClear(params); });\n        _this._parser.setCsiHandler('h', function (params, collect) { return _this.setMode(params, collect); });\n        _this._parser.setCsiHandler('l', function (params, collect) { return _this.resetMode(params, collect); });\n        _this._parser.setCsiHandler('m', function (params, collect) { return _this.charAttributes(params); });\n        _this._parser.setCsiHandler('n', function (params, collect) { return _this.deviceStatus(params, collect); });\n        _this._parser.setCsiHandler('p', function (params, collect) { return _this.softReset(params, collect); });\n        _this._parser.setCsiHandler('q', function (params, collect) { return _this.setCursorStyle(params, collect); });\n        _this._parser.setCsiHandler('r', function (params, collect) { return _this.setScrollRegion(params, collect); });\n        _this._parser.setCsiHandler('s', function (params, collect) { return _this.saveCursor(params); });\n        _this._parser.setCsiHandler('u', function (params, collect) { return _this.restoreCursor(params); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.BEL, function () { return _this.bell(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.LF, function () { return _this.lineFeed(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.VT, function () { return _this.lineFeed(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.FF, function () { return _this.lineFeed(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.CR, function () { return _this.carriageReturn(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.BS, function () { return _this.backspace(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.HT, function () { return _this.tab(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.SO, function () { return _this.shiftOut(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.SI, function () { return _this.shiftIn(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C1.IND, function () { return _this.index(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C1.NEL, function () { return _this.nextLine(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C1.HTS, function () { return _this.tabSet(); });\n        _this._parser.setOscHandler(0, function (data) { return _this.setTitle(data); });\n        _this._parser.setOscHandler(2, function (data) { return _this.setTitle(data); });\n        _this._parser.setEscHandler('7', function () { return _this.saveCursor([]); });\n        _this._parser.setEscHandler('8', function () { return _this.restoreCursor([]); });\n        _this._parser.setEscHandler('D', function () { return _this.index(); });\n        _this._parser.setEscHandler('E', function () { return _this.nextLine(); });\n        _this._parser.setEscHandler('H', function () { return _this.tabSet(); });\n        _this._parser.setEscHandler('M', function () { return _this.reverseIndex(); });\n        _this._parser.setEscHandler('=', function () { return _this.keypadApplicationMode(); });\n        _this._parser.setEscHandler('>', function () { return _this.keypadNumericMode(); });\n        _this._parser.setEscHandler('c', function () { return _this.reset(); });\n        _this._parser.setEscHandler('n', function () { return _this.setgLevel(2); });\n        _this._parser.setEscHandler('o', function () { return _this.setgLevel(3); });\n        _this._parser.setEscHandler('|', function () { return _this.setgLevel(3); });\n        _this._parser.setEscHandler('}', function () { return _this.setgLevel(2); });\n        _this._parser.setEscHandler('~', function () { return _this.setgLevel(1); });\n        _this._parser.setEscHandler('%@', function () { return _this.selectDefaultCharset(); });\n        _this._parser.setEscHandler('%G', function () { return _this.selectDefaultCharset(); });\n        var _loop_1 = function (flag) {\n            this_1._parser.setEscHandler('(' + flag, function () { return _this.selectCharset('(' + flag); });\n            this_1._parser.setEscHandler(')' + flag, function () { return _this.selectCharset(')' + flag); });\n            this_1._parser.setEscHandler('*' + flag, function () { return _this.selectCharset('*' + flag); });\n            this_1._parser.setEscHandler('+' + flag, function () { return _this.selectCharset('+' + flag); });\n            this_1._parser.setEscHandler('-' + flag, function () { return _this.selectCharset('-' + flag); });\n            this_1._parser.setEscHandler('.' + flag, function () { return _this.selectCharset('.' + flag); });\n            this_1._parser.setEscHandler('/' + flag, function () { return _this.selectCharset('/' + flag); });\n        };\n        var this_1 = this;\n        for (var flag in Charsets_1.CHARSETS) {\n            _loop_1(flag);\n        }\n        _this._parser.setErrorHandler(function (state) {\n            _this._terminal.error('Parsing error: ', state);\n            return state;\n        });\n        _this._parser.setDcsHandler('$q', new DECRQSS(_this._terminal));\n        return _this;\n    }\n    Object.defineProperty(InputHandler.prototype, \"onCursorMove\", {\n        get: function () { return this._onCursorMove.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(InputHandler.prototype, \"onData\", {\n        get: function () { return this._onData.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(InputHandler.prototype, \"onLineFeed\", {\n        get: function () { return this._onLineFeed.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(InputHandler.prototype, \"onScroll\", {\n        get: function () { return this._onScroll.event; },\n        enumerable: true,\n        configurable: true\n    });\n    InputHandler.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._terminal = null;\n    };\n    InputHandler.prototype.parse = function (data) {\n        if (!this._terminal) {\n            return;\n        }\n        var buffer = this._terminal.buffer;\n        var cursorStartX = buffer.x;\n        var cursorStartY = buffer.y;\n        if (this._terminal.debug) {\n            this._terminal.log('data: ' + data);\n        }\n        if (this._parseBuffer.length < data.length) {\n            this._parseBuffer = new Uint32Array(data.length);\n        }\n        this._parser.parse(this._parseBuffer, this._stringDecoder.decode(data, this._parseBuffer));\n        buffer = this._terminal.buffer;\n        if (buffer.x !== cursorStartX || buffer.y !== cursorStartY) {\n            this._onCursorMove.fire();\n        }\n    };\n    InputHandler.prototype.parseUtf8 = function (data) {\n        if (!this._terminal) {\n            return;\n        }\n        var buffer = this._terminal.buffer;\n        var cursorStartX = buffer.x;\n        var cursorStartY = buffer.y;\n        if (this._terminal.debug) {\n            this._terminal.log('data: ' + data);\n        }\n        if (this._parseBuffer.length < data.length) {\n            this._parseBuffer = new Uint32Array(data.length);\n        }\n        this._parser.parse(this._parseBuffer, this._utf8Decoder.decode(data, this._parseBuffer));\n        buffer = this._terminal.buffer;\n        if (buffer.x !== cursorStartX || buffer.y !== cursorStartY) {\n            this._terminal.emit('cursormove');\n        }\n    };\n    InputHandler.prototype.print = function (data, start, end) {\n        var code;\n        var chWidth;\n        var buffer = this._terminal.buffer;\n        var charset = this._terminal.charset;\n        var screenReaderMode = this._terminal.options.screenReaderMode;\n        var cols = this._terminal.cols;\n        var wraparoundMode = this._terminal.wraparoundMode;\n        var insertMode = this._terminal.insertMode;\n        var curAttr = this._terminal.curAttrData;\n        var bufferRow = buffer.lines.get(buffer.y + buffer.ybase);\n        this._terminal.updateRange(buffer.y);\n        for (var pos = start; pos < end; ++pos) {\n            code = data[pos];\n            chWidth = CharWidth_1.wcwidth(code);\n            if (code < 127 && charset) {\n                var ch = charset[String.fromCharCode(code)];\n                if (ch) {\n                    code = ch.charCodeAt(0);\n                }\n            }\n            if (screenReaderMode) {\n                this._terminal.emit('a11y.char', TextDecoder_1.stringFromCodePoint(code));\n            }\n            if (!chWidth && buffer.x) {\n                if (!bufferRow.getWidth(buffer.x - 1)) {\n                    bufferRow.addCodepointToCell(buffer.x - 2, code);\n                }\n                else {\n                    bufferRow.addCodepointToCell(buffer.x - 1, code);\n                }\n                continue;\n            }\n            if (buffer.x + chWidth - 1 >= cols) {\n                if (wraparoundMode) {\n                    buffer.x = 0;\n                    buffer.y++;\n                    if (buffer.y > buffer.scrollBottom) {\n                        buffer.y--;\n                        this._terminal.scroll(true);\n                    }\n                    else {\n                        buffer.lines.get(buffer.y).isWrapped = true;\n                    }\n                    bufferRow = buffer.lines.get(buffer.y + buffer.ybase);\n                }\n                else {\n                    if (chWidth === 2) {\n                        continue;\n                    }\n                }\n            }\n            if (insertMode) {\n                bufferRow.insertCells(buffer.x, chWidth, buffer.getNullCell(curAttr));\n                if (bufferRow.getWidth(cols - 1) === 2) {\n                    bufferRow.setCellFromCodePoint(cols - 1, BufferLine_1.NULL_CELL_CODE, BufferLine_1.NULL_CELL_WIDTH, curAttr.fg, curAttr.bg);\n                }\n            }\n            bufferRow.setCellFromCodePoint(buffer.x++, code, chWidth, curAttr.fg, curAttr.bg);\n            if (chWidth > 0) {\n                while (--chWidth) {\n                    bufferRow.setCellFromCodePoint(buffer.x++, 0, 0, curAttr.fg, curAttr.bg);\n                }\n            }\n        }\n        this._terminal.updateRange(buffer.y);\n    };\n    InputHandler.prototype.addCsiHandler = function (flag, callback) {\n        return this._parser.addCsiHandler(flag, callback);\n    };\n    InputHandler.prototype.addOscHandler = function (ident, callback) {\n        return this._parser.addOscHandler(ident, callback);\n    };\n    InputHandler.prototype.bell = function () {\n        this._terminal.bell();\n    };\n    InputHandler.prototype.lineFeed = function () {\n        var buffer = this._terminal.buffer;\n        if (this._terminal.options.convertEol) {\n            buffer.x = 0;\n        }\n        buffer.y++;\n        if (buffer.y > buffer.scrollBottom) {\n            buffer.y--;\n            this._terminal.scroll();\n        }\n        if (buffer.x >= this._terminal.cols) {\n            buffer.x--;\n        }\n        this._onLineFeed.fire();\n    };\n    InputHandler.prototype.carriageReturn = function () {\n        this._terminal.buffer.x = 0;\n    };\n    InputHandler.prototype.backspace = function () {\n        if (this._terminal.buffer.x > 0) {\n            this._terminal.buffer.x--;\n        }\n    };\n    InputHandler.prototype.tab = function () {\n        var originalX = this._terminal.buffer.x;\n        this._terminal.buffer.x = this._terminal.buffer.nextStop();\n        if (this._terminal.options.screenReaderMode) {\n            this._terminal.emit('a11y.tab', this._terminal.buffer.x - originalX);\n        }\n    };\n    InputHandler.prototype.shiftOut = function () {\n        this._terminal.setgLevel(1);\n    };\n    InputHandler.prototype.shiftIn = function () {\n        this._terminal.setgLevel(0);\n    };\n    InputHandler.prototype.insertChars = function (params) {\n        this._terminal.buffer.lines.get(this._terminal.buffer.y + this._terminal.buffer.ybase).insertCells(this._terminal.buffer.x, params[0] || 1, this._terminal.buffer.getNullCell(this._terminal.eraseAttrData()));\n        this._terminal.updateRange(this._terminal.buffer.y);\n    };\n    InputHandler.prototype.cursorUp = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y -= param;\n        if (this._terminal.buffer.y < 0) {\n            this._terminal.buffer.y = 0;\n        }\n    };\n    InputHandler.prototype.cursorDown = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y += param;\n        if (this._terminal.buffer.y >= this._terminal.rows) {\n            this._terminal.buffer.y = this._terminal.rows - 1;\n        }\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x--;\n        }\n    };\n    InputHandler.prototype.cursorForward = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.x += param;\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x = this._terminal.cols - 1;\n        }\n    };\n    InputHandler.prototype.cursorBackward = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x--;\n        }\n        this._terminal.buffer.x -= param;\n        if (this._terminal.buffer.x < 0) {\n            this._terminal.buffer.x = 0;\n        }\n    };\n    InputHandler.prototype.cursorNextLine = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y += param;\n        if (this._terminal.buffer.y >= this._terminal.rows) {\n            this._terminal.buffer.y = this._terminal.rows - 1;\n        }\n        this._terminal.buffer.x = 0;\n    };\n    InputHandler.prototype.cursorPrecedingLine = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y -= param;\n        if (this._terminal.buffer.y < 0) {\n            this._terminal.buffer.y = 0;\n        }\n        this._terminal.buffer.x = 0;\n    };\n    InputHandler.prototype.cursorCharAbsolute = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.x = param - 1;\n    };\n    InputHandler.prototype.cursorPosition = function (params) {\n        var col;\n        var row = params[0] - 1;\n        if (params.length >= 2) {\n            col = params[1] - 1;\n        }\n        else {\n            col = 0;\n        }\n        if (row < 0) {\n            row = 0;\n        }\n        else if (row >= this._terminal.rows) {\n            row = this._terminal.rows - 1;\n        }\n        if (col < 0) {\n            col = 0;\n        }\n        else if (col >= this._terminal.cols) {\n            col = this._terminal.cols - 1;\n        }\n        this._terminal.buffer.x = col;\n        this._terminal.buffer.y = row;\n    };\n    InputHandler.prototype.cursorForwardTab = function (params) {\n        var param = params[0] || 1;\n        while (param--) {\n            this._terminal.buffer.x = this._terminal.buffer.nextStop();\n        }\n    };\n    InputHandler.prototype._eraseInBufferLine = function (y, start, end, clearWrap) {\n        if (clearWrap === void 0) { clearWrap = false; }\n        var line = this._terminal.buffer.lines.get(this._terminal.buffer.ybase + y);\n        line.replaceCells(start, end, this._terminal.buffer.getNullCell(this._terminal.eraseAttrData()));\n        if (clearWrap) {\n            line.isWrapped = false;\n        }\n    };\n    InputHandler.prototype._resetBufferLine = function (y) {\n        this._eraseInBufferLine(y, 0, this._terminal.cols, true);\n    };\n    InputHandler.prototype.eraseInDisplay = function (params) {\n        var j;\n        switch (params[0]) {\n            case 0:\n                j = this._terminal.buffer.y;\n                this._terminal.updateRange(j);\n                this._eraseInBufferLine(j++, this._terminal.buffer.x, this._terminal.cols, this._terminal.buffer.x === 0);\n                for (; j < this._terminal.rows; j++) {\n                    this._resetBufferLine(j);\n                }\n                this._terminal.updateRange(j);\n                break;\n            case 1:\n                j = this._terminal.buffer.y;\n                this._terminal.updateRange(j);\n                this._eraseInBufferLine(j, 0, this._terminal.buffer.x + 1, true);\n                if (this._terminal.buffer.x + 1 >= this._terminal.cols) {\n                    this._terminal.buffer.lines.get(j + 1).isWrapped = false;\n                }\n                while (j--) {\n                    this._resetBufferLine(j);\n                }\n                this._terminal.updateRange(0);\n                break;\n            case 2:\n                j = this._terminal.rows;\n                this._terminal.updateRange(j - 1);\n                while (j--) {\n                    this._resetBufferLine(j);\n                }\n                this._terminal.updateRange(0);\n                break;\n            case 3:\n                var scrollBackSize = this._terminal.buffer.lines.length - this._terminal.rows;\n                if (scrollBackSize > 0) {\n                    this._terminal.buffer.lines.trimStart(scrollBackSize);\n                    this._terminal.buffer.ybase = Math.max(this._terminal.buffer.ybase - scrollBackSize, 0);\n                    this._terminal.buffer.ydisp = Math.max(this._terminal.buffer.ydisp - scrollBackSize, 0);\n                    this._onScroll.fire(0);\n                }\n                break;\n        }\n    };\n    InputHandler.prototype.eraseInLine = function (params) {\n        switch (params[0]) {\n            case 0:\n                this._eraseInBufferLine(this._terminal.buffer.y, this._terminal.buffer.x, this._terminal.cols);\n                break;\n            case 1:\n                this._eraseInBufferLine(this._terminal.buffer.y, 0, this._terminal.buffer.x + 1);\n                break;\n            case 2:\n                this._eraseInBufferLine(this._terminal.buffer.y, 0, this._terminal.cols);\n                break;\n        }\n        this._terminal.updateRange(this._terminal.buffer.y);\n    };\n    InputHandler.prototype.insertLines = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        var buffer = this._terminal.buffer;\n        var row = buffer.y + buffer.ybase;\n        var scrollBottomRowsOffset = this._terminal.rows - 1 - buffer.scrollBottom;\n        var scrollBottomAbsolute = this._terminal.rows - 1 + buffer.ybase - scrollBottomRowsOffset + 1;\n        while (param--) {\n            buffer.lines.splice(scrollBottomAbsolute - 1, 1);\n            buffer.lines.splice(row, 0, buffer.getBlankLine(this._terminal.eraseAttrData()));\n        }\n        this._terminal.updateRange(buffer.y);\n        this._terminal.updateRange(buffer.scrollBottom);\n    };\n    InputHandler.prototype.deleteLines = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        var buffer = this._terminal.buffer;\n        var row = buffer.y + buffer.ybase;\n        var j;\n        j = this._terminal.rows - 1 - buffer.scrollBottom;\n        j = this._terminal.rows - 1 + buffer.ybase - j;\n        while (param--) {\n            buffer.lines.splice(row, 1);\n            buffer.lines.splice(j, 0, buffer.getBlankLine(this._terminal.eraseAttrData()));\n        }\n        this._terminal.updateRange(buffer.y);\n        this._terminal.updateRange(buffer.scrollBottom);\n    };\n    InputHandler.prototype.deleteChars = function (params) {\n        this._terminal.buffer.lines.get(this._terminal.buffer.y + this._terminal.buffer.ybase).deleteCells(this._terminal.buffer.x, params[0] || 1, this._terminal.buffer.getNullCell(this._terminal.eraseAttrData()));\n        this._terminal.updateRange(this._terminal.buffer.y);\n    };\n    InputHandler.prototype.scrollUp = function (params) {\n        var param = params[0] || 1;\n        var buffer = this._terminal.buffer;\n        while (param--) {\n            buffer.lines.splice(buffer.ybase + buffer.scrollTop, 1);\n            buffer.lines.splice(buffer.ybase + buffer.scrollBottom, 0, buffer.getBlankLine(BufferLine_1.DEFAULT_ATTR_DATA));\n        }\n        this._terminal.updateRange(buffer.scrollTop);\n        this._terminal.updateRange(buffer.scrollBottom);\n    };\n    InputHandler.prototype.scrollDown = function (params, collect) {\n        if (params.length < 2 && !collect) {\n            var param = params[0] || 1;\n            var buffer = this._terminal.buffer;\n            while (param--) {\n                buffer.lines.splice(buffer.ybase + buffer.scrollBottom, 1);\n                buffer.lines.splice(buffer.ybase + buffer.scrollTop, 0, buffer.getBlankLine(BufferLine_1.DEFAULT_ATTR_DATA));\n            }\n            this._terminal.updateRange(buffer.scrollTop);\n            this._terminal.updateRange(buffer.scrollBottom);\n        }\n    };\n    InputHandler.prototype.eraseChars = function (params) {\n        this._terminal.buffer.lines.get(this._terminal.buffer.y + this._terminal.buffer.ybase).replaceCells(this._terminal.buffer.x, this._terminal.buffer.x + (params[0] || 1), this._terminal.buffer.getNullCell(this._terminal.eraseAttrData()));\n    };\n    InputHandler.prototype.cursorBackwardTab = function (params) {\n        var param = params[0] || 1;\n        var buffer = this._terminal.buffer;\n        while (param--) {\n            buffer.x = buffer.prevStop();\n        }\n    };\n    InputHandler.prototype.charPosAbsolute = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.x = param - 1;\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x = this._terminal.cols - 1;\n        }\n    };\n    InputHandler.prototype.hPositionRelative = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.x += param;\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x = this._terminal.cols - 1;\n        }\n    };\n    InputHandler.prototype.repeatPrecedingCharacter = function (params) {\n        var buffer = this._terminal.buffer;\n        var line = buffer.lines.get(buffer.ybase + buffer.y);\n        line.loadCell(buffer.x - 1, this._workCell);\n        line.replaceCells(buffer.x, buffer.x + (params[0] || 1), (this._workCell.content !== undefined) ? this._workCell : buffer.getNullCell(BufferLine_1.DEFAULT_ATTR_DATA));\n    };\n    InputHandler.prototype.sendDeviceAttributes = function (params, collect) {\n        if (params[0] > 0) {\n            return;\n        }\n        if (!collect) {\n            if (this._terminal.is('xterm') || this._terminal.is('rxvt-unicode') || this._terminal.is('screen')) {\n                this._terminal.handler(EscapeSequences_1.C0.ESC + '[?1;2c');\n            }\n            else if (this._terminal.is('linux')) {\n                this._terminal.handler(EscapeSequences_1.C0.ESC + '[?6c');\n            }\n        }\n        else if (collect === '>') {\n            if (this._terminal.is('xterm')) {\n                this._terminal.handler(EscapeSequences_1.C0.ESC + '[>0;276;0c');\n            }\n            else if (this._terminal.is('rxvt-unicode')) {\n                this._terminal.handler(EscapeSequences_1.C0.ESC + '[>85;95;0c');\n            }\n            else if (this._terminal.is('linux')) {\n                this._terminal.handler(params[0] + 'c');\n            }\n            else if (this._terminal.is('screen')) {\n                this._terminal.handler(EscapeSequences_1.C0.ESC + '[>83;40003;0c');\n            }\n        }\n    };\n    InputHandler.prototype.linePosAbsolute = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y = param - 1;\n        if (this._terminal.buffer.y >= this._terminal.rows) {\n            this._terminal.buffer.y = this._terminal.rows - 1;\n        }\n    };\n    InputHandler.prototype.vPositionRelative = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y += param;\n        if (this._terminal.buffer.y >= this._terminal.rows) {\n            this._terminal.buffer.y = this._terminal.rows - 1;\n        }\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x--;\n        }\n    };\n    InputHandler.prototype.hVPosition = function (params) {\n        if (params[0] < 1)\n            params[0] = 1;\n        if (params[1] < 1)\n            params[1] = 1;\n        this._terminal.buffer.y = params[0] - 1;\n        if (this._terminal.buffer.y >= this._terminal.rows) {\n            this._terminal.buffer.y = this._terminal.rows - 1;\n        }\n        this._terminal.buffer.x = params[1] - 1;\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x = this._terminal.cols - 1;\n        }\n    };\n    InputHandler.prototype.tabClear = function (params) {\n        var param = params[0];\n        if (param <= 0) {\n            delete this._terminal.buffer.tabs[this._terminal.buffer.x];\n        }\n        else if (param === 3) {\n            this._terminal.buffer.tabs = {};\n        }\n    };\n    InputHandler.prototype.setMode = function (params, collect) {\n        if (params.length > 1) {\n            for (var i = 0; i < params.length; i++) {\n                this.setMode([params[i]]);\n            }\n            return;\n        }\n        if (!collect) {\n            switch (params[0]) {\n                case 4:\n                    this._terminal.insertMode = true;\n                    break;\n                case 20:\n                    break;\n            }\n        }\n        else if (collect === '?') {\n            switch (params[0]) {\n                case 1:\n                    this._terminal.applicationCursor = true;\n                    break;\n                case 2:\n                    this._terminal.setgCharset(0, Charsets_1.DEFAULT_CHARSET);\n                    this._terminal.setgCharset(1, Charsets_1.DEFAULT_CHARSET);\n                    this._terminal.setgCharset(2, Charsets_1.DEFAULT_CHARSET);\n                    this._terminal.setgCharset(3, Charsets_1.DEFAULT_CHARSET);\n                    break;\n                case 3:\n                    this._terminal.savedCols = this._terminal.cols;\n                    this._terminal.resize(132, this._terminal.rows);\n                    break;\n                case 6:\n                    this._terminal.originMode = true;\n                    break;\n                case 7:\n                    this._terminal.wraparoundMode = true;\n                    break;\n                case 12:\n                    break;\n                case 66:\n                    this._terminal.log('Serial port requested application keypad.');\n                    this._terminal.applicationKeypad = true;\n                    if (this._terminal.viewport) {\n                        this._terminal.viewport.syncScrollArea();\n                    }\n                    break;\n                case 9:\n                case 1000:\n                case 1002:\n                case 1003:\n                    this._terminal.x10Mouse = params[0] === 9;\n                    this._terminal.vt200Mouse = params[0] === 1000;\n                    this._terminal.normalMouse = params[0] > 1000;\n                    this._terminal.mouseEvents = true;\n                    if (this._terminal.element) {\n                        this._terminal.element.classList.add('enable-mouse-events');\n                    }\n                    if (this._terminal.selectionManager) {\n                        this._terminal.selectionManager.disable();\n                    }\n                    this._terminal.log('Binding to mouse events.');\n                    break;\n                case 1004:\n                    this._terminal.sendFocus = true;\n                    break;\n                case 1005:\n                    this._terminal.utfMouse = true;\n                    break;\n                case 1006:\n                    this._terminal.sgrMouse = true;\n                    break;\n                case 1015:\n                    this._terminal.urxvtMouse = true;\n                    break;\n                case 25:\n                    this._terminal.cursorHidden = false;\n                    break;\n                case 1048:\n                    this.saveCursor(params);\n                    break;\n                case 1049:\n                    this.saveCursor(params);\n                case 47:\n                case 1047:\n                    this._terminal.buffers.activateAltBuffer(this._terminal.eraseAttrData());\n                    this._terminal.refresh(0, this._terminal.rows - 1);\n                    if (this._terminal.viewport) {\n                        this._terminal.viewport.syncScrollArea();\n                    }\n                    this._terminal.showCursor();\n                    break;\n                case 2004:\n                    this._terminal.bracketedPasteMode = true;\n                    break;\n            }\n        }\n    };\n    InputHandler.prototype.resetMode = function (params, collect) {\n        if (params.length > 1) {\n            for (var i = 0; i < params.length; i++) {\n                this.resetMode([params[i]]);\n            }\n            return;\n        }\n        if (!collect) {\n            switch (params[0]) {\n                case 4:\n                    this._terminal.insertMode = false;\n                    break;\n                case 20:\n                    break;\n            }\n        }\n        else if (collect === '?') {\n            switch (params[0]) {\n                case 1:\n                    this._terminal.applicationCursor = false;\n                    break;\n                case 3:\n                    if (this._terminal.cols === 132 && this._terminal.savedCols) {\n                        this._terminal.resize(this._terminal.savedCols, this._terminal.rows);\n                    }\n                    delete this._terminal.savedCols;\n                    break;\n                case 6:\n                    this._terminal.originMode = false;\n                    break;\n                case 7:\n                    this._terminal.wraparoundMode = false;\n                    break;\n                case 12:\n                    break;\n                case 66:\n                    this._terminal.log('Switching back to normal keypad.');\n                    this._terminal.applicationKeypad = false;\n                    if (this._terminal.viewport) {\n                        this._terminal.viewport.syncScrollArea();\n                    }\n                    break;\n                case 9:\n                case 1000:\n                case 1002:\n                case 1003:\n                    this._terminal.x10Mouse = false;\n                    this._terminal.vt200Mouse = false;\n                    this._terminal.normalMouse = false;\n                    this._terminal.mouseEvents = false;\n                    if (this._terminal.element) {\n                        this._terminal.element.classList.remove('enable-mouse-events');\n                    }\n                    if (this._terminal.selectionManager) {\n                        this._terminal.selectionManager.enable();\n                    }\n                    break;\n                case 1004:\n                    this._terminal.sendFocus = false;\n                    break;\n                case 1005:\n                    this._terminal.utfMouse = false;\n                    break;\n                case 1006:\n                    this._terminal.sgrMouse = false;\n                    break;\n                case 1015:\n                    this._terminal.urxvtMouse = false;\n                    break;\n                case 25:\n                    this._terminal.cursorHidden = true;\n                    break;\n                case 1048:\n                    this.restoreCursor(params);\n                    break;\n                case 1049:\n                case 47:\n                case 1047:\n                    this._terminal.buffers.activateNormalBuffer();\n                    if (params[0] === 1049) {\n                        this.restoreCursor(params);\n                    }\n                    this._terminal.refresh(0, this._terminal.rows - 1);\n                    if (this._terminal.viewport) {\n                        this._terminal.viewport.syncScrollArea();\n                    }\n                    this._terminal.showCursor();\n                    break;\n                case 2004:\n                    this._terminal.bracketedPasteMode = false;\n                    break;\n            }\n        }\n    };\n    InputHandler.prototype.charAttributes = function (params) {\n        if (params.length === 1 && params[0] === 0) {\n            this._terminal.curAttrData.fg = BufferLine_1.DEFAULT_ATTR_DATA.fg;\n            this._terminal.curAttrData.bg = BufferLine_1.DEFAULT_ATTR_DATA.bg;\n            return;\n        }\n        var l = params.length;\n        var p;\n        var attr = this._terminal.curAttrData;\n        for (var i = 0; i < l; i++) {\n            p = params[i];\n            if (p >= 30 && p <= 37) {\n                attr.fg &= ~(50331648 | 255);\n                attr.fg |= 16777216 | (p - 30);\n            }\n            else if (p >= 40 && p <= 47) {\n                attr.bg &= ~(50331648 | 255);\n                attr.bg |= 16777216 | (p - 40);\n            }\n            else if (p >= 90 && p <= 97) {\n                attr.fg &= ~(50331648 | 255);\n                attr.fg |= 16777216 | (p - 90) | 8;\n            }\n            else if (p >= 100 && p <= 107) {\n                attr.bg &= ~(50331648 | 255);\n                attr.bg |= 16777216 | (p - 100) | 8;\n            }\n            else if (p === 0) {\n                attr.fg = BufferLine_1.DEFAULT_ATTR_DATA.fg;\n                attr.bg = BufferLine_1.DEFAULT_ATTR_DATA.bg;\n            }\n            else if (p === 1) {\n                attr.fg |= 134217728;\n            }\n            else if (p === 3) {\n                attr.bg |= 67108864;\n            }\n            else if (p === 4) {\n                attr.fg |= 268435456;\n            }\n            else if (p === 5) {\n                attr.fg |= 536870912;\n            }\n            else if (p === 7) {\n                attr.fg |= 67108864;\n            }\n            else if (p === 8) {\n                attr.fg |= 1073741824;\n            }\n            else if (p === 2) {\n                attr.bg |= 134217728;\n            }\n            else if (p === 22) {\n                attr.fg &= ~134217728;\n                attr.bg &= ~134217728;\n            }\n            else if (p === 23) {\n                attr.bg &= ~67108864;\n            }\n            else if (p === 24) {\n                attr.fg &= ~268435456;\n            }\n            else if (p === 25) {\n                attr.fg &= ~536870912;\n            }\n            else if (p === 27) {\n                attr.fg &= ~67108864;\n            }\n            else if (p === 28) {\n                attr.fg &= ~1073741824;\n            }\n            else if (p === 39) {\n                attr.fg &= ~(50331648 | 16777215);\n                attr.fg |= BufferLine_1.DEFAULT_ATTR_DATA.fg & (255 | 16777215);\n            }\n            else if (p === 49) {\n                attr.bg &= ~(50331648 | 16777215);\n                attr.bg |= BufferLine_1.DEFAULT_ATTR_DATA.bg & (255 | 16777215);\n            }\n            else if (p === 38) {\n                if (params[i + 1] === 2) {\n                    i += 2;\n                    attr.fg |= 50331648;\n                    attr.fg &= ~16777215;\n                    attr.fg |= BufferLine_1.AttributeData.fromColorRGB([params[i], params[i + 1], params[i + 2]]);\n                    i += 2;\n                }\n                else if (params[i + 1] === 5) {\n                    i += 2;\n                    p = params[i] & 0xff;\n                    attr.fg &= ~(50331648 | 255);\n                    attr.fg |= 33554432 | p;\n                }\n            }\n            else if (p === 48) {\n                if (params[i + 1] === 2) {\n                    i += 2;\n                    attr.bg |= 50331648;\n                    attr.bg &= ~16777215;\n                    attr.bg |= BufferLine_1.AttributeData.fromColorRGB([params[i], params[i + 1], params[i + 2]]);\n                    i += 2;\n                }\n                else if (params[i + 1] === 5) {\n                    i += 2;\n                    p = params[i] & 0xff;\n                    attr.bg &= ~(50331648 | 255);\n                    attr.bg |= 33554432 | p;\n                }\n            }\n            else if (p === 100) {\n                attr.fg &= ~(50331648 | 16777215);\n                attr.fg |= BufferLine_1.DEFAULT_ATTR_DATA.fg & (255 | 16777215);\n                attr.bg &= ~(50331648 | 16777215);\n                attr.bg |= BufferLine_1.DEFAULT_ATTR_DATA.bg & (255 | 16777215);\n            }\n            else {\n                this._terminal.error('Unknown SGR attribute: %d.', p);\n            }\n        }\n    };\n    InputHandler.prototype.deviceStatus = function (params, collect) {\n        if (!collect) {\n            switch (params[0]) {\n                case 5:\n                    this._onData.fire(EscapeSequences_1.C0.ESC + \"[0n\");\n                    break;\n                case 6:\n                    var y = this._terminal.buffer.y + 1;\n                    var x = this._terminal.buffer.x + 1;\n                    this._onData.fire(EscapeSequences_1.C0.ESC + \"[\" + y + \";\" + x + \"R\");\n                    break;\n            }\n        }\n        else if (collect === '?') {\n            switch (params[0]) {\n                case 6:\n                    var y = this._terminal.buffer.y + 1;\n                    var x = this._terminal.buffer.x + 1;\n                    this._onData.fire(EscapeSequences_1.C0.ESC + \"[?\" + y + \";\" + x + \"R\");\n                    break;\n                case 15:\n                    break;\n                case 25:\n                    break;\n                case 26:\n                    break;\n                case 53:\n                    break;\n            }\n        }\n    };\n    InputHandler.prototype.softReset = function (params, collect) {\n        if (collect === '!') {\n            this._terminal.cursorHidden = false;\n            this._terminal.insertMode = false;\n            this._terminal.originMode = false;\n            this._terminal.wraparoundMode = true;\n            this._terminal.applicationKeypad = false;\n            if (this._terminal.viewport) {\n                this._terminal.viewport.syncScrollArea();\n            }\n            this._terminal.applicationCursor = false;\n            this._terminal.buffer.scrollTop = 0;\n            this._terminal.buffer.scrollBottom = this._terminal.rows - 1;\n            this._terminal.curAttrData = BufferLine_1.DEFAULT_ATTR_DATA.clone();\n            this._terminal.buffer.x = this._terminal.buffer.y = 0;\n            this._terminal.charset = null;\n            this._terminal.glevel = 0;\n            this._terminal.charsets = [null];\n        }\n    };\n    InputHandler.prototype.setCursorStyle = function (params, collect) {\n        if (collect === ' ') {\n            var param = params[0] < 1 ? 1 : params[0];\n            switch (param) {\n                case 1:\n                case 2:\n                    this._terminal.setOption('cursorStyle', 'block');\n                    break;\n                case 3:\n                case 4:\n                    this._terminal.setOption('cursorStyle', 'underline');\n                    break;\n                case 5:\n                case 6:\n                    this._terminal.setOption('cursorStyle', 'bar');\n                    break;\n            }\n            var isBlinking = param % 2 === 1;\n            this._terminal.setOption('cursorBlink', isBlinking);\n        }\n    };\n    InputHandler.prototype.setScrollRegion = function (params, collect) {\n        if (collect) {\n            return;\n        }\n        this._terminal.buffer.scrollTop = (params[0] || 1) - 1;\n        this._terminal.buffer.scrollBottom = (params[1] && params[1] <= this._terminal.rows ? params[1] : this._terminal.rows) - 1;\n        this._terminal.buffer.x = 0;\n        this._terminal.buffer.y = 0;\n    };\n    InputHandler.prototype.saveCursor = function (params) {\n        this._terminal.buffer.savedX = this._terminal.buffer.x;\n        this._terminal.buffer.savedY = this._terminal.buffer.y;\n        this._terminal.buffer.savedCurAttrData.fg = this._terminal.curAttrData.fg;\n        this._terminal.buffer.savedCurAttrData.bg = this._terminal.curAttrData.bg;\n    };\n    InputHandler.prototype.restoreCursor = function (params) {\n        this._terminal.buffer.x = this._terminal.buffer.savedX || 0;\n        this._terminal.buffer.y = this._terminal.buffer.savedY || 0;\n        this._terminal.curAttrData.fg = this._terminal.buffer.savedCurAttrData.fg;\n        this._terminal.curAttrData.bg = this._terminal.buffer.savedCurAttrData.bg;\n    };\n    InputHandler.prototype.setTitle = function (data) {\n        this._terminal.handleTitle(data);\n    };\n    InputHandler.prototype.nextLine = function () {\n        this._terminal.buffer.x = 0;\n        this.index();\n    };\n    InputHandler.prototype.keypadApplicationMode = function () {\n        this._terminal.log('Serial port requested application keypad.');\n        this._terminal.applicationKeypad = true;\n        if (this._terminal.viewport) {\n            this._terminal.viewport.syncScrollArea();\n        }\n    };\n    InputHandler.prototype.keypadNumericMode = function () {\n        this._terminal.log('Switching back to normal keypad.');\n        this._terminal.applicationKeypad = false;\n        if (this._terminal.viewport) {\n            this._terminal.viewport.syncScrollArea();\n        }\n    };\n    InputHandler.prototype.selectDefaultCharset = function () {\n        this._terminal.setgLevel(0);\n        this._terminal.setgCharset(0, Charsets_1.DEFAULT_CHARSET);\n    };\n    InputHandler.prototype.selectCharset = function (collectAndFlag) {\n        if (collectAndFlag.length !== 2) {\n            this.selectDefaultCharset();\n            return;\n        }\n        if (collectAndFlag[0] === '/') {\n            return;\n        }\n        this._terminal.setgCharset(GLEVEL[collectAndFlag[0]], Charsets_1.CHARSETS[collectAndFlag[1]] || Charsets_1.DEFAULT_CHARSET);\n        return;\n    };\n    InputHandler.prototype.index = function () {\n        this._terminal.index();\n    };\n    InputHandler.prototype.tabSet = function () {\n        this._terminal.tabSet();\n    };\n    InputHandler.prototype.reverseIndex = function () {\n        this._terminal.reverseIndex();\n    };\n    InputHandler.prototype.reset = function () {\n        this._parser.reset();\n        this._terminal.reset();\n    };\n    InputHandler.prototype.setgLevel = function (level) {\n        this._terminal.setgLevel(level);\n    };\n    return InputHandler;\n}(Lifecycle_1.Disposable));\nexports.InputHandler = InputHandler;\n//# sourceMappingURL=InputHandler.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MouseZoneManager_1 = require(\"./MouseZoneManager\");\nvar CharWidth_1 = require(\"./CharWidth\");\nvar EventEmitter2_1 = require(\"./common/EventEmitter2\");\nvar Linkifier = (function () {\n    function Linkifier(_terminal) {\n        this._terminal = _terminal;\n        this._linkMatchers = [];\n        this._nextLinkMatcherId = 0;\n        this._onLinkHover = new EventEmitter2_1.EventEmitter2();\n        this._onLinkLeave = new EventEmitter2_1.EventEmitter2();\n        this._onLinkTooltip = new EventEmitter2_1.EventEmitter2();\n        this._rowsToLinkify = {\n            start: null,\n            end: null\n        };\n    }\n    Object.defineProperty(Linkifier.prototype, \"onLinkHover\", {\n        get: function () { return this._onLinkHover.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Linkifier.prototype, \"onLinkLeave\", {\n        get: function () { return this._onLinkLeave.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Linkifier.prototype, \"onLinkTooltip\", {\n        get: function () { return this._onLinkTooltip.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Linkifier.prototype.attachToDom = function (mouseZoneManager) {\n        this._mouseZoneManager = mouseZoneManager;\n    };\n    Linkifier.prototype.linkifyRows = function (start, end) {\n        var _this = this;\n        if (!this._mouseZoneManager) {\n            return;\n        }\n        if (this._rowsToLinkify.start === null) {\n            this._rowsToLinkify.start = start;\n            this._rowsToLinkify.end = end;\n        }\n        else {\n            this._rowsToLinkify.start = Math.min(this._rowsToLinkify.start, start);\n            this._rowsToLinkify.end = Math.max(this._rowsToLinkify.end, end);\n        }\n        this._mouseZoneManager.clearAll(start, end);\n        if (this._rowsTimeoutId) {\n            clearTimeout(this._rowsTimeoutId);\n        }\n        this._rowsTimeoutId = setTimeout(function () { return _this._linkifyRows(); }, Linkifier.TIME_BEFORE_LINKIFY);\n    };\n    Linkifier.prototype._linkifyRows = function () {\n        this._rowsTimeoutId = null;\n        var buffer = this._terminal.buffer;\n        var absoluteRowIndexStart = buffer.ydisp + this._rowsToLinkify.start;\n        if (absoluteRowIndexStart >= buffer.lines.length) {\n            return;\n        }\n        var absoluteRowIndexEnd = buffer.ydisp + Math.min(this._rowsToLinkify.end, this._terminal.rows) + 1;\n        var overscanLineLimit = Math.ceil(Linkifier.OVERSCAN_CHAR_LIMIT / this._terminal.cols);\n        var iterator = this._terminal.buffer.iterator(false, absoluteRowIndexStart, absoluteRowIndexEnd, overscanLineLimit, overscanLineLimit);\n        while (iterator.hasNext()) {\n            var lineData = iterator.next();\n            for (var i = 0; i < this._linkMatchers.length; i++) {\n                this._doLinkifyRow(lineData.range.first, lineData.content, this._linkMatchers[i]);\n            }\n        }\n        this._rowsToLinkify.start = null;\n        this._rowsToLinkify.end = null;\n    };\n    Linkifier.prototype.registerLinkMatcher = function (regex, handler, options) {\n        if (options === void 0) { options = {}; }\n        if (!handler) {\n            throw new Error('handler must be defined');\n        }\n        var matcher = {\n            id: this._nextLinkMatcherId++,\n            regex: regex,\n            handler: handler,\n            matchIndex: options.matchIndex,\n            validationCallback: options.validationCallback,\n            hoverTooltipCallback: options.tooltipCallback,\n            hoverLeaveCallback: options.leaveCallback,\n            willLinkActivate: options.willLinkActivate,\n            priority: options.priority || 0\n        };\n        this._addLinkMatcherToList(matcher);\n        return matcher.id;\n    };\n    Linkifier.prototype._addLinkMatcherToList = function (matcher) {\n        if (this._linkMatchers.length === 0) {\n            this._linkMatchers.push(matcher);\n            return;\n        }\n        for (var i = this._linkMatchers.length - 1; i >= 0; i--) {\n            if (matcher.priority <= this._linkMatchers[i].priority) {\n                this._linkMatchers.splice(i + 1, 0, matcher);\n                return;\n            }\n        }\n        this._linkMatchers.splice(0, 0, matcher);\n    };\n    Linkifier.prototype.deregisterLinkMatcher = function (matcherId) {\n        for (var i = 0; i < this._linkMatchers.length; i++) {\n            if (this._linkMatchers[i].id === matcherId) {\n                this._linkMatchers.splice(i, 1);\n                return true;\n            }\n        }\n        return false;\n    };\n    Linkifier.prototype._doLinkifyRow = function (rowIndex, text, matcher) {\n        var _this = this;\n        var rex = new RegExp(matcher.regex.source, matcher.regex.flags + 'g');\n        var match;\n        var stringIndex = -1;\n        var _loop_1 = function () {\n            var uri = match[typeof matcher.matchIndex !== 'number' ? 0 : matcher.matchIndex];\n            if (!uri) {\n                if (this_1._terminal.debug) {\n                    console.log({ match: match, matcher: matcher });\n                    throw new Error('match found without corresponding matchIndex');\n                }\n                return \"break\";\n            }\n            stringIndex = text.indexOf(uri, stringIndex + 1);\n            rex.lastIndex = stringIndex + uri.length;\n            if (stringIndex < 0) {\n                return \"break\";\n            }\n            var bufferIndex = this_1._terminal.buffer.stringIndexToBufferIndex(rowIndex, stringIndex);\n            if (bufferIndex[0] < 0) {\n                return \"break\";\n            }\n            var line = this_1._terminal.buffer.lines.get(bufferIndex[0]);\n            var attr = line.getFg(bufferIndex[1]);\n            var fg;\n            if (attr) {\n                fg = (attr >> 9) & 0x1ff;\n            }\n            if (matcher.validationCallback) {\n                matcher.validationCallback(uri, function (isValid) {\n                    if (_this._rowsTimeoutId) {\n                        return;\n                    }\n                    if (isValid) {\n                        _this._addLink(bufferIndex[1], bufferIndex[0] - _this._terminal.buffer.ydisp, uri, matcher, fg);\n                    }\n                });\n            }\n            else {\n                this_1._addLink(bufferIndex[1], bufferIndex[0] - this_1._terminal.buffer.ydisp, uri, matcher, fg);\n            }\n        };\n        var this_1 = this;\n        while ((match = rex.exec(text)) !== null) {\n            var state_1 = _loop_1();\n            if (state_1 === \"break\")\n                break;\n        }\n    };\n    Linkifier.prototype._addLink = function (x, y, uri, matcher, fg) {\n        var _this = this;\n        var width = CharWidth_1.getStringCellWidth(uri);\n        var x1 = x % this._terminal.cols;\n        var y1 = y + Math.floor(x / this._terminal.cols);\n        var x2 = (x1 + width) % this._terminal.cols;\n        var y2 = y1 + Math.floor((x1 + width) / this._terminal.cols);\n        if (x2 === 0) {\n            x2 = this._terminal.cols;\n            y2--;\n        }\n        this._mouseZoneManager.add(new MouseZoneManager_1.MouseZone(x1 + 1, y1 + 1, x2 + 1, y2 + 1, function (e) {\n            if (matcher.handler) {\n                return matcher.handler(e, uri);\n            }\n            window.open(uri, '_blank');\n        }, function () {\n            _this._onLinkHover.fire(_this._createLinkHoverEvent(x1, y1, x2, y2, fg));\n            _this._terminal.element.classList.add('xterm-cursor-pointer');\n        }, function (e) {\n            _this._onLinkTooltip.fire(_this._createLinkHoverEvent(x1, y1, x2, y2, fg));\n            if (matcher.hoverTooltipCallback) {\n                matcher.hoverTooltipCallback(e, uri);\n            }\n        }, function () {\n            _this._onLinkLeave.fire(_this._createLinkHoverEvent(x1, y1, x2, y2, fg));\n            _this._terminal.element.classList.remove('xterm-cursor-pointer');\n            if (matcher.hoverLeaveCallback) {\n                matcher.hoverLeaveCallback();\n            }\n        }, function (e) {\n            if (matcher.willLinkActivate) {\n                return matcher.willLinkActivate(e, uri);\n            }\n            return true;\n        }));\n    };\n    Linkifier.prototype._createLinkHoverEvent = function (x1, y1, x2, y2, fg) {\n        return { x1: x1, y1: y1, x2: x2, y2: y2, cols: this._terminal.cols, fg: fg };\n    };\n    Linkifier.TIME_BEFORE_LINKIFY = 200;\n    Linkifier.OVERSCAN_CHAR_LIMIT = 2000;\n    return Linkifier;\n}());\nexports.Linkifier = Linkifier;\n//# sourceMappingURL=Linkifier.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MouseHelper = (function () {\n    function MouseHelper(_renderCoordinator) {\n        this._renderCoordinator = _renderCoordinator;\n    }\n    MouseHelper.getCoordsRelativeToElement = function (event, element) {\n        var rect = element.getBoundingClientRect();\n        return [event.clientX - rect.left, event.clientY - rect.top];\n    };\n    MouseHelper.prototype.getCoords = function (event, element, charMeasure, colCount, rowCount, isSelection) {\n        if (!charMeasure.width || !charMeasure.height) {\n            return null;\n        }\n        var coords = MouseHelper.getCoordsRelativeToElement(event, element);\n        if (!coords) {\n            return null;\n        }\n        coords[0] = Math.ceil((coords[0] + (isSelection ? this._renderCoordinator.dimensions.actualCellWidth / 2 : 0)) / this._renderCoordinator.dimensions.actualCellWidth);\n        coords[1] = Math.ceil(coords[1] / this._renderCoordinator.dimensions.actualCellHeight);\n        coords[0] = Math.min(Math.max(coords[0], 1), colCount + (isSelection ? 1 : 0));\n        coords[1] = Math.min(Math.max(coords[1], 1), rowCount);\n        return coords;\n    };\n    MouseHelper.prototype.getRawByteCoords = function (event, element, charMeasure, colCount, rowCount) {\n        var coords = this.getCoords(event, element, charMeasure, colCount, rowCount);\n        var x = coords[0];\n        var y = coords[1];\n        x += 32;\n        y += 32;\n        return { x: x, y: y };\n    };\n    return MouseHelper;\n}());\nexports.MouseHelper = MouseHelper;\n//# sourceMappingURL=MouseHelper.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Lifecycle_1 = require(\"./common/Lifecycle\");\nvar Lifecycle_2 = require(\"./ui/Lifecycle\");\nvar HOVER_DURATION = 500;\nvar MouseZoneManager = (function (_super) {\n    __extends(MouseZoneManager, _super);\n    function MouseZoneManager(_terminal) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._zones = [];\n        _this._areZonesActive = false;\n        _this._tooltipTimeout = null;\n        _this._currentZone = null;\n        _this._lastHoverCoords = [null, null];\n        _this.register(Lifecycle_2.addDisposableDomListener(_this._terminal.element, 'mousedown', function (e) { return _this._onMouseDown(e); }));\n        _this._mouseMoveListener = function (e) { return _this._onMouseMove(e); };\n        _this._mouseLeaveListener = function (e) { return _this._onMouseLeave(e); };\n        _this._clickListener = function (e) { return _this._onClick(e); };\n        return _this;\n    }\n    MouseZoneManager.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._deactivate();\n    };\n    MouseZoneManager.prototype.add = function (zone) {\n        this._zones.push(zone);\n        if (this._zones.length === 1) {\n            this._activate();\n        }\n    };\n    MouseZoneManager.prototype.clearAll = function (start, end) {\n        if (this._zones.length === 0) {\n            return;\n        }\n        if (!end) {\n            start = 0;\n            end = this._terminal.rows - 1;\n        }\n        for (var i = 0; i < this._zones.length; i++) {\n            var zone = this._zones[i];\n            if ((zone.y1 > start && zone.y1 <= end + 1) ||\n                (zone.y2 > start && zone.y2 <= end + 1) ||\n                (zone.y1 < start && zone.y2 > end + 1)) {\n                if (this._currentZone && this._currentZone === zone) {\n                    this._currentZone.leaveCallback();\n                    this._currentZone = null;\n                }\n                this._zones.splice(i--, 1);\n            }\n        }\n        if (this._zones.length === 0) {\n            this._deactivate();\n        }\n    };\n    MouseZoneManager.prototype._activate = function () {\n        if (!this._areZonesActive) {\n            this._areZonesActive = true;\n            this._terminal.element.addEventListener('mousemove', this._mouseMoveListener);\n            this._terminal.element.addEventListener('mouseleave', this._mouseLeaveListener);\n            this._terminal.element.addEventListener('click', this._clickListener);\n        }\n    };\n    MouseZoneManager.prototype._deactivate = function () {\n        if (this._areZonesActive) {\n            this._areZonesActive = false;\n            this._terminal.element.removeEventListener('mousemove', this._mouseMoveListener);\n            this._terminal.element.removeEventListener('mouseleave', this._mouseLeaveListener);\n            this._terminal.element.removeEventListener('click', this._clickListener);\n        }\n    };\n    MouseZoneManager.prototype._onMouseMove = function (e) {\n        if (this._lastHoverCoords[0] !== e.pageX || this._lastHoverCoords[1] !== e.pageY) {\n            this._onHover(e);\n            this._lastHoverCoords = [e.pageX, e.pageY];\n        }\n    };\n    MouseZoneManager.prototype._onHover = function (e) {\n        var _this = this;\n        var zone = this._findZoneEventAt(e);\n        if (zone === this._currentZone) {\n            return;\n        }\n        if (this._currentZone) {\n            this._currentZone.leaveCallback();\n            this._currentZone = null;\n            if (this._tooltipTimeout) {\n                clearTimeout(this._tooltipTimeout);\n            }\n        }\n        if (!zone) {\n            return;\n        }\n        this._currentZone = zone;\n        if (zone.hoverCallback) {\n            zone.hoverCallback(e);\n        }\n        this._tooltipTimeout = setTimeout(function () { return _this._onTooltip(e); }, HOVER_DURATION);\n    };\n    MouseZoneManager.prototype._onTooltip = function (e) {\n        this._tooltipTimeout = null;\n        var zone = this._findZoneEventAt(e);\n        if (zone && zone.tooltipCallback) {\n            zone.tooltipCallback(e);\n        }\n    };\n    MouseZoneManager.prototype._onMouseDown = function (e) {\n        this._initialSelectionLength = this._terminal.getSelection().length;\n        if (!this._areZonesActive) {\n            return;\n        }\n        var zone = this._findZoneEventAt(e);\n        if (zone) {\n            if (zone.willLinkActivate(e)) {\n                e.preventDefault();\n                e.stopImmediatePropagation();\n            }\n        }\n    };\n    MouseZoneManager.prototype._onMouseLeave = function (e) {\n        if (this._currentZone) {\n            this._currentZone.leaveCallback();\n            this._currentZone = null;\n            if (this._tooltipTimeout) {\n                clearTimeout(this._tooltipTimeout);\n            }\n        }\n    };\n    MouseZoneManager.prototype._onClick = function (e) {\n        var zone = this._findZoneEventAt(e);\n        var currentSelectionLength = this._terminal.getSelection().length;\n        if (zone && currentSelectionLength === this._initialSelectionLength) {\n            zone.clickCallback(e);\n            e.preventDefault();\n            e.stopImmediatePropagation();\n        }\n    };\n    MouseZoneManager.prototype._findZoneEventAt = function (e) {\n        var coords = this._terminal.mouseHelper.getCoords(e, this._terminal.screenElement, this._terminal.charMeasure, this._terminal.cols, this._terminal.rows);\n        if (!coords) {\n            return null;\n        }\n        var x = coords[0];\n        var y = coords[1];\n        for (var i = 0; i < this._zones.length; i++) {\n            var zone = this._zones[i];\n            if (zone.y1 === zone.y2) {\n                if (y === zone.y1 && x >= zone.x1 && x < zone.x2) {\n                    return zone;\n                }\n            }\n            else {\n                if ((y === zone.y1 && x >= zone.x1) ||\n                    (y === zone.y2 && x < zone.x2) ||\n                    (y > zone.y1 && y < zone.y2)) {\n                    return zone;\n                }\n            }\n        }\n        return null;\n    };\n    return MouseZoneManager;\n}(Lifecycle_1.Disposable));\nexports.MouseZoneManager = MouseZoneManager;\nvar MouseZone = (function () {\n    function MouseZone(x1, y1, x2, y2, clickCallback, hoverCallback, tooltipCallback, leaveCallback, willLinkActivate) {\n        this.x1 = x1;\n        this.y1 = y1;\n        this.x2 = x2;\n        this.y2 = y2;\n        this.clickCallback = clickCallback;\n        this.hoverCallback = hoverCallback;\n        this.tooltipCallback = tooltipCallback;\n        this.leaveCallback = leaveCallback;\n        this.willLinkActivate = willLinkActivate;\n    }\n    return MouseZone;\n}());\nexports.MouseZone = MouseZone;\n//# sourceMappingURL=MouseZoneManager.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MouseHelper_1 = require(\"./MouseHelper\");\nvar Browser = require(\"./common/Platform\");\nvar SelectionModel_1 = require(\"./SelectionModel\");\nvar AltClickHandler_1 = require(\"./handlers/AltClickHandler\");\nvar BufferLine_1 = require(\"./core/buffer/BufferLine\");\nvar EventEmitter2_1 = require(\"./common/EventEmitter2\");\nvar DRAG_SCROLL_MAX_THRESHOLD = 50;\nvar DRAG_SCROLL_MAX_SPEED = 15;\nvar DRAG_SCROLL_INTERVAL = 50;\nvar ALT_CLICK_MOVE_CURSOR_TIME = 500;\nvar WORD_SEPARATORS = ' ()[]{}\\'\"';\nvar NON_BREAKING_SPACE_CHAR = String.fromCharCode(160);\nvar ALL_NON_BREAKING_SPACE_REGEX = new RegExp(NON_BREAKING_SPACE_CHAR, 'g');\nvar SelectionManager = (function () {\n    function SelectionManager(_terminal, _charMeasure) {\n        this._terminal = _terminal;\n        this._charMeasure = _charMeasure;\n        this._enabled = true;\n        this._workCell = new BufferLine_1.CellData();\n        this._onLinuxMouseSelection = new EventEmitter2_1.EventEmitter2();\n        this._onRedrawRequest = new EventEmitter2_1.EventEmitter2();\n        this._onSelectionChange = new EventEmitter2_1.EventEmitter2();\n        this._initListeners();\n        this.enable();\n        this._model = new SelectionModel_1.SelectionModel(_terminal);\n        this._activeSelectionMode = 0;\n    }\n    Object.defineProperty(SelectionManager.prototype, \"onLinuxMouseSelection\", {\n        get: function () { return this._onLinuxMouseSelection.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionManager.prototype, \"onRedrawRequest\", {\n        get: function () { return this._onRedrawRequest.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionManager.prototype, \"onSelectionChange\", {\n        get: function () { return this._onSelectionChange.event; },\n        enumerable: true,\n        configurable: true\n    });\n    SelectionManager.prototype.dispose = function () {\n        this._removeMouseDownListeners();\n    };\n    Object.defineProperty(SelectionManager.prototype, \"_buffer\", {\n        get: function () {\n            return this._terminal.buffers.active;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SelectionManager.prototype._initListeners = function () {\n        var _this = this;\n        this._mouseMoveListener = function (event) { return _this._onMouseMove(event); };\n        this._mouseUpListener = function (event) { return _this._onMouseUp(event); };\n        this.initBuffersListeners();\n    };\n    SelectionManager.prototype.initBuffersListeners = function () {\n        var _this = this;\n        this._trimListener = this._terminal.buffer.lines.onTrim(function (amount) { return _this._onTrim(amount); });\n        this._terminal.buffers.onBufferActivate(function (e) { return _this._onBufferActivate(e); });\n    };\n    SelectionManager.prototype.disable = function () {\n        this.clearSelection();\n        this._enabled = false;\n    };\n    SelectionManager.prototype.enable = function () {\n        this._enabled = true;\n    };\n    Object.defineProperty(SelectionManager.prototype, \"selectionStart\", {\n        get: function () { return this._model.finalSelectionStart; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionManager.prototype, \"selectionEnd\", {\n        get: function () { return this._model.finalSelectionEnd; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionManager.prototype, \"hasSelection\", {\n        get: function () {\n            var start = this._model.finalSelectionStart;\n            var end = this._model.finalSelectionEnd;\n            if (!start || !end) {\n                return false;\n            }\n            return start[0] !== end[0] || start[1] !== end[1];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionManager.prototype, \"selectionText\", {\n        get: function () {\n            var start = this._model.finalSelectionStart;\n            var end = this._model.finalSelectionEnd;\n            if (!start || !end) {\n                return '';\n            }\n            var result = [];\n            if (this._activeSelectionMode === 3) {\n                if (start[0] === end[0]) {\n                    return '';\n                }\n                for (var i = start[1]; i <= end[1]; i++) {\n                    var lineText = this._buffer.translateBufferLineToString(i, true, start[0], end[0]);\n                    result.push(lineText);\n                }\n            }\n            else {\n                var startRowEndCol = start[1] === end[1] ? end[0] : undefined;\n                result.push(this._buffer.translateBufferLineToString(start[1], true, start[0], startRowEndCol));\n                for (var i = start[1] + 1; i <= end[1] - 1; i++) {\n                    var bufferLine = this._buffer.lines.get(i);\n                    var lineText = this._buffer.translateBufferLineToString(i, true);\n                    if (bufferLine.isWrapped) {\n                        result[result.length - 1] += lineText;\n                    }\n                    else {\n                        result.push(lineText);\n                    }\n                }\n                if (start[1] !== end[1]) {\n                    var bufferLine = this._buffer.lines.get(end[1]);\n                    var lineText = this._buffer.translateBufferLineToString(end[1], true, 0, end[0]);\n                    if (bufferLine.isWrapped) {\n                        result[result.length - 1] += lineText;\n                    }\n                    else {\n                        result.push(lineText);\n                    }\n                }\n            }\n            var formattedResult = result.map(function (line) {\n                return line.replace(ALL_NON_BREAKING_SPACE_REGEX, ' ');\n            }).join(Browser.isMSWindows ? '\\r\\n' : '\\n');\n            return formattedResult;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SelectionManager.prototype.clearSelection = function () {\n        this._model.clearSelection();\n        this._removeMouseDownListeners();\n        this.refresh();\n        this._onSelectionChange.fire();\n    };\n    SelectionManager.prototype.refresh = function (isLinuxMouseSelection) {\n        var _this = this;\n        if (!this._refreshAnimationFrame) {\n            this._refreshAnimationFrame = window.requestAnimationFrame(function () { return _this._refresh(); });\n        }\n        if (Browser.isLinux && isLinuxMouseSelection) {\n            var selectionText = this.selectionText;\n            if (selectionText.length) {\n                this._onLinuxMouseSelection.fire(this.selectionText);\n            }\n        }\n    };\n    SelectionManager.prototype._refresh = function () {\n        this._refreshAnimationFrame = null;\n        this._onRedrawRequest.fire({\n            start: this._model.finalSelectionStart,\n            end: this._model.finalSelectionEnd,\n            columnSelectMode: this._activeSelectionMode === 3\n        });\n    };\n    SelectionManager.prototype.isClickInSelection = function (event) {\n        var coords = this._getMouseBufferCoords(event);\n        var start = this._model.finalSelectionStart;\n        var end = this._model.finalSelectionEnd;\n        if (!start || !end) {\n            return false;\n        }\n        return this._areCoordsInSelection(coords, start, end);\n    };\n    SelectionManager.prototype._areCoordsInSelection = function (coords, start, end) {\n        return (coords[1] > start[1] && coords[1] < end[1]) ||\n            (start[1] === end[1] && coords[1] === start[1] && coords[0] >= start[0] && coords[0] < end[0]) ||\n            (start[1] < end[1] && coords[1] === end[1] && coords[0] < end[0]) ||\n            (start[1] < end[1] && coords[1] === start[1] && coords[0] >= start[0]);\n    };\n    SelectionManager.prototype.selectWordAtCursor = function (event) {\n        var coords = this._getMouseBufferCoords(event);\n        if (coords) {\n            this._selectWordAt(coords, false);\n            this._model.selectionEnd = null;\n            this.refresh(true);\n        }\n    };\n    SelectionManager.prototype.selectAll = function () {\n        this._model.isSelectAllActive = true;\n        this.refresh();\n        this._onSelectionChange.fire();\n    };\n    SelectionManager.prototype.selectLines = function (start, end) {\n        this._model.clearSelection();\n        start = Math.max(start, 0);\n        end = Math.min(end, this._terminal.buffer.lines.length - 1);\n        this._model.selectionStart = [0, start];\n        this._model.selectionEnd = [this._terminal.cols, end];\n        this.refresh();\n        this._onSelectionChange.fire();\n    };\n    SelectionManager.prototype._onTrim = function (amount) {\n        var needsRefresh = this._model.onTrim(amount);\n        if (needsRefresh) {\n            this.refresh();\n        }\n    };\n    SelectionManager.prototype._getMouseBufferCoords = function (event) {\n        var coords = this._terminal.mouseHelper.getCoords(event, this._terminal.screenElement, this._charMeasure, this._terminal.cols, this._terminal.rows, true);\n        if (!coords) {\n            return null;\n        }\n        coords[0]--;\n        coords[1]--;\n        coords[1] += this._terminal.buffer.ydisp;\n        return coords;\n    };\n    SelectionManager.prototype._getMouseEventScrollAmount = function (event) {\n        var offset = MouseHelper_1.MouseHelper.getCoordsRelativeToElement(event, this._terminal.screenElement)[1];\n        var terminalHeight = this._terminal.rows * Math.ceil(this._charMeasure.height * this._terminal.options.lineHeight);\n        if (offset >= 0 && offset <= terminalHeight) {\n            return 0;\n        }\n        if (offset > terminalHeight) {\n            offset -= terminalHeight;\n        }\n        offset = Math.min(Math.max(offset, -DRAG_SCROLL_MAX_THRESHOLD), DRAG_SCROLL_MAX_THRESHOLD);\n        offset /= DRAG_SCROLL_MAX_THRESHOLD;\n        return (offset / Math.abs(offset)) + Math.round(offset * (DRAG_SCROLL_MAX_SPEED - 1));\n    };\n    SelectionManager.prototype.shouldForceSelection = function (event) {\n        if (Browser.isMac) {\n            return event.altKey && this._terminal.options.macOptionClickForcesSelection;\n        }\n        return event.shiftKey;\n    };\n    SelectionManager.prototype.onMouseDown = function (event) {\n        this._mouseDownTimeStamp = event.timeStamp;\n        if (event.button === 2 && this.hasSelection) {\n            return;\n        }\n        if (event.button !== 0) {\n            return;\n        }\n        if (!this._enabled) {\n            if (!this.shouldForceSelection(event)) {\n                return;\n            }\n            event.stopPropagation();\n        }\n        event.preventDefault();\n        this._dragScrollAmount = 0;\n        if (this._enabled && event.shiftKey) {\n            this._onIncrementalClick(event);\n        }\n        else {\n            if (event.detail === 1) {\n                this._onSingleClick(event);\n            }\n            else if (event.detail === 2) {\n                this._onDoubleClick(event);\n            }\n            else if (event.detail === 3) {\n                this._onTripleClick(event);\n            }\n        }\n        this._addMouseDownListeners();\n        this.refresh(true);\n    };\n    SelectionManager.prototype._addMouseDownListeners = function () {\n        var _this = this;\n        this._terminal.element.ownerDocument.addEventListener('mousemove', this._mouseMoveListener);\n        this._terminal.element.ownerDocument.addEventListener('mouseup', this._mouseUpListener);\n        this._dragScrollIntervalTimer = setInterval(function () { return _this._dragScroll(); }, DRAG_SCROLL_INTERVAL);\n    };\n    SelectionManager.prototype._removeMouseDownListeners = function () {\n        if (this._terminal.element.ownerDocument) {\n            this._terminal.element.ownerDocument.removeEventListener('mousemove', this._mouseMoveListener);\n            this._terminal.element.ownerDocument.removeEventListener('mouseup', this._mouseUpListener);\n        }\n        clearInterval(this._dragScrollIntervalTimer);\n        this._dragScrollIntervalTimer = null;\n    };\n    SelectionManager.prototype._onIncrementalClick = function (event) {\n        if (this._model.selectionStart) {\n            this._model.selectionEnd = this._getMouseBufferCoords(event);\n        }\n    };\n    SelectionManager.prototype._onSingleClick = function (event) {\n        this._model.selectionStartLength = 0;\n        this._model.isSelectAllActive = false;\n        this._activeSelectionMode = this.shouldColumnSelect(event) ? 3 : 0;\n        this._model.selectionStart = this._getMouseBufferCoords(event);\n        if (!this._model.selectionStart) {\n            return;\n        }\n        this._model.selectionEnd = null;\n        var line = this._buffer.lines.get(this._model.selectionStart[1]);\n        if (!line) {\n            return;\n        }\n        if (line.length >= this._model.selectionStart[0]) {\n            return;\n        }\n        if (line.hasWidth(this._model.selectionStart[0]) === 0) {\n            this._model.selectionStart[0]++;\n        }\n    };\n    SelectionManager.prototype._onDoubleClick = function (event) {\n        var coords = this._getMouseBufferCoords(event);\n        if (coords) {\n            this._activeSelectionMode = 1;\n            this._selectWordAt(coords, true);\n        }\n    };\n    SelectionManager.prototype._onTripleClick = function (event) {\n        var coords = this._getMouseBufferCoords(event);\n        if (coords) {\n            this._activeSelectionMode = 2;\n            this._selectLineAt(coords[1]);\n        }\n    };\n    SelectionManager.prototype.shouldColumnSelect = function (event) {\n        return event.altKey && !(Browser.isMac && this._terminal.options.macOptionClickForcesSelection);\n    };\n    SelectionManager.prototype._onMouseMove = function (event) {\n        event.stopImmediatePropagation();\n        var previousSelectionEnd = this._model.selectionEnd ? [this._model.selectionEnd[0], this._model.selectionEnd[1]] : null;\n        this._model.selectionEnd = this._getMouseBufferCoords(event);\n        if (!this._model.selectionEnd) {\n            this.refresh(true);\n            return;\n        }\n        if (this._activeSelectionMode === 2) {\n            if (this._model.selectionEnd[1] < this._model.selectionStart[1]) {\n                this._model.selectionEnd[0] = 0;\n            }\n            else {\n                this._model.selectionEnd[0] = this._terminal.cols;\n            }\n        }\n        else if (this._activeSelectionMode === 1) {\n            this._selectToWordAt(this._model.selectionEnd);\n        }\n        this._dragScrollAmount = this._getMouseEventScrollAmount(event);\n        if (this._activeSelectionMode !== 3) {\n            if (this._dragScrollAmount > 0) {\n                this._model.selectionEnd[0] = this._terminal.cols;\n            }\n            else if (this._dragScrollAmount < 0) {\n                this._model.selectionEnd[0] = 0;\n            }\n        }\n        if (this._model.selectionEnd[1] < this._buffer.lines.length) {\n            if (this._buffer.lines.get(this._model.selectionEnd[1]).hasWidth(this._model.selectionEnd[0]) === 0) {\n                this._model.selectionEnd[0]++;\n            }\n        }\n        if (!previousSelectionEnd ||\n            previousSelectionEnd[0] !== this._model.selectionEnd[0] ||\n            previousSelectionEnd[1] !== this._model.selectionEnd[1]) {\n            this.refresh(true);\n        }\n    };\n    SelectionManager.prototype._dragScroll = function () {\n        if (this._dragScrollAmount) {\n            this._terminal.scrollLines(this._dragScrollAmount, false);\n            if (this._dragScrollAmount > 0) {\n                if (this._activeSelectionMode !== 3) {\n                    this._model.selectionEnd[0] = this._terminal.cols;\n                }\n                this._model.selectionEnd[1] = Math.min(this._terminal.buffer.ydisp + this._terminal.rows, this._terminal.buffer.lines.length - 1);\n            }\n            else {\n                if (this._activeSelectionMode !== 3) {\n                    this._model.selectionEnd[0] = 0;\n                }\n                this._model.selectionEnd[1] = this._terminal.buffer.ydisp;\n            }\n            this.refresh();\n        }\n    };\n    SelectionManager.prototype._onMouseUp = function (event) {\n        var timeElapsed = event.timeStamp - this._mouseDownTimeStamp;\n        this._removeMouseDownListeners();\n        if (this.selectionText.length <= 1 && timeElapsed < ALT_CLICK_MOVE_CURSOR_TIME) {\n            (new AltClickHandler_1.AltClickHandler(event, this._terminal)).move();\n        }\n        else if (this.hasSelection) {\n            this._onSelectionChange.fire();\n        }\n    };\n    SelectionManager.prototype._onBufferActivate = function (e) {\n        var _this = this;\n        this.clearSelection();\n        if (this._trimListener) {\n            this._trimListener.dispose();\n        }\n        this._trimListener = e.activeBuffer.lines.onTrim(function (amount) { return _this._onTrim(amount); });\n    };\n    SelectionManager.prototype._convertViewportColToCharacterIndex = function (bufferLine, coords) {\n        var charIndex = coords[0];\n        for (var i = 0; coords[0] >= i; i++) {\n            var length_1 = bufferLine.loadCell(i, this._workCell).getChars().length;\n            if (this._workCell.getWidth() === 0) {\n                charIndex--;\n            }\n            else if (length_1 > 1 && coords[0] !== i) {\n                charIndex += length_1 - 1;\n            }\n        }\n        return charIndex;\n    };\n    SelectionManager.prototype.setSelection = function (col, row, length) {\n        this._model.clearSelection();\n        this._removeMouseDownListeners();\n        this._model.selectionStart = [col, row];\n        this._model.selectionStartLength = length;\n        this.refresh();\n    };\n    SelectionManager.prototype._getWordAt = function (coords, allowWhitespaceOnlySelection, followWrappedLinesAbove, followWrappedLinesBelow) {\n        if (followWrappedLinesAbove === void 0) { followWrappedLinesAbove = true; }\n        if (followWrappedLinesBelow === void 0) { followWrappedLinesBelow = true; }\n        if (coords[0] >= this._terminal.cols) {\n            return null;\n        }\n        var bufferLine = this._buffer.lines.get(coords[1]);\n        if (!bufferLine) {\n            return null;\n        }\n        var line = this._buffer.translateBufferLineToString(coords[1], false);\n        var startIndex = this._convertViewportColToCharacterIndex(bufferLine, coords);\n        var endIndex = startIndex;\n        var charOffset = coords[0] - startIndex;\n        var leftWideCharCount = 0;\n        var rightWideCharCount = 0;\n        var leftLongCharOffset = 0;\n        var rightLongCharOffset = 0;\n        if (line.charAt(startIndex) === ' ') {\n            while (startIndex > 0 && line.charAt(startIndex - 1) === ' ') {\n                startIndex--;\n            }\n            while (endIndex < line.length && line.charAt(endIndex + 1) === ' ') {\n                endIndex++;\n            }\n        }\n        else {\n            var startCol = coords[0];\n            var endCol = coords[0];\n            if (bufferLine.getWidth(startCol) === 0) {\n                leftWideCharCount++;\n                startCol--;\n            }\n            if (bufferLine.getWidth(endCol) === 2) {\n                rightWideCharCount++;\n                endCol++;\n            }\n            var length_2 = bufferLine.getString(endCol).length;\n            if (length_2 > 1) {\n                rightLongCharOffset += length_2 - 1;\n                endIndex += length_2 - 1;\n            }\n            while (startCol > 0 && startIndex > 0 && !this._isCharWordSeparator(bufferLine.loadCell(startCol - 1, this._workCell))) {\n                bufferLine.loadCell(startCol - 1, this._workCell);\n                var length_3 = this._workCell.getChars().length;\n                if (this._workCell.getWidth() === 0) {\n                    leftWideCharCount++;\n                    startCol--;\n                }\n                else if (length_3 > 1) {\n                    leftLongCharOffset += length_3 - 1;\n                    startIndex -= length_3 - 1;\n                }\n                startIndex--;\n                startCol--;\n            }\n            while (endCol < bufferLine.length && endIndex + 1 < line.length && !this._isCharWordSeparator(bufferLine.loadCell(endCol + 1, this._workCell))) {\n                bufferLine.loadCell(endCol + 1, this._workCell);\n                var length_4 = this._workCell.getChars().length;\n                if (this._workCell.getWidth() === 2) {\n                    rightWideCharCount++;\n                    endCol++;\n                }\n                else if (length_4 > 1) {\n                    rightLongCharOffset += length_4 - 1;\n                    endIndex += length_4 - 1;\n                }\n                endIndex++;\n                endCol++;\n            }\n        }\n        endIndex++;\n        var start = startIndex\n            + charOffset\n            - leftWideCharCount\n            + leftLongCharOffset;\n        var length = Math.min(this._terminal.cols, endIndex\n            - startIndex\n            + leftWideCharCount\n            + rightWideCharCount\n            - leftLongCharOffset\n            - rightLongCharOffset);\n        if (!allowWhitespaceOnlySelection && line.slice(startIndex, endIndex).trim() === '') {\n            return null;\n        }\n        if (followWrappedLinesAbove) {\n            if (start === 0 && bufferLine.getCodePoint(0) !== 32) {\n                var previousBufferLine = this._buffer.lines.get(coords[1] - 1);\n                if (previousBufferLine && bufferLine.isWrapped && previousBufferLine.getCodePoint(this._terminal.cols - 1) !== 32) {\n                    var previousLineWordPosition = this._getWordAt([this._terminal.cols - 1, coords[1] - 1], false, true, false);\n                    if (previousLineWordPosition) {\n                        var offset = this._terminal.cols - previousLineWordPosition.start;\n                        start -= offset;\n                        length += offset;\n                    }\n                }\n            }\n        }\n        if (followWrappedLinesBelow) {\n            if (start + length === this._terminal.cols && bufferLine.getCodePoint(this._terminal.cols - 1) !== 32) {\n                var nextBufferLine = this._buffer.lines.get(coords[1] + 1);\n                if (nextBufferLine && nextBufferLine.isWrapped && nextBufferLine.getCodePoint(0) !== 32) {\n                    var nextLineWordPosition = this._getWordAt([0, coords[1] + 1], false, false, true);\n                    if (nextLineWordPosition) {\n                        length += nextLineWordPosition.length;\n                    }\n                }\n            }\n        }\n        return { start: start, length: length };\n    };\n    SelectionManager.prototype._selectWordAt = function (coords, allowWhitespaceOnlySelection) {\n        var wordPosition = this._getWordAt(coords, allowWhitespaceOnlySelection);\n        if (wordPosition) {\n            while (wordPosition.start < 0) {\n                wordPosition.start += this._terminal.cols;\n                coords[1]--;\n            }\n            this._model.selectionStart = [wordPosition.start, coords[1]];\n            this._model.selectionStartLength = wordPosition.length;\n        }\n    };\n    SelectionManager.prototype._selectToWordAt = function (coords) {\n        var wordPosition = this._getWordAt(coords, true);\n        if (wordPosition) {\n            var endRow = coords[1];\n            while (wordPosition.start < 0) {\n                wordPosition.start += this._terminal.cols;\n                endRow--;\n            }\n            if (!this._model.areSelectionValuesReversed()) {\n                while (wordPosition.start + wordPosition.length > this._terminal.cols) {\n                    wordPosition.length -= this._terminal.cols;\n                    endRow++;\n                }\n            }\n            this._model.selectionEnd = [this._model.areSelectionValuesReversed() ? wordPosition.start : wordPosition.start + wordPosition.length, endRow];\n        }\n    };\n    SelectionManager.prototype._isCharWordSeparator = function (cell) {\n        if (cell.getWidth() === 0) {\n            return false;\n        }\n        return WORD_SEPARATORS.indexOf(cell.getChars()) >= 0;\n    };\n    SelectionManager.prototype._selectLineAt = function (line) {\n        var wrappedRange = this._buffer.getWrappedRangeForLine(line);\n        this._model.selectionStart = [0, wrappedRange.first];\n        this._model.selectionEnd = [this._terminal.cols, wrappedRange.last];\n        this._model.selectionStartLength = 0;\n    };\n    return SelectionManager;\n}());\nexports.SelectionManager = SelectionManager;\n//# sourceMappingURL=SelectionManager.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar SelectionModel = (function () {\n    function SelectionModel(_terminal) {\n        this._terminal = _terminal;\n        this.clearSelection();\n    }\n    SelectionModel.prototype.clearSelection = function () {\n        this.selectionStart = null;\n        this.selectionEnd = null;\n        this.isSelectAllActive = false;\n        this.selectionStartLength = 0;\n    };\n    Object.defineProperty(SelectionModel.prototype, \"finalSelectionStart\", {\n        get: function () {\n            if (this.isSelectAllActive) {\n                return [0, 0];\n            }\n            if (!this.selectionEnd || !this.selectionStart) {\n                return this.selectionStart;\n            }\n            return this.areSelectionValuesReversed() ? this.selectionEnd : this.selectionStart;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionModel.prototype, \"finalSelectionEnd\", {\n        get: function () {\n            if (this.isSelectAllActive) {\n                return [this._terminal.cols, this._terminal.buffer.ybase + this._terminal.rows - 1];\n            }\n            if (!this.selectionStart) {\n                return null;\n            }\n            if (!this.selectionEnd || this.areSelectionValuesReversed()) {\n                var startPlusLength = this.selectionStart[0] + this.selectionStartLength;\n                if (startPlusLength > this._terminal.cols) {\n                    return [startPlusLength % this._terminal.cols, this.selectionStart[1] + Math.floor(startPlusLength / this._terminal.cols)];\n                }\n                return [startPlusLength, this.selectionStart[1]];\n            }\n            if (this.selectionStartLength) {\n                if (this.selectionEnd[1] === this.selectionStart[1]) {\n                    return [Math.max(this.selectionStart[0] + this.selectionStartLength, this.selectionEnd[0]), this.selectionEnd[1]];\n                }\n            }\n            return this.selectionEnd;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SelectionModel.prototype.areSelectionValuesReversed = function () {\n        var start = this.selectionStart;\n        var end = this.selectionEnd;\n        if (!start || !end) {\n            return false;\n        }\n        return start[1] > end[1] || (start[1] === end[1] && start[0] > end[0]);\n    };\n    SelectionModel.prototype.onTrim = function (amount) {\n        if (this.selectionStart) {\n            this.selectionStart[1] -= amount;\n        }\n        if (this.selectionEnd) {\n            this.selectionEnd[1] -= amount;\n        }\n        if (this.selectionEnd && this.selectionEnd[1] < 0) {\n            this.clearSelection();\n            return true;\n        }\n        if (this.selectionStart && this.selectionStart[1] < 0) {\n            this.selectionStart[1] = 0;\n        }\n        return false;\n    };\n    return SelectionModel;\n}());\nexports.SelectionModel = SelectionModel;\n//# sourceMappingURL=SelectionModel.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_BELL_SOUND = 'data:audio/wav;base64,UklGRigBAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQQBAADpAFgCwAMlBZoG/wdmCcoKRAypDQ8PbRDBEQQTOxRtFYcWlBePGIUZXhoiG88bcBz7HHIdzh0WHlMeZx51HmkeUx4WHs8dah0AHXwc3hs9G4saxRnyGBIYGBcQFv8U4RPAEoYRQBACD70NWwwHC6gJOwjWBloF7gOBAhABkf8b/qv8R/ve+Xf4Ife79W/0JfPZ8Z/wde9N7ijtE+wU6xvqM+lb6H7nw+YX5mrlxuQz5Mzje+Ma49fioeKD4nXiYeJy4pHitOL04j/jn+MN5IPkFOWs5U3mDefM55/ogOl36m7rdOyE7abuyu8D8Unyj/Pg9D/2qfcb+Yn6/vuK/Qj/lAAlAg==';\nvar SoundManager = (function () {\n    function SoundManager(_terminal) {\n        this._terminal = _terminal;\n    }\n    Object.defineProperty(SoundManager, \"audioContext\", {\n        get: function () {\n            if (!SoundManager._audioContext) {\n                var audioContextCtor = window.AudioContext || window.webkitAudioContext;\n                if (!audioContextCtor) {\n                    console.warn('Web Audio API is not supported by this browser. Consider upgrading to the latest version');\n                    return null;\n                }\n                SoundManager._audioContext = new audioContextCtor();\n            }\n            return SoundManager._audioContext;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SoundManager.prototype.playBellSound = function () {\n        var ctx = SoundManager.audioContext;\n        if (!ctx) {\n            return;\n        }\n        var bellAudioSource = ctx.createBufferSource();\n        ctx.decodeAudioData(this._base64ToArrayBuffer(this._removeMimeType(this._terminal.options.bellSound)), function (buffer) {\n            bellAudioSource.buffer = buffer;\n            bellAudioSource.connect(ctx.destination);\n            bellAudioSource.start(0);\n        });\n    };\n    SoundManager.prototype._base64ToArrayBuffer = function (base64) {\n        var binaryString = window.atob(base64);\n        var len = binaryString.length;\n        var bytes = new Uint8Array(len);\n        for (var i = 0; i < len; i++) {\n            bytes[i] = binaryString.charCodeAt(i);\n        }\n        return bytes.buffer;\n    };\n    SoundManager.prototype._removeMimeType = function (dataURI) {\n        var splitUri = dataURI.split(',');\n        return splitUri[1];\n    };\n    return SoundManager;\n}());\nexports.SoundManager = SoundManager;\n//# sourceMappingURL=SoundManager.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.blankLine = 'Blank line';\nexports.promptLabel = 'Terminal input';\nexports.tooMuchOutput = 'Too much output to announce, navigate to rows manually to read';\n//# sourceMappingURL=Strings.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BufferSet_1 = require(\"./BufferSet\");\nvar Buffer_1 = require(\"./Buffer\");\nvar CompositionHelper_1 = require(\"./CompositionHelper\");\nvar EventEmitter_1 = require(\"./common/EventEmitter\");\nvar Viewport_1 = require(\"./Viewport\");\nvar Clipboard_1 = require(\"./Clipboard\");\nvar EscapeSequences_1 = require(\"./common/data/EscapeSequences\");\nvar InputHandler_1 = require(\"./InputHandler\");\nvar Renderer_1 = require(\"./renderer/Renderer\");\nvar Linkifier_1 = require(\"./Linkifier\");\nvar SelectionManager_1 = require(\"./SelectionManager\");\nvar CharMeasure_1 = require(\"./CharMeasure\");\nvar Browser = require(\"./common/Platform\");\nvar Lifecycle_1 = require(\"./ui/Lifecycle\");\nvar Strings = require(\"./Strings\");\nvar MouseHelper_1 = require(\"./MouseHelper\");\nvar SoundManager_1 = require(\"./SoundManager\");\nvar MouseZoneManager_1 = require(\"./MouseZoneManager\");\nvar AccessibilityManager_1 = require(\"./AccessibilityManager\");\nvar CharAtlasCache_1 = require(\"./renderer/atlas/CharAtlasCache\");\nvar DomRenderer_1 = require(\"./renderer/dom/DomRenderer\");\nvar Keyboard_1 = require(\"./core/input/Keyboard\");\nvar Clone_1 = require(\"./common/Clone\");\nvar EventEmitter2_1 = require(\"./common/EventEmitter2\");\nvar BufferLine_1 = require(\"./core/buffer/BufferLine\");\nvar WindowsMode_1 = require(\"./WindowsMode\");\nvar ColorManager_1 = require(\"./ui/ColorManager\");\nvar RenderCoordinator_1 = require(\"./renderer/RenderCoordinator\");\nvar document = (typeof window !== 'undefined') ? window.document : null;\nvar WRITE_BUFFER_PAUSE_THRESHOLD = 5;\nvar WRITE_TIMEOUT_MS = 12;\nvar WRITE_BUFFER_LENGTH_THRESHOLD = 50;\nvar MINIMUM_COLS = 2;\nvar MINIMUM_ROWS = 1;\nvar CONSTRUCTOR_ONLY_OPTIONS = ['cols', 'rows'];\nvar DEFAULT_OPTIONS = {\n    cols: 80,\n    rows: 24,\n    convertEol: false,\n    termName: 'xterm',\n    cursorBlink: false,\n    cursorStyle: 'block',\n    bellSound: SoundManager_1.DEFAULT_BELL_SOUND,\n    bellStyle: 'none',\n    drawBoldTextInBrightColors: true,\n    enableBold: true,\n    experimentalCharAtlas: 'static',\n    fontFamily: 'courier-new, courier, monospace',\n    fontSize: 15,\n    fontWeight: 'normal',\n    fontWeightBold: 'bold',\n    lineHeight: 1.0,\n    letterSpacing: 0,\n    scrollback: 1000,\n    screenKeys: false,\n    screenReaderMode: false,\n    debug: false,\n    macOptionIsMeta: false,\n    macOptionClickForcesSelection: false,\n    cancelEvents: false,\n    disableStdin: false,\n    useFlowControl: false,\n    allowTransparency: false,\n    tabStopWidth: 8,\n    theme: undefined,\n    rightClickSelectsWord: Browser.isMac,\n    rendererType: 'canvas',\n    windowsMode: false\n};\nvar Terminal = (function (_super) {\n    __extends(Terminal, _super);\n    function Terminal(options) {\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this) || this;\n        _this.browser = Browser;\n        _this._blankLine = null;\n        _this._onCursorMove = new EventEmitter2_1.EventEmitter2();\n        _this._onData = new EventEmitter2_1.EventEmitter2();\n        _this._onKey = new EventEmitter2_1.EventEmitter2();\n        _this._onLineFeed = new EventEmitter2_1.EventEmitter2();\n        _this._onRender = new EventEmitter2_1.EventEmitter2();\n        _this._onResize = new EventEmitter2_1.EventEmitter2();\n        _this._onScroll = new EventEmitter2_1.EventEmitter2();\n        _this._onSelectionChange = new EventEmitter2_1.EventEmitter2();\n        _this._onTitleChange = new EventEmitter2_1.EventEmitter2();\n        _this.options = Clone_1.clone(options);\n        _this._setup();\n        _this.onCursorMove(function () { return _this.emit('cursormove'); });\n        _this.onData(function (e) { return _this.emit('data', e); });\n        _this.onKey(function (e) { return _this.emit('key', e.key, e.domEvent); });\n        _this.onLineFeed(function () { return _this.emit('linefeed'); });\n        _this.onRender(function (e) { return _this.emit('refresh', e); });\n        _this.onResize(function (e) { return _this.emit('resize', e); });\n        _this.onSelectionChange(function () { return _this.emit('selection'); });\n        _this.onScroll(function (e) { return _this.emit('scroll', e); });\n        _this.onTitleChange(function (e) { return _this.emit('title', e); });\n        return _this;\n    }\n    Object.defineProperty(Terminal.prototype, \"onCursorMove\", {\n        get: function () { return this._onCursorMove.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onData\", {\n        get: function () { return this._onData.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onKey\", {\n        get: function () { return this._onKey.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onLineFeed\", {\n        get: function () { return this._onLineFeed.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onRender\", {\n        get: function () { return this._onRender.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onResize\", {\n        get: function () { return this._onResize.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onScroll\", {\n        get: function () { return this._onScroll.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onSelectionChange\", {\n        get: function () { return this._onSelectionChange.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onTitleChange\", {\n        get: function () { return this._onTitleChange.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Terminal.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        if (this._windowsMode) {\n            this._windowsMode.dispose();\n            this._windowsMode = undefined;\n        }\n        this._customKeyEventHandler = null;\n        CharAtlasCache_1.removeTerminalFromCache(this);\n        this.handler = function () { };\n        this.write = function () { };\n        if (this.element && this.element.parentNode) {\n            this.element.parentNode.removeChild(this.element);\n        }\n    };\n    Terminal.prototype.destroy = function () {\n        this.dispose();\n    };\n    Terminal.prototype._setup = function () {\n        var _this = this;\n        Object.keys(DEFAULT_OPTIONS).forEach(function (key) {\n            if (_this.options[key] === null || _this.options[key] === undefined) {\n                _this.options[key] = DEFAULT_OPTIONS[key];\n            }\n        });\n        this._parent = document ? document.body : null;\n        this.cols = Math.max(this.options.cols, MINIMUM_COLS);\n        this.rows = Math.max(this.options.rows, MINIMUM_ROWS);\n        if (this.options.handler) {\n            this.onData(this.options.handler);\n        }\n        this.cursorState = 0;\n        this.cursorHidden = false;\n        this._customKeyEventHandler = null;\n        this.applicationKeypad = false;\n        this.applicationCursor = false;\n        this.originMode = false;\n        this.insertMode = false;\n        this.wraparoundMode = true;\n        this.bracketedPasteMode = false;\n        this.charset = null;\n        this.gcharset = null;\n        this.glevel = 0;\n        this.charsets = [null];\n        this.curAttrData = BufferLine_1.DEFAULT_ATTR_DATA.clone();\n        this._eraseAttrData = BufferLine_1.DEFAULT_ATTR_DATA.clone();\n        this.params = [];\n        this.currentParam = 0;\n        this.writeBuffer = [];\n        this.writeBufferUtf8 = [];\n        this._writeInProgress = false;\n        this._xoffSentToCatchUp = false;\n        this._userScrolling = false;\n        this._inputHandler = new InputHandler_1.InputHandler(this);\n        this._inputHandler.onCursorMove(function () { return _this._onCursorMove.fire(); });\n        this._inputHandler.onLineFeed(function () { return _this._onLineFeed.fire(); });\n        this._inputHandler.onData(function (e) { return _this._onData.fire(e); });\n        this.register(this._inputHandler);\n        this.selectionManager = this.selectionManager || null;\n        this.linkifier = this.linkifier || new Linkifier_1.Linkifier(this);\n        this._mouseZoneManager = this._mouseZoneManager || null;\n        this.soundManager = this.soundManager || new SoundManager_1.SoundManager(this);\n        this.buffers = new BufferSet_1.BufferSet(this);\n        if (this.selectionManager) {\n            this.selectionManager.clearSelection();\n            this.selectionManager.initBuffersListeners();\n        }\n        if (this.options.windowsMode) {\n            this._windowsMode = WindowsMode_1.applyWindowsMode(this);\n        }\n    };\n    Object.defineProperty(Terminal.prototype, \"buffer\", {\n        get: function () {\n            return this.buffers.active;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Terminal.prototype.eraseAttrData = function () {\n        this._eraseAttrData.bg &= ~(50331648 | 0xFFFFFF);\n        this._eraseAttrData.bg |= this.curAttrData.bg & ~0xFC000000;\n        return this._eraseAttrData;\n    };\n    Terminal.prototype.focus = function () {\n        if (this.textarea) {\n            this.textarea.focus({ preventScroll: true });\n        }\n    };\n    Object.defineProperty(Terminal.prototype, \"isFocused\", {\n        get: function () {\n            return document.activeElement === this.textarea && document.hasFocus();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Terminal.prototype.getOption = function (key) {\n        if (!(key in DEFAULT_OPTIONS)) {\n            throw new Error('No option with key \"' + key + '\"');\n        }\n        return this.options[key];\n    };\n    Terminal.prototype.setOption = function (key, value) {\n        if (!(key in DEFAULT_OPTIONS)) {\n            throw new Error('No option with key \"' + key + '\"');\n        }\n        if (CONSTRUCTOR_ONLY_OPTIONS.indexOf(key) !== -1) {\n            console.error(\"Option \\\"\" + key + \"\\\" can only be set in the constructor\");\n        }\n        if (this.options[key] === value) {\n            return;\n        }\n        switch (key) {\n            case 'bellStyle':\n                if (!value) {\n                    value = 'none';\n                }\n                break;\n            case 'cursorStyle':\n                if (!value) {\n                    value = 'block';\n                }\n                break;\n            case 'fontWeight':\n                if (!value) {\n                    value = 'normal';\n                }\n                break;\n            case 'fontWeightBold':\n                if (!value) {\n                    value = 'bold';\n                }\n                break;\n            case 'lineHeight':\n                if (value < 1) {\n                    console.warn(key + \" cannot be less than 1, value: \" + value);\n                    return;\n                }\n            case 'rendererType':\n                if (!value) {\n                    value = 'canvas';\n                }\n                break;\n            case 'tabStopWidth':\n                if (value < 1) {\n                    console.warn(key + \" cannot be less than 1, value: \" + value);\n                    return;\n                }\n                break;\n            case 'theme':\n                this._setTheme(value);\n                break;\n            case 'scrollback':\n                value = Math.min(value, Buffer_1.MAX_BUFFER_SIZE);\n                if (value < 0) {\n                    console.warn(key + \" cannot be less than 0, value: \" + value);\n                    return;\n                }\n                if (this.options[key] !== value) {\n                    var newBufferLength = this.rows + value;\n                    if (this.buffer.lines.length > newBufferLength) {\n                        var amountToTrim = this.buffer.lines.length - newBufferLength;\n                        var needsRefresh = (this.buffer.ydisp - amountToTrim < 0);\n                        this.buffer.lines.trimStart(amountToTrim);\n                        this.buffer.ybase = Math.max(this.buffer.ybase - amountToTrim, 0);\n                        this.buffer.ydisp = Math.max(this.buffer.ydisp - amountToTrim, 0);\n                        if (needsRefresh) {\n                            this.refresh(0, this.rows - 1);\n                        }\n                    }\n                }\n                break;\n        }\n        this.options[key] = value;\n        switch (key) {\n            case 'fontFamily':\n            case 'fontSize':\n                if (this._renderCoordinator) {\n                    this._renderCoordinator.clear();\n                    this.charMeasure.measure(this.options);\n                }\n                break;\n            case 'drawBoldTextInBrightColors':\n            case 'experimentalCharAtlas':\n            case 'enableBold':\n            case 'letterSpacing':\n            case 'lineHeight':\n            case 'fontWeight':\n            case 'fontWeightBold':\n                if (this._renderCoordinator) {\n                    this._renderCoordinator.clear();\n                    this._renderCoordinator.onResize(this.cols, this.rows);\n                    this.refresh(0, this.rows - 1);\n                }\n                break;\n            case 'rendererType':\n                if (this._renderCoordinator) {\n                    this._renderCoordinator.setRenderer(this._createRenderer());\n                }\n                break;\n            case 'scrollback':\n                this.buffers.resize(this.cols, this.rows);\n                if (this.viewport) {\n                    this.viewport.syncScrollArea();\n                }\n                break;\n            case 'screenReaderMode':\n                if (value) {\n                    if (!this._accessibilityManager && this._renderCoordinator) {\n                        this._accessibilityManager = new AccessibilityManager_1.AccessibilityManager(this, this._renderCoordinator.dimensions);\n                    }\n                }\n                else {\n                    if (this._accessibilityManager) {\n                        this._accessibilityManager.dispose();\n                        this._accessibilityManager = null;\n                    }\n                }\n                break;\n            case 'tabStopWidth':\n                this.buffers.setupTabStops();\n                break;\n            case 'windowsMode':\n                if (value) {\n                    if (!this._windowsMode) {\n                        this._windowsMode = WindowsMode_1.applyWindowsMode(this);\n                    }\n                }\n                else {\n                    if (this._windowsMode) {\n                        this._windowsMode.dispose();\n                        this._windowsMode = undefined;\n                    }\n                }\n                break;\n        }\n        if (this._renderCoordinator) {\n            this._renderCoordinator.onOptionsChanged();\n        }\n    };\n    Terminal.prototype._onTextAreaFocus = function (ev) {\n        if (this.sendFocus) {\n            this.handler(EscapeSequences_1.C0.ESC + '[I');\n        }\n        this.updateCursorStyle(ev);\n        this.element.classList.add('focus');\n        this.showCursor();\n        this.emit('focus');\n    };\n    Terminal.prototype.blur = function () {\n        return this.textarea.blur();\n    };\n    Terminal.prototype._onTextAreaBlur = function () {\n        this.textarea.value = '';\n        this.refresh(this.buffer.y, this.buffer.y);\n        if (this.sendFocus) {\n            this.handler(EscapeSequences_1.C0.ESC + '[O');\n        }\n        this.element.classList.remove('focus');\n        this.emit('blur');\n    };\n    Terminal.prototype._initGlobal = function () {\n        var _this = this;\n        this._bindKeys();\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'copy', function (event) {\n            if (!_this.hasSelection()) {\n                return;\n            }\n            Clipboard_1.copyHandler(event, _this, _this.selectionManager);\n        }));\n        var pasteHandlerWrapper = function (event) { return Clipboard_1.pasteHandler(event, _this); };\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'paste', pasteHandlerWrapper));\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'paste', pasteHandlerWrapper));\n        if (Browser.isFirefox) {\n            this.register(Lifecycle_1.addDisposableDomListener(this.element, 'mousedown', function (event) {\n                if (event.button === 2) {\n                    Clipboard_1.rightClickHandler(event, _this, _this.selectionManager, _this.options.rightClickSelectsWord);\n                }\n            }));\n        }\n        else {\n            this.register(Lifecycle_1.addDisposableDomListener(this.element, 'contextmenu', function (event) {\n                Clipboard_1.rightClickHandler(event, _this, _this.selectionManager, _this.options.rightClickSelectsWord);\n            }));\n        }\n        if (Browser.isLinux) {\n            this.register(Lifecycle_1.addDisposableDomListener(this.element, 'auxclick', function (event) {\n                if (event.button === 1) {\n                    Clipboard_1.moveTextAreaUnderMouseCursor(event, _this);\n                }\n            }));\n        }\n    };\n    Terminal.prototype._bindKeys = function () {\n        var _this = this;\n        var self = this;\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'keydown', function (ev) {\n            if (document.activeElement !== this) {\n                return;\n            }\n            self._keyDown(ev);\n        }, true));\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'keypress', function (ev) {\n            if (document.activeElement !== this) {\n                return;\n            }\n            self._keyPress(ev);\n        }, true));\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'keyup', function (ev) {\n            if (!wasModifierKeyOnlyEvent(ev)) {\n                _this.focus();\n            }\n            self._keyUp(ev);\n        }, true));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'keydown', function (ev) { return _this._keyDown(ev); }, true));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'keypress', function (ev) { return _this._keyPress(ev); }, true));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'compositionstart', function () { return _this._compositionHelper.compositionstart(); }));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'compositionupdate', function (e) { return _this._compositionHelper.compositionupdate(e); }));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'compositionend', function () { return _this._compositionHelper.compositionend(); }));\n        this.register(this.onRender(function () { return _this._compositionHelper.updateCompositionElements(); }));\n        this.register(this.onRender(function (e) { return _this._queueLinkification(e.start, e.end); }));\n    };\n    Terminal.prototype.open = function (parent) {\n        var _this = this;\n        this._parent = parent || this._parent;\n        if (!this._parent) {\n            throw new Error('Terminal requires a parent element.');\n        }\n        this._context = this._parent.ownerDocument.defaultView;\n        this._document = this._parent.ownerDocument;\n        this.element = this._document.createElement('div');\n        this.element.dir = 'ltr';\n        this.element.classList.add('terminal');\n        this.element.classList.add('xterm');\n        this.element.setAttribute('tabindex', '0');\n        this._parent.appendChild(this.element);\n        var fragment = document.createDocumentFragment();\n        this._viewportElement = document.createElement('div');\n        this._viewportElement.classList.add('xterm-viewport');\n        fragment.appendChild(this._viewportElement);\n        this._viewportScrollArea = document.createElement('div');\n        this._viewportScrollArea.classList.add('xterm-scroll-area');\n        this._viewportElement.appendChild(this._viewportScrollArea);\n        this.screenElement = document.createElement('div');\n        this.screenElement.classList.add('xterm-screen');\n        this._helperContainer = document.createElement('div');\n        this._helperContainer.classList.add('xterm-helpers');\n        this.screenElement.appendChild(this._helperContainer);\n        fragment.appendChild(this.screenElement);\n        this._mouseZoneManager = new MouseZoneManager_1.MouseZoneManager(this);\n        this.register(this._mouseZoneManager);\n        this.register(this.onScroll(function () { return _this._mouseZoneManager.clearAll(); }));\n        this.linkifier.attachToDom(this._mouseZoneManager);\n        this.textarea = document.createElement('textarea');\n        this.textarea.classList.add('xterm-helper-textarea');\n        this.textarea.setAttribute('aria-label', Strings.promptLabel);\n        this.textarea.setAttribute('aria-multiline', 'false');\n        this.textarea.setAttribute('autocorrect', 'off');\n        this.textarea.setAttribute('autocapitalize', 'off');\n        this.textarea.setAttribute('spellcheck', 'false');\n        this.textarea.tabIndex = 0;\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'focus', function (ev) { return _this._onTextAreaFocus(ev); }));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'blur', function () { return _this._onTextAreaBlur(); }));\n        this._helperContainer.appendChild(this.textarea);\n        this._compositionView = document.createElement('div');\n        this._compositionView.classList.add('composition-view');\n        this._compositionHelper = new CompositionHelper_1.CompositionHelper(this.textarea, this._compositionView, this);\n        this._helperContainer.appendChild(this._compositionView);\n        this.charMeasure = new CharMeasure_1.CharMeasure(document, this._helperContainer);\n        this.element.appendChild(fragment);\n        this._theme = this.options.theme;\n        this._colorManager = new ColorManager_1.ColorManager(document, this.options.allowTransparency);\n        this._colorManager.setTheme(this._theme);\n        var renderer = this._createRenderer();\n        this._renderCoordinator = new RenderCoordinator_1.RenderCoordinator(renderer, this.rows, this.screenElement);\n        this._renderCoordinator.onRender(function (e) { return _this._onRender.fire(e); });\n        this.onResize(function (e) { return _this._renderCoordinator.resize(e.cols, e.rows); });\n        this.viewport = new Viewport_1.Viewport(this, this._viewportElement, this._viewportScrollArea, this.charMeasure, this._renderCoordinator.dimensions);\n        this.viewport.onThemeChange(this._colorManager.colors);\n        this.register(this.viewport);\n        this.register(this.onCursorMove(function () { return _this._renderCoordinator.onCursorMove(); }));\n        this.register(this.onResize(function () { return _this._renderCoordinator.onResize(_this.cols, _this.rows); }));\n        this.register(this.addDisposableListener('blur', function () { return _this._renderCoordinator.onBlur(); }));\n        this.register(this.addDisposableListener('focus', function () { return _this._renderCoordinator.onFocus(); }));\n        this.register(this.charMeasure.onCharSizeChanged(function () { return _this._renderCoordinator.onCharSizeChanged(); }));\n        this.register(this._renderCoordinator.onDimensionsChange(function () { return _this.viewport.syncScrollArea(); }));\n        this.selectionManager = new SelectionManager_1.SelectionManager(this, this.charMeasure);\n        this.register(this.selectionManager.onSelectionChange(function () { return _this._onSelectionChange.fire(); }));\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'mousedown', function (e) { return _this.selectionManager.onMouseDown(e); }));\n        this.register(this.selectionManager.onRedrawRequest(function (e) { return _this._renderCoordinator.onSelectionChanged(e.start, e.end, e.columnSelectMode); }));\n        this.register(this.selectionManager.onLinuxMouseSelection(function (text) {\n            _this.textarea.value = text;\n            _this.textarea.focus();\n            _this.textarea.select();\n        }));\n        this.register(this.onScroll(function () {\n            _this.viewport.syncScrollArea();\n            _this.selectionManager.refresh();\n        }));\n        this.register(Lifecycle_1.addDisposableDomListener(this._viewportElement, 'scroll', function () { return _this.selectionManager.refresh(); }));\n        this.mouseHelper = new MouseHelper_1.MouseHelper(this._renderCoordinator);\n        this.element.classList.toggle('enable-mouse-events', this.mouseEvents);\n        if (this.mouseEvents) {\n            this.selectionManager.disable();\n        }\n        else {\n            this.selectionManager.enable();\n        }\n        if (this.options.screenReaderMode) {\n            this._accessibilityManager = new AccessibilityManager_1.AccessibilityManager(this, this._renderCoordinator.dimensions);\n            this._accessibilityManager.register(this._renderCoordinator.onDimensionsChange(function (e) { return _this._accessibilityManager.setDimensions(e); }));\n        }\n        this.charMeasure.measure(this.options);\n        this.refresh(0, this.rows - 1);\n        this._initGlobal();\n        this.bindMouse();\n    };\n    Terminal.prototype._createRenderer = function () {\n        switch (this.options.rendererType) {\n            case 'canvas':\n                return new Renderer_1.Renderer(this, this._colorManager.colors);\n                break;\n            case 'dom':\n                return new DomRenderer_1.DomRenderer(this, this._colorManager.colors);\n                break;\n            default: throw new Error(\"Unrecognized rendererType \\\"\" + this.options.rendererType + \"\\\"\");\n        }\n    };\n    Terminal.prototype._setTheme = function (theme) {\n        this._theme = theme;\n        if (this._colorManager) {\n            this._colorManager.setTheme(theme);\n        }\n        if (this._renderCoordinator) {\n            this._renderCoordinator.setColors(this._colorManager.colors);\n        }\n        if (this.viewport) {\n            this.viewport.onThemeChange(this._colorManager.colors);\n        }\n    };\n    Terminal.prototype.bindMouse = function () {\n        var _this = this;\n        var el = this.element;\n        var self = this;\n        var pressed = 32;\n        function sendButton(ev) {\n            var button;\n            var pos;\n            button = getButton(ev);\n            pos = self.mouseHelper.getRawByteCoords(ev, self.screenElement, self.charMeasure, self.cols, self.rows);\n            if (!pos)\n                return;\n            sendEvent(button, pos);\n            switch (ev.overrideType || ev.type) {\n                case 'mousedown':\n                    pressed = button;\n                    break;\n                case 'mouseup':\n                    pressed = 32;\n                    break;\n                case 'wheel':\n                    break;\n            }\n        }\n        function sendMove(ev) {\n            var button = pressed;\n            var pos = self.mouseHelper.getRawByteCoords(ev, self.screenElement, self.charMeasure, self.cols, self.rows);\n            if (!pos)\n                return;\n            button += 32;\n            sendEvent(button, pos);\n        }\n        function encode(data, ch) {\n            if (!self.utfMouse) {\n                if (ch === 255) {\n                    data.push(0);\n                    return;\n                }\n                if (ch > 127)\n                    ch = 127;\n                data.push(ch);\n            }\n            else {\n                if (ch > 2047) {\n                    data.push(2047);\n                    return;\n                }\n                data.push(ch);\n            }\n        }\n        function sendEvent(button, pos) {\n            if (self._vt300Mouse) {\n                button &= 3;\n                pos.x -= 32;\n                pos.y -= 32;\n                var data_1 = EscapeSequences_1.C0.ESC + '[24';\n                if (button === 0)\n                    data_1 += '1';\n                else if (button === 1)\n                    data_1 += '3';\n                else if (button === 2)\n                    data_1 += '5';\n                else if (button === 3)\n                    return;\n                else\n                    data_1 += '0';\n                data_1 += '~[' + pos.x + ',' + pos.y + ']\\r';\n                self.handler(data_1);\n                return;\n            }\n            if (self._decLocator) {\n                button &= 3;\n                pos.x -= 32;\n                pos.y -= 32;\n                if (button === 0)\n                    button = 2;\n                else if (button === 1)\n                    button = 4;\n                else if (button === 2)\n                    button = 6;\n                else if (button === 3)\n                    button = 3;\n                self.handler(EscapeSequences_1.C0.ESC + '['\n                    + button\n                    + ';'\n                    + (button === 3 ? 4 : 0)\n                    + ';'\n                    + pos.y\n                    + ';'\n                    + pos.x\n                    + ';'\n                    + pos.page || 0\n                    + '&w');\n                return;\n            }\n            if (self.urxvtMouse) {\n                pos.x -= 32;\n                pos.y -= 32;\n                pos.x++;\n                pos.y++;\n                self.handler(EscapeSequences_1.C0.ESC + '[' + button + ';' + pos.x + ';' + pos.y + 'M');\n                return;\n            }\n            if (self.sgrMouse) {\n                pos.x -= 32;\n                pos.y -= 32;\n                self.handler(EscapeSequences_1.C0.ESC + '[<'\n                    + (((button & 3) === 3 ? button & ~3 : button) - 32)\n                    + ';'\n                    + pos.x\n                    + ';'\n                    + pos.y\n                    + ((button & 3) === 3 ? 'm' : 'M'));\n                return;\n            }\n            var data = [];\n            encode(data, button);\n            encode(data, pos.x);\n            encode(data, pos.y);\n            self.handler(EscapeSequences_1.C0.ESC + '[M' + String.fromCharCode.apply(String, data));\n        }\n        function getButton(ev) {\n            var button;\n            var shift;\n            var meta;\n            var ctrl;\n            var mod;\n            switch (ev.overrideType || ev.type) {\n                case 'mousedown':\n                    button = ev.button !== null && ev.button !== undefined\n                        ? +ev.button\n                        : ev.which !== null && ev.which !== undefined\n                            ? ev.which - 1\n                            : null;\n                    if (Browser.isMSIE) {\n                        button = button === 1 ? 0 : button === 4 ? 1 : button;\n                    }\n                    break;\n                case 'mouseup':\n                    button = 3;\n                    break;\n                case 'DOMMouseScroll':\n                    button = ev.detail < 0\n                        ? 64\n                        : 65;\n                    break;\n                case 'wheel':\n                    button = ev.deltaY < 0\n                        ? 64\n                        : 65;\n                    break;\n            }\n            shift = ev.shiftKey ? 4 : 0;\n            meta = ev.metaKey ? 8 : 0;\n            ctrl = ev.ctrlKey ? 16 : 0;\n            mod = shift | meta | ctrl;\n            if (self.vt200Mouse) {\n                mod &= ctrl;\n            }\n            else if (!self.normalMouse) {\n                mod = 0;\n            }\n            button = (32 + (mod << 2)) + button;\n            return button;\n        }\n        this.register(Lifecycle_1.addDisposableDomListener(el, 'mousedown', function (ev) {\n            ev.preventDefault();\n            _this.focus();\n            if (!_this.mouseEvents || _this.selectionManager.shouldForceSelection(ev)) {\n                return;\n            }\n            sendButton(ev);\n            if (_this.vt200Mouse) {\n                ev.overrideType = 'mouseup';\n                sendButton(ev);\n                return _this.cancel(ev);\n            }\n            var moveHandler;\n            if (_this.normalMouse) {\n                moveHandler = function (event) {\n                    if (!_this.normalMouse) {\n                        return;\n                    }\n                    sendMove(event);\n                };\n                _this._document.addEventListener('mousemove', moveHandler);\n            }\n            var handler = function (ev) {\n                if (_this.normalMouse && !_this.x10Mouse) {\n                    sendButton(ev);\n                }\n                if (moveHandler) {\n                    _this._document.removeEventListener('mousemove', moveHandler);\n                    moveHandler = null;\n                }\n                _this._document.removeEventListener('mouseup', handler);\n                return _this.cancel(ev);\n            };\n            _this._document.addEventListener('mouseup', handler);\n            return _this.cancel(ev);\n        }));\n        this.register(Lifecycle_1.addDisposableDomListener(el, 'wheel', function (ev) {\n            if (!_this.mouseEvents) {\n                if (!_this.buffer.hasScrollback) {\n                    var amount = _this.viewport.getLinesScrolled(ev);\n                    if (amount === 0) {\n                        return;\n                    }\n                    var sequence = EscapeSequences_1.C0.ESC + (_this.applicationCursor ? 'O' : '[') + (ev.deltaY < 0 ? 'A' : 'B');\n                    var data = '';\n                    for (var i = 0; i < Math.abs(amount); i++) {\n                        data += sequence;\n                    }\n                    _this.handler(data);\n                }\n                return;\n            }\n            if (_this.x10Mouse || _this._vt300Mouse || _this._decLocator)\n                return;\n            sendButton(ev);\n            ev.preventDefault();\n        }));\n        this.register(Lifecycle_1.addDisposableDomListener(el, 'wheel', function (ev) {\n            if (_this.mouseEvents)\n                return;\n            _this.viewport.onWheel(ev);\n            return _this.cancel(ev);\n        }));\n        this.register(Lifecycle_1.addDisposableDomListener(el, 'touchstart', function (ev) {\n            if (_this.mouseEvents)\n                return;\n            _this.viewport.onTouchStart(ev);\n            return _this.cancel(ev);\n        }));\n        this.register(Lifecycle_1.addDisposableDomListener(el, 'touchmove', function (ev) {\n            if (_this.mouseEvents)\n                return;\n            _this.viewport.onTouchMove(ev);\n            return _this.cancel(ev);\n        }));\n    };\n    Terminal.prototype.refresh = function (start, end) {\n        if (this._renderCoordinator) {\n            this._renderCoordinator.refreshRows(start, end);\n        }\n    };\n    Terminal.prototype._queueLinkification = function (start, end) {\n        if (this.linkifier) {\n            this.linkifier.linkifyRows(start, end);\n        }\n    };\n    Terminal.prototype.updateCursorStyle = function (ev) {\n        if (this.selectionManager && this.selectionManager.shouldColumnSelect(ev)) {\n            this.element.classList.add('column-select');\n        }\n        else {\n            this.element.classList.remove('column-select');\n        }\n    };\n    Terminal.prototype.showCursor = function () {\n        if (!this.cursorState) {\n            this.cursorState = 1;\n            this.refresh(this.buffer.y, this.buffer.y);\n        }\n    };\n    Terminal.prototype.scroll = function (isWrapped) {\n        if (isWrapped === void 0) { isWrapped = false; }\n        var newLine;\n        newLine = this._blankLine;\n        var eraseAttr = this.eraseAttrData();\n        if (!newLine || newLine.length !== this.cols || newLine.getFg(0) !== eraseAttr.fg || newLine.getBg(0) !== eraseAttr.bg) {\n            newLine = this.buffer.getBlankLine(eraseAttr, isWrapped);\n            this._blankLine = newLine;\n        }\n        newLine.isWrapped = isWrapped;\n        var topRow = this.buffer.ybase + this.buffer.scrollTop;\n        var bottomRow = this.buffer.ybase + this.buffer.scrollBottom;\n        if (this.buffer.scrollTop === 0) {\n            var willBufferBeTrimmed = this.buffer.lines.isFull;\n            if (bottomRow === this.buffer.lines.length - 1) {\n                if (willBufferBeTrimmed) {\n                    this.buffer.lines.recycle().copyFrom(newLine);\n                }\n                else {\n                    this.buffer.lines.push(newLine.clone());\n                }\n            }\n            else {\n                this.buffer.lines.splice(bottomRow + 1, 0, newLine.clone());\n            }\n            if (!willBufferBeTrimmed) {\n                this.buffer.ybase++;\n                if (!this._userScrolling) {\n                    this.buffer.ydisp++;\n                }\n            }\n            else {\n                if (this._userScrolling) {\n                    this.buffer.ydisp = Math.max(this.buffer.ydisp - 1, 0);\n                }\n            }\n        }\n        else {\n            var scrollRegionHeight = bottomRow - topRow + 1;\n            this.buffer.lines.shiftElements(topRow + 1, scrollRegionHeight - 1, -1);\n            this.buffer.lines.set(bottomRow, newLine.clone());\n        }\n        if (!this._userScrolling) {\n            this.buffer.ydisp = this.buffer.ybase;\n        }\n        this.updateRange(this.buffer.scrollTop);\n        this.updateRange(this.buffer.scrollBottom);\n        this._onScroll.fire(this.buffer.ydisp);\n    };\n    Terminal.prototype.scrollLines = function (disp, suppressScrollEvent) {\n        if (disp < 0) {\n            if (this.buffer.ydisp === 0) {\n                return;\n            }\n            this._userScrolling = true;\n        }\n        else if (disp + this.buffer.ydisp >= this.buffer.ybase) {\n            this._userScrolling = false;\n        }\n        var oldYdisp = this.buffer.ydisp;\n        this.buffer.ydisp = Math.max(Math.min(this.buffer.ydisp + disp, this.buffer.ybase), 0);\n        if (oldYdisp === this.buffer.ydisp) {\n            return;\n        }\n        if (!suppressScrollEvent) {\n            this._onScroll.fire(this.buffer.ydisp);\n        }\n        this.refresh(0, this.rows - 1);\n    };\n    Terminal.prototype.scrollPages = function (pageCount) {\n        this.scrollLines(pageCount * (this.rows - 1));\n    };\n    Terminal.prototype.scrollToTop = function () {\n        this.scrollLines(-this.buffer.ydisp);\n    };\n    Terminal.prototype.scrollToBottom = function () {\n        this.scrollLines(this.buffer.ybase - this.buffer.ydisp);\n    };\n    Terminal.prototype.scrollToLine = function (line) {\n        var scrollAmount = line - this.buffer.ydisp;\n        if (scrollAmount !== 0) {\n            this.scrollLines(scrollAmount);\n        }\n    };\n    Terminal.prototype.writeUtf8 = function (data) {\n        var _this = this;\n        if (this._isDisposed) {\n            return;\n        }\n        if (!data) {\n            return;\n        }\n        this.writeBufferUtf8.push(data);\n        if (this.options.useFlowControl && !this._xoffSentToCatchUp && this.writeBufferUtf8.length >= WRITE_BUFFER_PAUSE_THRESHOLD) {\n            this.handler(EscapeSequences_1.C0.DC3);\n            this._xoffSentToCatchUp = true;\n        }\n        if (!this._writeInProgress && this.writeBufferUtf8.length > 0) {\n            this._writeInProgress = true;\n            setTimeout(function () {\n                _this._innerWriteUtf8();\n            });\n        }\n    };\n    Terminal.prototype._innerWriteUtf8 = function (bufferOffset) {\n        var _this = this;\n        if (bufferOffset === void 0) { bufferOffset = 0; }\n        if (this._isDisposed) {\n            this.writeBufferUtf8 = [];\n        }\n        var startTime = Date.now();\n        while (this.writeBufferUtf8.length > bufferOffset) {\n            var data = this.writeBufferUtf8[bufferOffset];\n            bufferOffset++;\n            if (this._xoffSentToCatchUp && this.writeBufferUtf8.length === bufferOffset) {\n                this.handler(EscapeSequences_1.C0.DC1);\n                this._xoffSentToCatchUp = false;\n            }\n            this._refreshStart = this.buffer.y;\n            this._refreshEnd = this.buffer.y;\n            this._inputHandler.parseUtf8(data);\n            this.updateRange(this.buffer.y);\n            this.refresh(this._refreshStart, this._refreshEnd);\n            if (Date.now() - startTime >= WRITE_TIMEOUT_MS) {\n                break;\n            }\n        }\n        if (this.writeBufferUtf8.length > bufferOffset) {\n            if (bufferOffset > WRITE_BUFFER_LENGTH_THRESHOLD) {\n                this.writeBufferUtf8 = this.writeBufferUtf8.slice(bufferOffset);\n                bufferOffset = 0;\n            }\n            setTimeout(function () { return _this._innerWriteUtf8(bufferOffset); }, 0);\n        }\n        else {\n            this._writeInProgress = false;\n            this.writeBufferUtf8 = [];\n        }\n    };\n    Terminal.prototype.write = function (data) {\n        var _this = this;\n        if (this._isDisposed) {\n            return;\n        }\n        if (!data) {\n            return;\n        }\n        this.writeBuffer.push(data);\n        if (this.options.useFlowControl && !this._xoffSentToCatchUp && this.writeBuffer.length >= WRITE_BUFFER_PAUSE_THRESHOLD) {\n            this.handler(EscapeSequences_1.C0.DC3);\n            this._xoffSentToCatchUp = true;\n        }\n        if (!this._writeInProgress && this.writeBuffer.length > 0) {\n            this._writeInProgress = true;\n            setTimeout(function () {\n                _this._innerWrite();\n            });\n        }\n    };\n    Terminal.prototype._innerWrite = function (bufferOffset) {\n        var _this = this;\n        if (bufferOffset === void 0) { bufferOffset = 0; }\n        if (this._isDisposed) {\n            this.writeBuffer = [];\n        }\n        var startTime = Date.now();\n        while (this.writeBuffer.length > bufferOffset) {\n            var data = this.writeBuffer[bufferOffset];\n            bufferOffset++;\n            if (this._xoffSentToCatchUp && this.writeBuffer.length === bufferOffset) {\n                this.handler(EscapeSequences_1.C0.DC1);\n                this._xoffSentToCatchUp = false;\n            }\n            this._refreshStart = this.buffer.y;\n            this._refreshEnd = this.buffer.y;\n            this._inputHandler.parse(data);\n            this.updateRange(this.buffer.y);\n            this.refresh(this._refreshStart, this._refreshEnd);\n            if (Date.now() - startTime >= WRITE_TIMEOUT_MS) {\n                break;\n            }\n        }\n        if (this.writeBuffer.length > bufferOffset) {\n            if (bufferOffset > WRITE_BUFFER_LENGTH_THRESHOLD) {\n                this.writeBuffer = this.writeBuffer.slice(bufferOffset);\n                bufferOffset = 0;\n            }\n            setTimeout(function () { return _this._innerWrite(bufferOffset); }, 0);\n        }\n        else {\n            this._writeInProgress = false;\n            this.writeBuffer = [];\n        }\n    };\n    Terminal.prototype.writeln = function (data) {\n        this.write(data + '\\r\\n');\n    };\n    Terminal.prototype.attachCustomKeyEventHandler = function (customKeyEventHandler) {\n        this._customKeyEventHandler = customKeyEventHandler;\n    };\n    Terminal.prototype.addCsiHandler = function (flag, callback) {\n        return this._inputHandler.addCsiHandler(flag, callback);\n    };\n    Terminal.prototype.addOscHandler = function (ident, callback) {\n        return this._inputHandler.addOscHandler(ident, callback);\n    };\n    Terminal.prototype.registerLinkMatcher = function (regex, handler, options) {\n        var matcherId = this.linkifier.registerLinkMatcher(regex, handler, options);\n        this.refresh(0, this.rows - 1);\n        return matcherId;\n    };\n    Terminal.prototype.deregisterLinkMatcher = function (matcherId) {\n        if (this.linkifier.deregisterLinkMatcher(matcherId)) {\n            this.refresh(0, this.rows - 1);\n        }\n    };\n    Terminal.prototype.registerCharacterJoiner = function (handler) {\n        var joinerId = this._renderCoordinator.registerCharacterJoiner(handler);\n        this.refresh(0, this.rows - 1);\n        return joinerId;\n    };\n    Terminal.prototype.deregisterCharacterJoiner = function (joinerId) {\n        if (this._renderCoordinator.deregisterCharacterJoiner(joinerId)) {\n            this.refresh(0, this.rows - 1);\n        }\n    };\n    Object.defineProperty(Terminal.prototype, \"markers\", {\n        get: function () {\n            return this.buffer.markers;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Terminal.prototype.addMarker = function (cursorYOffset) {\n        if (this.buffer !== this.buffers.normal) {\n            return;\n        }\n        return this.buffer.addMarker(this.buffer.ybase + this.buffer.y + cursorYOffset);\n    };\n    Terminal.prototype.hasSelection = function () {\n        return this.selectionManager ? this.selectionManager.hasSelection : false;\n    };\n    Terminal.prototype.select = function (column, row, length) {\n        this.selectionManager.setSelection(column, row, length);\n    };\n    Terminal.prototype.getSelection = function () {\n        return this.selectionManager ? this.selectionManager.selectionText : '';\n    };\n    Terminal.prototype.getSelectionPosition = function () {\n        if (!this.selectionManager.hasSelection) {\n            return undefined;\n        }\n        return {\n            startColumn: this.selectionManager.selectionStart[0],\n            startRow: this.selectionManager.selectionStart[1],\n            endColumn: this.selectionManager.selectionEnd[0],\n            endRow: this.selectionManager.selectionEnd[1]\n        };\n    };\n    Terminal.prototype.clearSelection = function () {\n        if (this.selectionManager) {\n            this.selectionManager.clearSelection();\n        }\n    };\n    Terminal.prototype.selectAll = function () {\n        if (this.selectionManager) {\n            this.selectionManager.selectAll();\n        }\n    };\n    Terminal.prototype.selectLines = function (start, end) {\n        if (this.selectionManager) {\n            this.selectionManager.selectLines(start, end);\n        }\n    };\n    Terminal.prototype._keyDown = function (event) {\n        if (this._customKeyEventHandler && this._customKeyEventHandler(event) === false) {\n            return false;\n        }\n        if (!this._compositionHelper.keydown(event)) {\n            if (this.buffer.ybase !== this.buffer.ydisp) {\n                this.scrollToBottom();\n            }\n            return false;\n        }\n        var result = Keyboard_1.evaluateKeyboardEvent(event, this.applicationCursor, this.browser.isMac, this.options.macOptionIsMeta);\n        this.updateCursorStyle(event);\n        if (result.type === 3 || result.type === 2) {\n            var scrollCount = this.rows - 1;\n            this.scrollLines(result.type === 2 ? -scrollCount : scrollCount);\n            return this.cancel(event, true);\n        }\n        if (result.type === 1) {\n            this.selectAll();\n        }\n        if (this._isThirdLevelShift(this.browser, event)) {\n            return true;\n        }\n        if (result.cancel) {\n            this.cancel(event, true);\n        }\n        if (!result.key) {\n            return true;\n        }\n        this.emit('keydown', event);\n        this._onKey.fire({ key: result.key, domEvent: event });\n        this.showCursor();\n        this.handler(result.key);\n        return this.cancel(event, true);\n    };\n    Terminal.prototype._isThirdLevelShift = function (browser, ev) {\n        var thirdLevelKey = (browser.isMac && !this.options.macOptionIsMeta && ev.altKey && !ev.ctrlKey && !ev.metaKey) ||\n            (browser.isMSWindows && ev.altKey && ev.ctrlKey && !ev.metaKey);\n        if (ev.type === 'keypress') {\n            return thirdLevelKey;\n        }\n        return thirdLevelKey && (!ev.keyCode || ev.keyCode > 47);\n    };\n    Terminal.prototype.setgLevel = function (g) {\n        this.glevel = g;\n        this.charset = this.charsets[g];\n    };\n    Terminal.prototype.setgCharset = function (g, charset) {\n        this.charsets[g] = charset;\n        if (this.glevel === g) {\n            this.charset = charset;\n        }\n    };\n    Terminal.prototype._keyUp = function (ev) {\n        this.updateCursorStyle(ev);\n    };\n    Terminal.prototype._keyPress = function (ev) {\n        var key;\n        if (this._customKeyEventHandler && this._customKeyEventHandler(ev) === false) {\n            return false;\n        }\n        this.cancel(ev);\n        if (ev.charCode) {\n            key = ev.charCode;\n        }\n        else if (ev.which === null || ev.which === undefined) {\n            key = ev.keyCode;\n        }\n        else if (ev.which !== 0 && ev.charCode !== 0) {\n            key = ev.which;\n        }\n        else {\n            return false;\n        }\n        if (!key || ((ev.altKey || ev.ctrlKey || ev.metaKey) && !this._isThirdLevelShift(this.browser, ev))) {\n            return false;\n        }\n        key = String.fromCharCode(key);\n        this.emit('keypress', key, ev);\n        this._onKey.fire({ key: key, domEvent: ev });\n        this.showCursor();\n        this.handler(key);\n        return true;\n    };\n    Terminal.prototype.bell = function () {\n        var _this = this;\n        this.emit('bell');\n        if (this._soundBell()) {\n            this.soundManager.playBellSound();\n        }\n        if (this._visualBell()) {\n            this.element.classList.add('visual-bell-active');\n            clearTimeout(this._visualBellTimer);\n            this._visualBellTimer = window.setTimeout(function () {\n                _this.element.classList.remove('visual-bell-active');\n            }, 200);\n        }\n    };\n    Terminal.prototype.log = function (text, data) {\n        if (!this.options.debug)\n            return;\n        if (!this._context.console || !this._context.console.log)\n            return;\n        this._context.console.log(text, data);\n    };\n    Terminal.prototype.error = function (text, data) {\n        if (!this.options.debug)\n            return;\n        if (!this._context.console || !this._context.console.error)\n            return;\n        this._context.console.error(text, data);\n    };\n    Terminal.prototype.resize = function (x, y) {\n        if (isNaN(x) || isNaN(y)) {\n            return;\n        }\n        if (x === this.cols && y === this.rows) {\n            if (this.charMeasure && (!this.charMeasure.width || !this.charMeasure.height)) {\n                this.charMeasure.measure(this.options);\n            }\n            return;\n        }\n        if (x < MINIMUM_COLS)\n            x = MINIMUM_COLS;\n        if (y < MINIMUM_ROWS)\n            y = MINIMUM_ROWS;\n        this.buffers.resize(x, y);\n        this.cols = x;\n        this.rows = y;\n        this.buffers.setupTabStops(this.cols);\n        if (this.charMeasure) {\n            this.charMeasure.measure(this.options);\n        }\n        this.refresh(0, this.rows - 1);\n        this._onResize.fire({ cols: x, rows: y });\n    };\n    Terminal.prototype.updateRange = function (y) {\n        if (y < this._refreshStart)\n            this._refreshStart = y;\n        if (y > this._refreshEnd)\n            this._refreshEnd = y;\n    };\n    Terminal.prototype.maxRange = function () {\n        this._refreshStart = 0;\n        this._refreshEnd = this.rows - 1;\n    };\n    Terminal.prototype.clear = function () {\n        if (this.buffer.ybase === 0 && this.buffer.y === 0) {\n            return;\n        }\n        this.buffer.lines.set(0, this.buffer.lines.get(this.buffer.ybase + this.buffer.y));\n        this.buffer.lines.length = 1;\n        this.buffer.ydisp = 0;\n        this.buffer.ybase = 0;\n        this.buffer.y = 0;\n        for (var i = 1; i < this.rows; i++) {\n            this.buffer.lines.push(this.buffer.getBlankLine(BufferLine_1.DEFAULT_ATTR_DATA));\n        }\n        this.refresh(0, this.rows - 1);\n        this._onScroll.fire(this.buffer.ydisp);\n    };\n    Terminal.prototype.is = function (term) {\n        return (this.options.termName + '').indexOf(term) === 0;\n    };\n    Terminal.prototype.handler = function (data) {\n        if (this.options.disableStdin) {\n            return;\n        }\n        if (this.selectionManager && this.selectionManager.hasSelection) {\n            this.selectionManager.clearSelection();\n        }\n        if (this.buffer.ybase !== this.buffer.ydisp) {\n            this.scrollToBottom();\n        }\n        this._onData.fire(data);\n    };\n    Terminal.prototype.handleTitle = function (title) {\n        this._onTitleChange.fire(title);\n    };\n    Terminal.prototype.index = function () {\n        this.buffer.y++;\n        if (this.buffer.y > this.buffer.scrollBottom) {\n            this.buffer.y--;\n            this.scroll();\n        }\n        if (this.buffer.x >= this.cols) {\n            this.buffer.x--;\n        }\n    };\n    Terminal.prototype.reverseIndex = function () {\n        if (this.buffer.y === this.buffer.scrollTop) {\n            var scrollRegionHeight = this.buffer.scrollBottom - this.buffer.scrollTop;\n            this.buffer.lines.shiftElements(this.buffer.y + this.buffer.ybase, scrollRegionHeight, 1);\n            this.buffer.lines.set(this.buffer.y + this.buffer.ybase, this.buffer.getBlankLine(this.eraseAttrData()));\n            this.updateRange(this.buffer.scrollTop);\n            this.updateRange(this.buffer.scrollBottom);\n        }\n        else {\n            this.buffer.y--;\n        }\n    };\n    Terminal.prototype.reset = function () {\n        this.options.rows = this.rows;\n        this.options.cols = this.cols;\n        var customKeyEventHandler = this._customKeyEventHandler;\n        var inputHandler = this._inputHandler;\n        var cursorState = this.cursorState;\n        var writeBuffer = this.writeBuffer;\n        var writeBufferUtf8 = this.writeBufferUtf8;\n        var writeInProgress = this._writeInProgress;\n        var xoffSentToCatchUp = this._xoffSentToCatchUp;\n        var userScrolling = this._userScrolling;\n        this._setup();\n        this._customKeyEventHandler = customKeyEventHandler;\n        this._inputHandler = inputHandler;\n        this.cursorState = cursorState;\n        this.writeBuffer = writeBuffer;\n        this.writeBufferUtf8 = writeBufferUtf8;\n        this._writeInProgress = writeInProgress;\n        this._xoffSentToCatchUp = xoffSentToCatchUp;\n        this._userScrolling = userScrolling;\n        this.refresh(0, this.rows - 1);\n        if (this.viewport) {\n            this.viewport.syncScrollArea();\n        }\n    };\n    Terminal.prototype.tabSet = function () {\n        this.buffer.tabs[this.buffer.x] = true;\n    };\n    Terminal.prototype.cancel = function (ev, force) {\n        if (!this.options.cancelEvents && !force) {\n            return;\n        }\n        ev.preventDefault();\n        ev.stopPropagation();\n        return false;\n    };\n    Terminal.prototype._visualBell = function () {\n        return false;\n    };\n    Terminal.prototype._soundBell = function () {\n        return this.options.bellStyle === 'sound';\n    };\n    return Terminal;\n}(EventEmitter_1.EventEmitter));\nexports.Terminal = Terminal;\nfunction wasModifierKeyOnlyEvent(ev) {\n    return ev.keyCode === 16 ||\n        ev.keyCode === 17 ||\n        ev.keyCode === 18;\n}\n//# sourceMappingURL=Terminal.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Lifecycle_1 = require(\"./common/Lifecycle\");\nvar Lifecycle_2 = require(\"./ui/Lifecycle\");\nvar FALLBACK_SCROLL_BAR_WIDTH = 15;\nvar Viewport = (function (_super) {\n    __extends(Viewport, _super);\n    function Viewport(_terminal, _viewportElement, _scrollArea, _charMeasure, _dimensions) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._viewportElement = _viewportElement;\n        _this._scrollArea = _scrollArea;\n        _this._charMeasure = _charMeasure;\n        _this._dimensions = _dimensions;\n        _this.scrollBarWidth = 0;\n        _this._currentRowHeight = 0;\n        _this._lastRecordedBufferLength = 0;\n        _this._lastRecordedViewportHeight = 0;\n        _this._lastRecordedBufferHeight = 0;\n        _this._lastScrollTop = 0;\n        _this._wheelPartialScroll = 0;\n        _this._refreshAnimationFrame = null;\n        _this._ignoreNextScrollEvent = false;\n        _this.scrollBarWidth = (_this._viewportElement.offsetWidth - _this._scrollArea.offsetWidth) || FALLBACK_SCROLL_BAR_WIDTH;\n        _this.register(Lifecycle_2.addDisposableDomListener(_this._viewportElement, 'scroll', _this._onScroll.bind(_this)));\n        setTimeout(function () { return _this.syncScrollArea(); }, 0);\n        return _this;\n    }\n    Viewport.prototype.onDimensionsChance = function (dimensions) {\n        this._dimensions = dimensions;\n    };\n    Viewport.prototype.onThemeChange = function (colors) {\n        this._viewportElement.style.backgroundColor = colors.background.css;\n    };\n    Viewport.prototype._refresh = function () {\n        var _this = this;\n        if (this._refreshAnimationFrame === null) {\n            this._refreshAnimationFrame = requestAnimationFrame(function () { return _this._innerRefresh(); });\n        }\n    };\n    Viewport.prototype._innerRefresh = function () {\n        if (this._charMeasure.height > 0) {\n            this._currentRowHeight = this._dimensions.scaledCellHeight / window.devicePixelRatio;\n            this._lastRecordedViewportHeight = this._viewportElement.offsetHeight;\n            var newBufferHeight = Math.round(this._currentRowHeight * this._lastRecordedBufferLength) + (this._lastRecordedViewportHeight - this._dimensions.canvasHeight);\n            if (this._lastRecordedBufferHeight !== newBufferHeight) {\n                this._lastRecordedBufferHeight = newBufferHeight;\n                this._scrollArea.style.height = this._lastRecordedBufferHeight + 'px';\n            }\n        }\n        var scrollTop = this._terminal.buffer.ydisp * this._currentRowHeight;\n        if (this._viewportElement.scrollTop !== scrollTop) {\n            this._ignoreNextScrollEvent = true;\n            this._viewportElement.scrollTop = scrollTop;\n        }\n        this._refreshAnimationFrame = null;\n    };\n    Viewport.prototype.syncScrollArea = function () {\n        if (this._lastRecordedBufferLength !== this._terminal.buffer.lines.length) {\n            this._lastRecordedBufferLength = this._terminal.buffer.lines.length;\n            this._refresh();\n            return;\n        }\n        if (this._lastRecordedViewportHeight !== this._dimensions.canvasHeight) {\n            this._refresh();\n            return;\n        }\n        var newScrollTop = this._terminal.buffer.ydisp * this._currentRowHeight;\n        if (this._lastScrollTop !== newScrollTop) {\n            this._refresh();\n            return;\n        }\n        if (this._lastScrollTop !== this._viewportElement.scrollTop) {\n            this._refresh();\n            return;\n        }\n        if (this._dimensions.scaledCellHeight / window.devicePixelRatio !== this._currentRowHeight) {\n            this._refresh();\n            return;\n        }\n    };\n    Viewport.prototype._onScroll = function (ev) {\n        this._lastScrollTop = this._viewportElement.scrollTop;\n        if (!this._viewportElement.offsetParent) {\n            return;\n        }\n        if (this._ignoreNextScrollEvent) {\n            this._ignoreNextScrollEvent = false;\n            return;\n        }\n        var newRow = Math.round(this._lastScrollTop / this._currentRowHeight);\n        var diff = newRow - this._terminal.buffer.ydisp;\n        this._terminal.scrollLines(diff, true);\n    };\n    Viewport.prototype.onWheel = function (ev) {\n        var amount = this._getPixelsScrolled(ev);\n        if (amount === 0) {\n            return;\n        }\n        this._viewportElement.scrollTop += amount;\n        ev.preventDefault();\n    };\n    Viewport.prototype._getPixelsScrolled = function (ev) {\n        if (ev.deltaY === 0) {\n            return 0;\n        }\n        var amount = ev.deltaY;\n        if (ev.deltaMode === WheelEvent.DOM_DELTA_LINE) {\n            amount *= this._currentRowHeight;\n        }\n        else if (ev.deltaMode === WheelEvent.DOM_DELTA_PAGE) {\n            amount *= this._currentRowHeight * this._terminal.rows;\n        }\n        return amount;\n    };\n    Viewport.prototype.getLinesScrolled = function (ev) {\n        if (ev.deltaY === 0) {\n            return 0;\n        }\n        var amount = ev.deltaY;\n        if (ev.deltaMode === WheelEvent.DOM_DELTA_PIXEL) {\n            amount /= this._currentRowHeight + 0.0;\n            this._wheelPartialScroll += amount;\n            amount = Math.floor(Math.abs(this._wheelPartialScroll)) * (this._wheelPartialScroll > 0 ? 1 : -1);\n            this._wheelPartialScroll %= 1;\n        }\n        else if (ev.deltaMode === WheelEvent.DOM_DELTA_PAGE) {\n            amount *= this._terminal.rows;\n        }\n        return amount;\n    };\n    Viewport.prototype.onTouchStart = function (ev) {\n        this._lastTouchY = ev.touches[0].pageY;\n    };\n    Viewport.prototype.onTouchMove = function (ev) {\n        var deltaY = this._lastTouchY - ev.touches[0].pageY;\n        this._lastTouchY = ev.touches[0].pageY;\n        if (deltaY === 0) {\n            return;\n        }\n        this._viewportElement.scrollTop += deltaY;\n        ev.preventDefault();\n    };\n    return Viewport;\n}(Lifecycle_1.Disposable));\nexports.Viewport = Viewport;\n//# sourceMappingURL=Viewport.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BufferLine_1 = require(\"./core/buffer/BufferLine\");\nfunction applyWindowsMode(terminal) {\n    return terminal.onLineFeed(function () {\n        var line = terminal.buffer.lines.get(terminal.buffer.ybase + terminal.buffer.y - 1);\n        var lastChar = line.get(terminal.cols - 1);\n        var nextLine = terminal.buffer.lines.get(terminal.buffer.ybase + terminal.buffer.y);\n        nextLine.isWrapped = (lastChar[BufferLine_1.CHAR_DATA_CODE_INDEX] !== BufferLine_1.NULL_CELL_CODE && lastChar[BufferLine_1.CHAR_DATA_CODE_INDEX] !== BufferLine_1.WHITESPACE_CELL_CODE);\n    });\n}\nexports.applyWindowsMode = applyWindowsMode;\n//# sourceMappingURL=WindowsMode.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction proposeGeometry(term) {\n    if (!term.element.parentElement) {\n        return null;\n    }\n    var parentElementStyle = window.getComputedStyle(term.element.parentElement);\n    var parentElementHeight = parseInt(parentElementStyle.getPropertyValue('height'));\n    var parentElementWidth = Math.max(0, parseInt(parentElementStyle.getPropertyValue('width')));\n    var elementStyle = window.getComputedStyle(term.element);\n    var elementPadding = {\n        top: parseInt(elementStyle.getPropertyValue('padding-top')),\n        bottom: parseInt(elementStyle.getPropertyValue('padding-bottom')),\n        right: parseInt(elementStyle.getPropertyValue('padding-right')),\n        left: parseInt(elementStyle.getPropertyValue('padding-left'))\n    };\n    var elementPaddingVer = elementPadding.top + elementPadding.bottom;\n    var elementPaddingHor = elementPadding.right + elementPadding.left;\n    var availableHeight = parentElementHeight - elementPaddingVer;\n    var availableWidth = parentElementWidth - elementPaddingHor - term._core.viewport.scrollBarWidth;\n    var geometry = {\n        cols: Math.floor(availableWidth / term._core._renderCoordinator.dimensions.actualCellWidth),\n        rows: Math.floor(availableHeight / term._core._renderCoordinator.dimensions.actualCellHeight)\n    };\n    return geometry;\n}\nexports.proposeGeometry = proposeGeometry;\nfunction fit(term) {\n    var geometry = proposeGeometry(term);\n    if (geometry) {\n        if (term.rows !== geometry.rows || term.cols !== geometry.cols) {\n            term._core._renderCoordinator.clear();\n            term.resize(geometry.cols, geometry.rows);\n        }\n    }\n}\nexports.fit = fit;\nfunction apply(terminalConstructor) {\n    terminalConstructor.prototype.proposeGeometry = function () {\n        return proposeGeometry(this);\n    };\n    terminalConstructor.prototype.fit = function () {\n        fit(this);\n    };\n}\nexports.apply = apply;\n//# sourceMappingURL=fit.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar NON_WORD_CHARACTERS = ' ~!@#$%^&*()+`-=[]{}|\\;:\"\\',./<>?';\nvar LINES_CACHE_TIME_TO_LIVE = 15 * 1000;\nvar SearchHelper = (function () {\n    function SearchHelper(_terminal) {\n        this._terminal = _terminal;\n        this._linesCache = null;\n        this._linesCacheTimeoutId = 0;\n        this._destroyLinesCache = this._destroyLinesCache.bind(this);\n    }\n    SearchHelper.prototype.findNext = function (term, searchOptions) {\n        var incremental = searchOptions.incremental;\n        var result;\n        if (!term || term.length === 0) {\n            this._terminal.clearSelection();\n            return false;\n        }\n        var startCol = 0;\n        var startRow = this._terminal.buffer.viewportY;\n        if (this._terminal.hasSelection()) {\n            var currentSelection = this._terminal.getSelectionPosition();\n            startRow = incremental ? currentSelection.startRow : currentSelection.endRow;\n            startCol = incremental ? currentSelection.startColumn : currentSelection.endColumn;\n        }\n        this._initLinesCache();\n        var findingRow = startRow;\n        var cumulativeCols = startCol;\n        while (this._terminal.buffer.getLine(findingRow).isWrapped) {\n            findingRow--;\n            cumulativeCols += this._terminal.cols;\n        }\n        result = this._findInLine(term, findingRow, cumulativeCols, searchOptions);\n        if (!result) {\n            for (var y = startRow + 1; y < this._terminal.buffer.baseY + this._terminal.rows; y++) {\n                result = this._findInLine(term, y, 0, searchOptions);\n                if (result) {\n                    break;\n                }\n            }\n        }\n        if (!result) {\n            for (var y = 0; y < findingRow; y++) {\n                result = this._findInLine(term, y, 0, searchOptions);\n                if (result) {\n                    break;\n                }\n            }\n        }\n        return this._selectResult(result);\n    };\n    SearchHelper.prototype.findPrevious = function (term, searchOptions) {\n        var result;\n        if (!term || term.length === 0) {\n            this._terminal.clearSelection();\n            return false;\n        }\n        var isReverseSearch = true;\n        var startRow = this._terminal.buffer.viewportY + this._terminal.rows - 1;\n        var startCol = this._terminal.cols;\n        if (this._terminal.hasSelection()) {\n            var currentSelection = this._terminal.getSelectionPosition();\n            startRow = currentSelection.startRow;\n            startCol = currentSelection.startColumn;\n        }\n        this._initLinesCache();\n        result = this._findInLine(term, startRow, startCol, searchOptions, isReverseSearch);\n        if (!result) {\n            var cumulativeCols = this._terminal.cols;\n            if (this._terminal.buffer.getLine(startRow).isWrapped) {\n                cumulativeCols += startCol;\n            }\n            for (var y = startRow - 1; y >= 0; y--) {\n                result = this._findInLine(term, y, cumulativeCols, searchOptions, isReverseSearch);\n                if (result) {\n                    break;\n                }\n                if (this._terminal.buffer.getLine(y).isWrapped) {\n                    cumulativeCols += this._terminal.cols;\n                }\n                else {\n                    cumulativeCols = this._terminal.cols;\n                }\n            }\n        }\n        if (!result) {\n            var searchFrom = this._terminal.buffer.baseY + this._terminal.rows - 1;\n            var cumulativeCols = this._terminal.cols;\n            for (var y = searchFrom; y >= startRow; y--) {\n                result = this._findInLine(term, y, cumulativeCols, searchOptions, isReverseSearch);\n                if (result) {\n                    break;\n                }\n                if (this._terminal.buffer.getLine(y).isWrapped) {\n                    cumulativeCols += this._terminal.cols;\n                }\n                else {\n                    cumulativeCols = this._terminal.cols;\n                }\n            }\n        }\n        return this._selectResult(result);\n    };\n    SearchHelper.prototype._initLinesCache = function () {\n        var _this = this;\n        if (!this._linesCache) {\n            this._linesCache = new Array(this._terminal.buffer.length);\n            this._cursorMoveListener = this._terminal.onCursorMove(function () { return _this._destroyLinesCache(); });\n            this._resizeListener = this._terminal.onResize(function () { return _this._destroyLinesCache(); });\n        }\n        window.clearTimeout(this._linesCacheTimeoutId);\n        this._linesCacheTimeoutId = window.setTimeout(function () { return _this._destroyLinesCache(); }, LINES_CACHE_TIME_TO_LIVE);\n    };\n    SearchHelper.prototype._destroyLinesCache = function () {\n        this._linesCache = null;\n        if (this._cursorMoveListener) {\n            this._cursorMoveListener.dispose();\n            this._cursorMoveListener = undefined;\n        }\n        if (this._resizeListener) {\n            this._resizeListener.dispose();\n            this._resizeListener = undefined;\n        }\n        if (this._linesCacheTimeoutId) {\n            window.clearTimeout(this._linesCacheTimeoutId);\n            this._linesCacheTimeoutId = 0;\n        }\n    };\n    SearchHelper.prototype._isWholeWord = function (searchIndex, line, term) {\n        return (((searchIndex === 0) || (NON_WORD_CHARACTERS.indexOf(line[searchIndex - 1]) !== -1)) &&\n            (((searchIndex + term.length) === line.length) || (NON_WORD_CHARACTERS.indexOf(line[searchIndex + term.length]) !== -1)));\n    };\n    SearchHelper.prototype._findInLine = function (term, row, col, searchOptions, isReverseSearch) {\n        if (searchOptions === void 0) { searchOptions = {}; }\n        if (isReverseSearch === void 0) { isReverseSearch = false; }\n        if (this._terminal.buffer.getLine(row).isWrapped) {\n            return;\n        }\n        var stringLine = this._linesCache ? this._linesCache[row] : void 0;\n        if (stringLine === void 0) {\n            stringLine = this.translateBufferLineToStringWithWrap(row, true);\n            if (this._linesCache) {\n                this._linesCache[row] = stringLine;\n            }\n        }\n        var searchTerm = searchOptions.caseSensitive ? term : term.toLowerCase();\n        var searchStringLine = searchOptions.caseSensitive ? stringLine : stringLine.toLowerCase();\n        var resultIndex = -1;\n        if (searchOptions.regex) {\n            var searchRegex = RegExp(searchTerm, 'g');\n            var foundTerm = void 0;\n            if (isReverseSearch) {\n                while (foundTerm = searchRegex.exec(searchStringLine.slice(0, col))) {\n                    resultIndex = searchRegex.lastIndex - foundTerm[0].length;\n                    term = foundTerm[0];\n                    searchRegex.lastIndex -= (term.length - 1);\n                }\n            }\n            else {\n                foundTerm = searchRegex.exec(searchStringLine.slice(col));\n                if (foundTerm && foundTerm[0].length > 0) {\n                    resultIndex = col + (searchRegex.lastIndex - foundTerm[0].length);\n                    term = foundTerm[0];\n                }\n            }\n        }\n        else {\n            if (isReverseSearch) {\n                if (col - searchTerm.length >= 0) {\n                    resultIndex = searchStringLine.lastIndexOf(searchTerm, col - searchTerm.length);\n                }\n            }\n            else {\n                resultIndex = searchStringLine.indexOf(searchTerm, col);\n            }\n        }\n        if (resultIndex >= 0) {\n            if (resultIndex >= this._terminal.cols) {\n                row += Math.floor(resultIndex / this._terminal.cols);\n                resultIndex = resultIndex % this._terminal.cols;\n            }\n            if (searchOptions.wholeWord && !this._isWholeWord(resultIndex, searchStringLine, term)) {\n                return;\n            }\n            var line = this._terminal.buffer.getLine(row);\n            for (var i = 0; i < resultIndex; i++) {\n                var cell = line.getCell(i);\n                var char = cell.char;\n                if (char.length > 1) {\n                    resultIndex -= char.length - 1;\n                }\n                var charWidth = cell.width;\n                if (charWidth === 0) {\n                    resultIndex++;\n                }\n            }\n            return {\n                term: term,\n                col: resultIndex,\n                row: row\n            };\n        }\n    };\n    SearchHelper.prototype.translateBufferLineToStringWithWrap = function (lineIndex, trimRight) {\n        var lineString = '';\n        var lineWrapsToNext;\n        do {\n            var nextLine = this._terminal.buffer.getLine(lineIndex + 1);\n            lineWrapsToNext = nextLine ? nextLine.isWrapped : false;\n            lineString += this._terminal.buffer.getLine(lineIndex).translateToString(!lineWrapsToNext && trimRight).substring(0, this._terminal.cols);\n            lineIndex++;\n        } while (lineWrapsToNext);\n        return lineString;\n    };\n    SearchHelper.prototype._selectResult = function (result) {\n        if (!result) {\n            this._terminal.clearSelection();\n            return false;\n        }\n        this._terminal.select(result.col, result.row, result.term.length);\n        this._terminal.scrollLines(result.row - this._terminal.buffer.viewportY);\n        return true;\n    };\n    return SearchHelper;\n}());\nexports.SearchHelper = SearchHelper;\n//# sourceMappingURL=SearchHelper.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar SearchHelper_1 = require(\"./SearchHelper\");\nfunction findNext(terminal, term, searchOptions) {\n    if (searchOptions === void 0) { searchOptions = {}; }\n    var addonTerminal = terminal;\n    if (!addonTerminal.__searchHelper) {\n        addonTerminal.__searchHelper = new SearchHelper_1.SearchHelper(addonTerminal);\n    }\n    return addonTerminal.__searchHelper.findNext(term, searchOptions);\n}\nexports.findNext = findNext;\nfunction findPrevious(terminal, term, searchOptions) {\n    var addonTerminal = terminal;\n    if (!addonTerminal.__searchHelper) {\n        addonTerminal.__searchHelper = new SearchHelper_1.SearchHelper(addonTerminal);\n    }\n    return addonTerminal.__searchHelper.findPrevious(term, searchOptions);\n}\nexports.findPrevious = findPrevious;\nfunction apply(terminalConstructor) {\n    terminalConstructor.prototype.findNext = function (term, searchOptions) {\n        return findNext(this, term, searchOptions);\n    };\n    terminalConstructor.prototype.findPrevious = function (term, searchOptions) {\n        return findPrevious(this, term, searchOptions);\n    };\n}\nexports.apply = apply;\n//# sourceMappingURL=search.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar protocolClause = '(https?:\\\\/\\\\/)';\nvar domainCharacterSet = '[\\\\da-z\\\\.-]+';\nvar negatedDomainCharacterSet = '[^\\\\da-z\\\\.-]+';\nvar domainBodyClause = '(' + domainCharacterSet + ')';\nvar tldClause = '([a-z\\\\.]{2,6})';\nvar ipClause = '((\\\\d{1,3}\\\\.){3}\\\\d{1,3})';\nvar localHostClause = '(localhost)';\nvar portClause = '(:\\\\d{1,5})';\nvar hostClause = '((' + domainBodyClause + '\\\\.' + tldClause + ')|' + ipClause + '|' + localHostClause + ')' + portClause + '?';\nvar pathCharacterSet = '(\\\\/[\\\\/\\\\w\\\\.\\\\-%~:+]*)*([^:\"\\'\\\\s])';\nvar pathClause = '(' + pathCharacterSet + ')?';\nvar queryStringHashFragmentCharacterSet = '[0-9\\\\w\\\\[\\\\]\\\\(\\\\)\\\\/\\\\?\\\\!#@$%&\\'*+,:;~\\\\=\\\\.\\\\-]*';\nvar queryStringClause = '(\\\\?' + queryStringHashFragmentCharacterSet + ')?';\nvar hashFragmentClause = '(#' + queryStringHashFragmentCharacterSet + ')?';\nvar negatedPathCharacterSet = '[^\\\\/\\\\w\\\\.\\\\-%]+';\nvar bodyClause = hostClause + pathClause + queryStringClause + hashFragmentClause;\nvar start = '(?:^|' + negatedDomainCharacterSet + ')(';\nvar end = ')($|' + negatedPathCharacterSet + ')';\nvar strictUrlRegex = new RegExp(start + protocolClause + bodyClause + end);\nfunction handleLink(event, uri) {\n    window.open(uri, '_blank');\n}\nfunction webLinksInit(term, handler, options) {\n    if (handler === void 0) { handler = handleLink; }\n    if (options === void 0) { options = {}; }\n    options.matchIndex = 1;\n    term.registerLinkMatcher(strictUrlRegex, handler, options);\n}\nexports.webLinksInit = webLinksInit;\nfunction apply(terminalConstructor) {\n    terminalConstructor.prototype.webLinksInit = function (handler, options) {\n        webLinksInit(this, handler, options);\n    };\n}\nexports.apply = apply;\n//# sourceMappingURL=webLinks.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EventEmitter2_1 = require(\"./EventEmitter2\");\nvar CircularList = (function () {\n    function CircularList(_maxLength) {\n        this._maxLength = _maxLength;\n        this.onDeleteEmitter = new EventEmitter2_1.EventEmitter2();\n        this.onInsertEmitter = new EventEmitter2_1.EventEmitter2();\n        this.onTrimEmitter = new EventEmitter2_1.EventEmitter2();\n        this._array = new Array(this._maxLength);\n        this._startIndex = 0;\n        this._length = 0;\n    }\n    Object.defineProperty(CircularList.prototype, \"onDelete\", {\n        get: function () { return this.onDeleteEmitter.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CircularList.prototype, \"onInsert\", {\n        get: function () { return this.onInsertEmitter.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CircularList.prototype, \"onTrim\", {\n        get: function () { return this.onTrimEmitter.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CircularList.prototype, \"maxLength\", {\n        get: function () {\n            return this._maxLength;\n        },\n        set: function (newMaxLength) {\n            if (this._maxLength === newMaxLength) {\n                return;\n            }\n            var newArray = new Array(newMaxLength);\n            for (var i = 0; i < Math.min(newMaxLength, this.length); i++) {\n                newArray[i] = this._array[this._getCyclicIndex(i)];\n            }\n            this._array = newArray;\n            this._maxLength = newMaxLength;\n            this._startIndex = 0;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CircularList.prototype, \"length\", {\n        get: function () {\n            return this._length;\n        },\n        set: function (newLength) {\n            if (newLength > this._length) {\n                for (var i = this._length; i < newLength; i++) {\n                    this._array[i] = undefined;\n                }\n            }\n            this._length = newLength;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CircularList.prototype.get = function (index) {\n        return this._array[this._getCyclicIndex(index)];\n    };\n    CircularList.prototype.set = function (index, value) {\n        this._array[this._getCyclicIndex(index)] = value;\n    };\n    CircularList.prototype.push = function (value) {\n        this._array[this._getCyclicIndex(this._length)] = value;\n        if (this._length === this._maxLength) {\n            this._startIndex = ++this._startIndex % this._maxLength;\n            this.onTrimEmitter.fire(1);\n        }\n        else {\n            this._length++;\n        }\n    };\n    CircularList.prototype.recycle = function () {\n        if (this._length !== this._maxLength) {\n            throw new Error('Can only recycle when the buffer is full');\n        }\n        this._startIndex = ++this._startIndex % this._maxLength;\n        this.onTrimEmitter.fire(1);\n        return this._array[this._getCyclicIndex(this._length - 1)];\n    };\n    Object.defineProperty(CircularList.prototype, \"isFull\", {\n        get: function () {\n            return this._length === this._maxLength;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CircularList.prototype.pop = function () {\n        return this._array[this._getCyclicIndex(this._length-- - 1)];\n    };\n    CircularList.prototype.splice = function (start, deleteCount) {\n        var items = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            items[_i - 2] = arguments[_i];\n        }\n        if (deleteCount) {\n            for (var i = start; i < this._length - deleteCount; i++) {\n                this._array[this._getCyclicIndex(i)] = this._array[this._getCyclicIndex(i + deleteCount)];\n            }\n            this._length -= deleteCount;\n        }\n        for (var i = this._length - 1; i >= start; i--) {\n            this._array[this._getCyclicIndex(i + items.length)] = this._array[this._getCyclicIndex(i)];\n        }\n        for (var i = 0; i < items.length; i++) {\n            this._array[this._getCyclicIndex(start + i)] = items[i];\n        }\n        if (this._length + items.length > this._maxLength) {\n            var countToTrim = (this._length + items.length) - this._maxLength;\n            this._startIndex += countToTrim;\n            this._length = this._maxLength;\n            this.onTrimEmitter.fire(countToTrim);\n        }\n        else {\n            this._length += items.length;\n        }\n    };\n    CircularList.prototype.trimStart = function (count) {\n        if (count > this._length) {\n            count = this._length;\n        }\n        this._startIndex += count;\n        this._length -= count;\n        this.onTrimEmitter.fire(count);\n    };\n    CircularList.prototype.shiftElements = function (start, count, offset) {\n        if (count <= 0) {\n            return;\n        }\n        if (start < 0 || start >= this._length) {\n            throw new Error('start argument out of range');\n        }\n        if (start + offset < 0) {\n            throw new Error('Cannot shift elements in list beyond index 0');\n        }\n        if (offset > 0) {\n            for (var i = count - 1; i >= 0; i--) {\n                this.set(start + i + offset, this.get(start + i));\n            }\n            var expandListBy = (start + count + offset) - this._length;\n            if (expandListBy > 0) {\n                this._length += expandListBy;\n                while (this._length > this._maxLength) {\n                    this._length--;\n                    this._startIndex++;\n                    this.onTrimEmitter.fire(1);\n                }\n            }\n        }\n        else {\n            for (var i = 0; i < count; i++) {\n                this.set(start + i + offset, this.get(start + i));\n            }\n        }\n    };\n    CircularList.prototype._getCyclicIndex = function (index) {\n        return (this._startIndex + index) % this._maxLength;\n    };\n    return CircularList;\n}());\nexports.CircularList = CircularList;\n//# sourceMappingURL=CircularList.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction clone(val, depth) {\n    if (depth === void 0) { depth = 5; }\n    if (typeof val !== 'object') {\n        return val;\n    }\n    if (val === null) {\n        return null;\n    }\n    var clonedObject = Array.isArray(val) ? [] : {};\n    for (var key in val) {\n        clonedObject[key] = depth <= 1 ? val[key] : clone(val[key], depth - 1);\n    }\n    return clonedObject;\n}\nexports.clone = clone;\n//# sourceMappingURL=Clone.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Lifecycle_1 = require(\"./Lifecycle\");\nvar EventEmitter = (function (_super) {\n    __extends(EventEmitter, _super);\n    function EventEmitter() {\n        var _this = _super.call(this) || this;\n        _this._events = _this._events || {};\n        return _this;\n    }\n    EventEmitter.prototype.on = function (type, listener) {\n        this._events[type] = this._events[type] || [];\n        this._events[type].push(listener);\n    };\n    EventEmitter.prototype.addDisposableListener = function (type, handler) {\n        var _this = this;\n        this.on(type, handler);\n        var disposed = false;\n        return {\n            dispose: function () {\n                if (disposed) {\n                    return;\n                }\n                _this.off(type, handler);\n                disposed = true;\n            }\n        };\n    };\n    EventEmitter.prototype.off = function (type, listener) {\n        if (!this._events[type]) {\n            return;\n        }\n        var obj = this._events[type];\n        var i = obj.length;\n        while (i--) {\n            if (obj[i] === listener) {\n                obj.splice(i, 1);\n                return;\n            }\n        }\n    };\n    EventEmitter.prototype.removeAllListeners = function (type) {\n        if (this._events[type]) {\n            delete this._events[type];\n        }\n    };\n    EventEmitter.prototype.emit = function (type) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (!this._events[type]) {\n            return;\n        }\n        var obj = this._events[type];\n        for (var i = 0; i < obj.length; i++) {\n            obj[i].apply(this, args);\n        }\n    };\n    EventEmitter.prototype.emitMayRemoveListeners = function (type) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (!this._events[type]) {\n            return;\n        }\n        var obj = this._events[type];\n        var length = obj.length;\n        for (var i = 0; i < obj.length; i++) {\n            obj[i].apply(this, args);\n            i -= length - obj.length;\n            length = obj.length;\n        }\n    };\n    EventEmitter.prototype.listeners = function (type) {\n        return this._events[type] || [];\n    };\n    EventEmitter.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._events = {};\n    };\n    return EventEmitter;\n}(Lifecycle_1.Disposable));\nexports.EventEmitter = EventEmitter;\n//# sourceMappingURL=EventEmitter.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EventEmitter2 = (function () {\n    function EventEmitter2() {\n        this._listeners = [];\n    }\n    Object.defineProperty(EventEmitter2.prototype, \"event\", {\n        get: function () {\n            var _this = this;\n            if (!this._event) {\n                this._event = function (listener) {\n                    _this._listeners.push(listener);\n                    var disposable = {\n                        dispose: function () {\n                            for (var i = 0; i < _this._listeners.length; i++) {\n                                if (_this._listeners[i] === listener) {\n                                    _this._listeners.splice(i, 1);\n                                    return;\n                                }\n                            }\n                        }\n                    };\n                    return disposable;\n                };\n            }\n            return this._event;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    EventEmitter2.prototype.fire = function (data) {\n        var queue = [];\n        for (var i = 0; i < this._listeners.length; i++) {\n            queue.push(this._listeners[i]);\n        }\n        for (var i = 0; i < queue.length; i++) {\n            queue[i].call(undefined, data);\n        }\n    };\n    return EventEmitter2;\n}());\nexports.EventEmitter2 = EventEmitter2;\n//# sourceMappingURL=EventEmitter2.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Disposable = (function () {\n    function Disposable() {\n        this._disposables = [];\n        this._isDisposed = false;\n    }\n    Disposable.prototype.dispose = function () {\n        this._isDisposed = true;\n        this._disposables.forEach(function (d) { return d.dispose(); });\n        this._disposables.length = 0;\n    };\n    Disposable.prototype.register = function (d) {\n        this._disposables.push(d);\n    };\n    Disposable.prototype.unregister = function (d) {\n        var index = this._disposables.indexOf(d);\n        if (index !== -1) {\n            this._disposables.splice(index, 1);\n        }\n    };\n    return Disposable;\n}());\nexports.Disposable = Disposable;\n//# sourceMappingURL=Lifecycle.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isNode = (typeof navigator === 'undefined') ? true : false;\nvar userAgent = (isNode) ? 'node' : navigator.userAgent;\nvar platform = (isNode) ? 'node' : navigator.platform;\nexports.isFirefox = !!~userAgent.indexOf('Firefox');\nexports.isSafari = /^((?!chrome|android).)*safari/i.test(userAgent);\nexports.isMSIE = !!~userAgent.indexOf('MSIE') || !!~userAgent.indexOf('Trident');\nexports.isMac = contains(['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'], platform);\nexports.isIpad = platform === 'iPad';\nexports.isIphone = platform === 'iPhone';\nexports.isMSWindows = contains(['Windows', 'Win16', 'Win32', 'WinCE'], platform);\nexports.isLinux = platform.indexOf('Linux') >= 0;\nfunction contains(arr, el) {\n    return arr.indexOf(el) >= 0;\n}\n//# sourceMappingURL=Platform.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction fill(array, value, start, end) {\n    if (array.fill) {\n        return array.fill(value, start, end);\n    }\n    return fillFallback(array, value, start, end);\n}\nexports.fill = fill;\nfunction fillFallback(array, value, start, end) {\n    if (start === void 0) { start = 0; }\n    if (end === void 0) { end = array.length; }\n    if (start >= array.length) {\n        return array;\n    }\n    start = (array.length + start) % array.length;\n    if (end >= array.length) {\n        end = array.length;\n    }\n    else {\n        end = (array.length + end) % array.length;\n    }\n    for (var i = start; i < end; ++i) {\n        array[i] = value;\n    }\n    return array;\n}\nexports.fillFallback = fillFallback;\nfunction concat(a, b) {\n    var result = new a.constructor(a.length + b.length);\n    result.set(a);\n    result.set(b, a.length);\n    return result;\n}\nexports.concat = concat;\n//# sourceMappingURL=TypedArrayUtils.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_COLOR = 256;\n//# sourceMappingURL=Types.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar C0;\n(function (C0) {\n    C0.NUL = '\\x00';\n    C0.SOH = '\\x01';\n    C0.STX = '\\x02';\n    C0.ETX = '\\x03';\n    C0.EOT = '\\x04';\n    C0.ENQ = '\\x05';\n    C0.ACK = '\\x06';\n    C0.BEL = '\\x07';\n    C0.BS = '\\x08';\n    C0.HT = '\\x09';\n    C0.LF = '\\x0a';\n    C0.VT = '\\x0b';\n    C0.FF = '\\x0c';\n    C0.CR = '\\x0d';\n    C0.SO = '\\x0e';\n    C0.SI = '\\x0f';\n    C0.DLE = '\\x10';\n    C0.DC1 = '\\x11';\n    C0.DC2 = '\\x12';\n    C0.DC3 = '\\x13';\n    C0.DC4 = '\\x14';\n    C0.NAK = '\\x15';\n    C0.SYN = '\\x16';\n    C0.ETB = '\\x17';\n    C0.CAN = '\\x18';\n    C0.EM = '\\x19';\n    C0.SUB = '\\x1a';\n    C0.ESC = '\\x1b';\n    C0.FS = '\\x1c';\n    C0.GS = '\\x1d';\n    C0.RS = '\\x1e';\n    C0.US = '\\x1f';\n    C0.SP = '\\x20';\n    C0.DEL = '\\x7f';\n})(C0 = exports.C0 || (exports.C0 = {}));\nvar C1;\n(function (C1) {\n    C1.PAD = '\\x80';\n    C1.HOP = '\\x81';\n    C1.BPH = '\\x82';\n    C1.NBH = '\\x83';\n    C1.IND = '\\x84';\n    C1.NEL = '\\x85';\n    C1.SSA = '\\x86';\n    C1.ESA = '\\x87';\n    C1.HTS = '\\x88';\n    C1.HTJ = '\\x89';\n    C1.VTS = '\\x8a';\n    C1.PLD = '\\x8b';\n    C1.PLU = '\\x8c';\n    C1.RI = '\\x8d';\n    C1.SS2 = '\\x8e';\n    C1.SS3 = '\\x8f';\n    C1.DCS = '\\x90';\n    C1.PU1 = '\\x91';\n    C1.PU2 = '\\x92';\n    C1.STS = '\\x93';\n    C1.CCH = '\\x94';\n    C1.MW = '\\x95';\n    C1.SPA = '\\x96';\n    C1.EPA = '\\x97';\n    C1.SOS = '\\x98';\n    C1.SGCI = '\\x99';\n    C1.SCI = '\\x9a';\n    C1.CSI = '\\x9b';\n    C1.ST = '\\x9c';\n    C1.OSC = '\\x9d';\n    C1.PM = '\\x9e';\n    C1.APC = '\\x9f';\n})(C1 = exports.C1 || (exports.C1 = {}));\n//# sourceMappingURL=EscapeSequences.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TextDecoder_1 = require(\"../input/TextDecoder\");\nvar Types_1 = require(\"../../common/Types\");\nexports.DEFAULT_ATTR = (0 << 18) | (Types_1.DEFAULT_COLOR << 9) | (256 << 0);\nexports.CHAR_DATA_ATTR_INDEX = 0;\nexports.CHAR_DATA_CHAR_INDEX = 1;\nexports.CHAR_DATA_WIDTH_INDEX = 2;\nexports.CHAR_DATA_CODE_INDEX = 3;\nexports.NULL_CELL_CHAR = '';\nexports.NULL_CELL_WIDTH = 1;\nexports.NULL_CELL_CODE = 0;\nexports.WHITESPACE_CELL_CHAR = ' ';\nexports.WHITESPACE_CELL_WIDTH = 1;\nexports.WHITESPACE_CELL_CODE = 32;\nvar CELL_SIZE = 3;\nvar AttributeData = (function () {\n    function AttributeData() {\n        this.fg = 0;\n        this.bg = 0;\n    }\n    AttributeData.toColorRGB = function (value) {\n        return [\n            value >>> 16 & 255,\n            value >>> 8 & 255,\n            value & 255\n        ];\n    };\n    AttributeData.fromColorRGB = function (value) {\n        return (value[0] & 255) << 16 | (value[1] & 255) << 8 | value[2] & 255;\n    };\n    AttributeData.prototype.clone = function () {\n        var newObj = new AttributeData();\n        newObj.fg = this.fg;\n        newObj.bg = this.bg;\n        return newObj;\n    };\n    AttributeData.prototype.isInverse = function () { return this.fg & 67108864; };\n    AttributeData.prototype.isBold = function () { return this.fg & 134217728; };\n    AttributeData.prototype.isUnderline = function () { return this.fg & 268435456; };\n    AttributeData.prototype.isBlink = function () { return this.fg & 536870912; };\n    AttributeData.prototype.isInvisible = function () { return this.fg & 1073741824; };\n    AttributeData.prototype.isItalic = function () { return this.bg & 67108864; };\n    AttributeData.prototype.isDim = function () { return this.bg & 134217728; };\n    AttributeData.prototype.getFgColorMode = function () { return this.fg & 50331648; };\n    AttributeData.prototype.getBgColorMode = function () { return this.bg & 50331648; };\n    AttributeData.prototype.isFgRGB = function () { return (this.fg & 50331648) === 50331648; };\n    AttributeData.prototype.isBgRGB = function () { return (this.bg & 50331648) === 50331648; };\n    AttributeData.prototype.isFgPalette = function () { return (this.fg & 50331648) === 16777216 || (this.fg & 50331648) === 33554432; };\n    AttributeData.prototype.isBgPalette = function () { return (this.bg & 50331648) === 16777216 || (this.bg & 50331648) === 33554432; };\n    AttributeData.prototype.isFgDefault = function () { return (this.fg & 50331648) === 0; };\n    AttributeData.prototype.isBgDefault = function () { return (this.bg & 50331648) === 0; };\n    AttributeData.prototype.getFgColor = function () {\n        switch (this.fg & 50331648) {\n            case 16777216:\n            case 33554432: return this.fg & 255;\n            case 50331648: return this.fg & 16777215;\n            default: return -1;\n        }\n    };\n    AttributeData.prototype.getBgColor = function () {\n        switch (this.bg & 50331648) {\n            case 16777216:\n            case 33554432: return this.bg & 255;\n            case 50331648: return this.bg & 16777215;\n            default: return -1;\n        }\n    };\n    return AttributeData;\n}());\nexports.AttributeData = AttributeData;\nexports.DEFAULT_ATTR_DATA = Object.freeze(new AttributeData());\nvar CellData = (function (_super) {\n    __extends(CellData, _super);\n    function CellData() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.content = 0;\n        _this.fg = 0;\n        _this.bg = 0;\n        _this.combinedData = '';\n        return _this;\n    }\n    CellData.fromCharData = function (value) {\n        var obj = new CellData();\n        obj.setFromCharData(value);\n        return obj;\n    };\n    CellData.prototype.isCombined = function () {\n        return this.content & 2097152;\n    };\n    CellData.prototype.getWidth = function () {\n        return this.content >> 22;\n    };\n    CellData.prototype.getChars = function () {\n        if (this.content & 2097152) {\n            return this.combinedData;\n        }\n        if (this.content & 2097151) {\n            return TextDecoder_1.stringFromCodePoint(this.content & 2097151);\n        }\n        return '';\n    };\n    CellData.prototype.getCode = function () {\n        return (this.isCombined())\n            ? this.combinedData.charCodeAt(this.combinedData.length - 1)\n            : this.content & 2097151;\n    };\n    CellData.prototype.setFromCharData = function (value) {\n        this.fg = value[exports.CHAR_DATA_ATTR_INDEX];\n        this.bg = 0;\n        var combined = false;\n        if (value[exports.CHAR_DATA_CHAR_INDEX].length > 2) {\n            combined = true;\n        }\n        else if (value[exports.CHAR_DATA_CHAR_INDEX].length === 2) {\n            var code = value[exports.CHAR_DATA_CHAR_INDEX].charCodeAt(0);\n            if (0xD800 <= code && code <= 0xDBFF) {\n                var second = value[exports.CHAR_DATA_CHAR_INDEX].charCodeAt(1);\n                if (0xDC00 <= second && second <= 0xDFFF) {\n                    this.content = ((code - 0xD800) * 0x400 + second - 0xDC00 + 0x10000) | (value[exports.CHAR_DATA_WIDTH_INDEX] << 22);\n                }\n                else {\n                    combined = true;\n                }\n            }\n            else {\n                combined = true;\n            }\n        }\n        else {\n            this.content = value[exports.CHAR_DATA_CHAR_INDEX].charCodeAt(0) | (value[exports.CHAR_DATA_WIDTH_INDEX] << 22);\n        }\n        if (combined) {\n            this.combinedData = value[exports.CHAR_DATA_CHAR_INDEX];\n            this.content = 2097152 | (value[exports.CHAR_DATA_WIDTH_INDEX] << 22);\n        }\n    };\n    CellData.prototype.getAsCharData = function () {\n        return [this.fg, this.getChars(), this.getWidth(), this.getCode()];\n    };\n    return CellData;\n}(AttributeData));\nexports.CellData = CellData;\nvar BufferLine = (function () {\n    function BufferLine(cols, fillCellData, isWrapped) {\n        if (isWrapped === void 0) { isWrapped = false; }\n        this.isWrapped = isWrapped;\n        this._combined = {};\n        this._data = new Uint32Array(cols * CELL_SIZE);\n        var cell = fillCellData || CellData.fromCharData([0, exports.NULL_CELL_CHAR, exports.NULL_CELL_WIDTH, exports.NULL_CELL_CODE]);\n        for (var i = 0; i < cols; ++i) {\n            this.setCell(i, cell);\n        }\n        this.length = cols;\n    }\n    BufferLine.prototype.get = function (index) {\n        var content = this._data[index * CELL_SIZE + 0];\n        var cp = content & 2097151;\n        return [\n            this._data[index * CELL_SIZE + 1],\n            (content & 2097152)\n                ? this._combined[index]\n                : (cp) ? TextDecoder_1.stringFromCodePoint(cp) : '',\n            content >> 22,\n            (content & 2097152)\n                ? this._combined[index].charCodeAt(this._combined[index].length - 1)\n                : cp\n        ];\n    };\n    BufferLine.prototype.set = function (index, value) {\n        this._data[index * CELL_SIZE + 1] = value[exports.CHAR_DATA_ATTR_INDEX];\n        if (value[exports.CHAR_DATA_CHAR_INDEX].length > 1) {\n            this._combined[index] = value[1];\n            this._data[index * CELL_SIZE + 0] = index | 2097152 | (value[exports.CHAR_DATA_WIDTH_INDEX] << 22);\n        }\n        else {\n            this._data[index * CELL_SIZE + 0] = value[exports.CHAR_DATA_CHAR_INDEX].charCodeAt(0) | (value[exports.CHAR_DATA_WIDTH_INDEX] << 22);\n        }\n    };\n    BufferLine.prototype.getWidth = function (index) {\n        return this._data[index * CELL_SIZE + 0] >> 22;\n    };\n    BufferLine.prototype.hasWidth = function (index) {\n        return this._data[index * CELL_SIZE + 0] & 12582912;\n    };\n    BufferLine.prototype.getFg = function (index) {\n        return this._data[index * CELL_SIZE + 1];\n    };\n    BufferLine.prototype.getBg = function (index) {\n        return this._data[index * CELL_SIZE + 2];\n    };\n    BufferLine.prototype.hasContent = function (index) {\n        return this._data[index * CELL_SIZE + 0] & 4194303;\n    };\n    BufferLine.prototype.getCodePoint = function (index) {\n        var content = this._data[index * CELL_SIZE + 0];\n        if (content & 2097152) {\n            return this._combined[index].charCodeAt(this._combined[index].length - 1);\n        }\n        return content & 2097151;\n    };\n    BufferLine.prototype.isCombined = function (index) {\n        return this._data[index * CELL_SIZE + 0] & 2097152;\n    };\n    BufferLine.prototype.getString = function (index) {\n        var content = this._data[index * CELL_SIZE + 0];\n        if (content & 2097152) {\n            return this._combined[index];\n        }\n        if (content & 2097151) {\n            return TextDecoder_1.stringFromCodePoint(content & 2097151);\n        }\n        return '';\n    };\n    BufferLine.prototype.loadCell = function (index, cell) {\n        var startIndex = index * CELL_SIZE;\n        cell.content = this._data[startIndex + 0];\n        cell.fg = this._data[startIndex + 1];\n        cell.bg = this._data[startIndex + 2];\n        if (cell.content & 2097152) {\n            cell.combinedData = this._combined[index];\n        }\n        return cell;\n    };\n    BufferLine.prototype.setCell = function (index, cell) {\n        if (cell.content & 2097152) {\n            this._combined[index] = cell.combinedData;\n        }\n        this._data[index * CELL_SIZE + 0] = cell.content;\n        this._data[index * CELL_SIZE + 1] = cell.fg;\n        this._data[index * CELL_SIZE + 2] = cell.bg;\n    };\n    BufferLine.prototype.setCellFromCodePoint = function (index, codePoint, width, fg, bg) {\n        this._data[index * CELL_SIZE + 0] = codePoint | (width << 22);\n        this._data[index * CELL_SIZE + 1] = fg;\n        this._data[index * CELL_SIZE + 2] = bg;\n    };\n    BufferLine.prototype.addCodepointToCell = function (index, codePoint) {\n        var content = this._data[index * CELL_SIZE + 0];\n        if (content & 2097152) {\n            this._combined[index] += TextDecoder_1.stringFromCodePoint(codePoint);\n        }\n        else {\n            if (content & 2097151) {\n                this._combined[index] = TextDecoder_1.stringFromCodePoint(content & 2097151) + TextDecoder_1.stringFromCodePoint(codePoint);\n                content &= ~2097151;\n                content |= 2097152;\n            }\n            else {\n                content = codePoint | (1 << 22);\n            }\n            this._data[index * CELL_SIZE + 0] = content;\n        }\n    };\n    BufferLine.prototype.insertCells = function (pos, n, fillCellData) {\n        pos %= this.length;\n        if (n < this.length - pos) {\n            var cell = new CellData();\n            for (var i = this.length - pos - n - 1; i >= 0; --i) {\n                this.setCell(pos + n + i, this.loadCell(pos + i, cell));\n            }\n            for (var i = 0; i < n; ++i) {\n                this.setCell(pos + i, fillCellData);\n            }\n        }\n        else {\n            for (var i = pos; i < this.length; ++i) {\n                this.setCell(i, fillCellData);\n            }\n        }\n    };\n    BufferLine.prototype.deleteCells = function (pos, n, fillCellData) {\n        pos %= this.length;\n        if (n < this.length - pos) {\n            var cell = new CellData();\n            for (var i = 0; i < this.length - pos - n; ++i) {\n                this.setCell(pos + i, this.loadCell(pos + n + i, cell));\n            }\n            for (var i = this.length - n; i < this.length; ++i) {\n                this.setCell(i, fillCellData);\n            }\n        }\n        else {\n            for (var i = pos; i < this.length; ++i) {\n                this.setCell(i, fillCellData);\n            }\n        }\n    };\n    BufferLine.prototype.replaceCells = function (start, end, fillCellData) {\n        while (start < end && start < this.length) {\n            this.setCell(start++, fillCellData);\n        }\n    };\n    BufferLine.prototype.resize = function (cols, fillCellData) {\n        if (cols === this.length) {\n            return;\n        }\n        if (cols > this.length) {\n            var data = new Uint32Array(cols * CELL_SIZE);\n            if (this.length) {\n                if (cols * CELL_SIZE < this._data.length) {\n                    data.set(this._data.subarray(0, cols * CELL_SIZE));\n                }\n                else {\n                    data.set(this._data);\n                }\n            }\n            this._data = data;\n            for (var i = this.length; i < cols; ++i) {\n                this.setCell(i, fillCellData);\n            }\n        }\n        else {\n            if (cols) {\n                var data = new Uint32Array(cols * CELL_SIZE);\n                data.set(this._data.subarray(0, cols * CELL_SIZE));\n                this._data = data;\n                var keys = Object.keys(this._combined);\n                for (var i = 0; i < keys.length; i++) {\n                    var key = parseInt(keys[i], 10);\n                    if (key >= cols) {\n                        delete this._combined[key];\n                    }\n                }\n            }\n            else {\n                this._data = new Uint32Array(0);\n                this._combined = {};\n            }\n        }\n        this.length = cols;\n    };\n    BufferLine.prototype.fill = function (fillCellData) {\n        this._combined = {};\n        for (var i = 0; i < this.length; ++i) {\n            this.setCell(i, fillCellData);\n        }\n    };\n    BufferLine.prototype.copyFrom = function (line) {\n        if (this.length !== line.length) {\n            this._data = new Uint32Array(line._data);\n        }\n        else {\n            this._data.set(line._data);\n        }\n        this.length = line.length;\n        this._combined = {};\n        for (var el in line._combined) {\n            this._combined[el] = line._combined[el];\n        }\n        this.isWrapped = line.isWrapped;\n    };\n    BufferLine.prototype.clone = function () {\n        var newLine = new BufferLine(0);\n        newLine._data = new Uint32Array(this._data);\n        newLine.length = this.length;\n        for (var el in this._combined) {\n            newLine._combined[el] = this._combined[el];\n        }\n        newLine.isWrapped = this.isWrapped;\n        return newLine;\n    };\n    BufferLine.prototype.getTrimmedLength = function () {\n        for (var i = this.length - 1; i >= 0; --i) {\n            if ((this._data[i * CELL_SIZE + 0] & 4194303)) {\n                return i + (this._data[i * CELL_SIZE + 0] >> 22);\n            }\n        }\n        return 0;\n    };\n    BufferLine.prototype.copyCellsFrom = function (src, srcCol, destCol, length, applyInReverse) {\n        var srcData = src._data;\n        if (applyInReverse) {\n            for (var cell = length - 1; cell >= 0; cell--) {\n                for (var i = 0; i < CELL_SIZE; i++) {\n                    this._data[(destCol + cell) * CELL_SIZE + i] = srcData[(srcCol + cell) * CELL_SIZE + i];\n                }\n            }\n        }\n        else {\n            for (var cell = 0; cell < length; cell++) {\n                for (var i = 0; i < CELL_SIZE; i++) {\n                    this._data[(destCol + cell) * CELL_SIZE + i] = srcData[(srcCol + cell) * CELL_SIZE + i];\n                }\n            }\n        }\n        var srcCombinedKeys = Object.keys(src._combined);\n        for (var i = 0; i < srcCombinedKeys.length; i++) {\n            var key = parseInt(srcCombinedKeys[i], 10);\n            if (key >= srcCol) {\n                this._combined[key - srcCol + destCol] = src._combined[key];\n            }\n        }\n    };\n    BufferLine.prototype.translateToString = function (trimRight, startCol, endCol) {\n        if (trimRight === void 0) { trimRight = false; }\n        if (startCol === void 0) { startCol = 0; }\n        if (endCol === void 0) { endCol = this.length; }\n        if (trimRight) {\n            endCol = Math.min(endCol, this.getTrimmedLength());\n        }\n        var result = '';\n        while (startCol < endCol) {\n            var content = this._data[startCol * CELL_SIZE + 0];\n            var cp = content & 2097151;\n            result += (content & 2097152) ? this._combined[startCol] : (cp) ? TextDecoder_1.stringFromCodePoint(cp) : exports.WHITESPACE_CELL_CHAR;\n            startCol += (content >> 22) || 1;\n        }\n        return result;\n    };\n    return BufferLine;\n}());\nexports.BufferLine = BufferLine;\n//# sourceMappingURL=BufferLine.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction reflowLargerGetLinesToRemove(lines, oldCols, newCols, bufferAbsoluteY, nullCell) {\n    var toRemove = [];\n    for (var y = 0; y < lines.length - 1; y++) {\n        var i = y;\n        var nextLine = lines.get(++i);\n        if (!nextLine.isWrapped) {\n            continue;\n        }\n        var wrappedLines = [lines.get(y)];\n        while (i < lines.length && nextLine.isWrapped) {\n            wrappedLines.push(nextLine);\n            nextLine = lines.get(++i);\n        }\n        if (bufferAbsoluteY >= y && bufferAbsoluteY < i) {\n            y += wrappedLines.length - 1;\n            continue;\n        }\n        var destLineIndex = 0;\n        var destCol = getWrappedLineTrimmedLength(wrappedLines, destLineIndex, oldCols);\n        var srcLineIndex = 1;\n        var srcCol = 0;\n        while (srcLineIndex < wrappedLines.length) {\n            var srcTrimmedTineLength = getWrappedLineTrimmedLength(wrappedLines, srcLineIndex, oldCols);\n            var srcRemainingCells = srcTrimmedTineLength - srcCol;\n            var destRemainingCells = newCols - destCol;\n            var cellsToCopy = Math.min(srcRemainingCells, destRemainingCells);\n            wrappedLines[destLineIndex].copyCellsFrom(wrappedLines[srcLineIndex], srcCol, destCol, cellsToCopy, false);\n            destCol += cellsToCopy;\n            if (destCol === newCols) {\n                destLineIndex++;\n                destCol = 0;\n            }\n            srcCol += cellsToCopy;\n            if (srcCol === srcTrimmedTineLength) {\n                srcLineIndex++;\n                srcCol = 0;\n            }\n            if (destCol === 0 && destLineIndex !== 0) {\n                if (wrappedLines[destLineIndex - 1].getWidth(newCols - 1) === 2) {\n                    wrappedLines[destLineIndex].copyCellsFrom(wrappedLines[destLineIndex - 1], newCols - 1, destCol++, 1, false);\n                    wrappedLines[destLineIndex - 1].setCell(newCols - 1, nullCell);\n                }\n            }\n        }\n        wrappedLines[destLineIndex].replaceCells(destCol, newCols, nullCell);\n        var countToRemove = 0;\n        for (var i_1 = wrappedLines.length - 1; i_1 > 0; i_1--) {\n            if (i_1 > destLineIndex || wrappedLines[i_1].getTrimmedLength() === 0) {\n                countToRemove++;\n            }\n            else {\n                break;\n            }\n        }\n        if (countToRemove > 0) {\n            toRemove.push(y + wrappedLines.length - countToRemove);\n            toRemove.push(countToRemove);\n        }\n        y += wrappedLines.length - 1;\n    }\n    return toRemove;\n}\nexports.reflowLargerGetLinesToRemove = reflowLargerGetLinesToRemove;\nfunction reflowLargerCreateNewLayout(lines, toRemove) {\n    var layout = [];\n    var nextToRemoveIndex = 0;\n    var nextToRemoveStart = toRemove[nextToRemoveIndex];\n    var countRemovedSoFar = 0;\n    for (var i = 0; i < lines.length; i++) {\n        if (nextToRemoveStart === i) {\n            var countToRemove = toRemove[++nextToRemoveIndex];\n            lines.onDeleteEmitter.fire({\n                index: i - countRemovedSoFar,\n                amount: countToRemove\n            });\n            i += countToRemove - 1;\n            countRemovedSoFar += countToRemove;\n            nextToRemoveStart = toRemove[++nextToRemoveIndex];\n        }\n        else {\n            layout.push(i);\n        }\n    }\n    return {\n        layout: layout,\n        countRemoved: countRemovedSoFar\n    };\n}\nexports.reflowLargerCreateNewLayout = reflowLargerCreateNewLayout;\nfunction reflowLargerApplyNewLayout(lines, newLayout) {\n    var newLayoutLines = [];\n    for (var i = 0; i < newLayout.length; i++) {\n        newLayoutLines.push(lines.get(newLayout[i]));\n    }\n    for (var i = 0; i < newLayoutLines.length; i++) {\n        lines.set(i, newLayoutLines[i]);\n    }\n    lines.length = newLayout.length;\n}\nexports.reflowLargerApplyNewLayout = reflowLargerApplyNewLayout;\nfunction reflowSmallerGetNewLineLengths(wrappedLines, oldCols, newCols) {\n    var newLineLengths = [];\n    var cellsNeeded = wrappedLines.map(function (l, i) { return getWrappedLineTrimmedLength(wrappedLines, i, oldCols); }).reduce(function (p, c) { return p + c; });\n    var srcCol = 0;\n    var srcLine = 0;\n    var cellsAvailable = 0;\n    while (cellsAvailable < cellsNeeded) {\n        if (cellsNeeded - cellsAvailable < newCols) {\n            newLineLengths.push(cellsNeeded - cellsAvailable);\n            break;\n        }\n        srcCol += newCols;\n        var oldTrimmedLength = getWrappedLineTrimmedLength(wrappedLines, srcLine, oldCols);\n        if (srcCol > oldTrimmedLength) {\n            srcCol -= oldTrimmedLength;\n            srcLine++;\n        }\n        var endsWithWide = wrappedLines[srcLine].getWidth(srcCol - 1) === 2;\n        if (endsWithWide) {\n            srcCol--;\n        }\n        var lineLength = endsWithWide ? newCols - 1 : newCols;\n        newLineLengths.push(lineLength);\n        cellsAvailable += lineLength;\n    }\n    return newLineLengths;\n}\nexports.reflowSmallerGetNewLineLengths = reflowSmallerGetNewLineLengths;\nfunction getWrappedLineTrimmedLength(lines, i, cols) {\n    if (i === lines.length - 1) {\n        return lines[i].getTrimmedLength();\n    }\n    var endsInNull = !(lines[i].hasContent(cols - 1)) && lines[i].getWidth(cols - 1) === 1;\n    var followingLineStartsWithWide = lines[i + 1].getWidth(0) === 2;\n    if (endsInNull && followingLineStartsWithWide) {\n        return cols - 1;\n    }\n    return cols;\n}\nexports.getWrappedLineTrimmedLength = getWrappedLineTrimmedLength;\n//# sourceMappingURL=BufferReflow.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EventEmitter2_1 = require(\"../../common/EventEmitter2\");\nvar Lifecycle_1 = require(\"../../common/Lifecycle\");\nvar Marker = (function (_super) {\n    __extends(Marker, _super);\n    function Marker(line) {\n        var _this = _super.call(this) || this;\n        _this.line = line;\n        _this._id = Marker._nextId++;\n        _this.isDisposed = false;\n        _this._onDispose = new EventEmitter2_1.EventEmitter2();\n        return _this;\n    }\n    Object.defineProperty(Marker.prototype, \"id\", {\n        get: function () { return this._id; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Marker.prototype, \"onDispose\", {\n        get: function () { return this._onDispose.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Marker.prototype.dispose = function () {\n        if (this.isDisposed) {\n            return;\n        }\n        this.isDisposed = true;\n        this._onDispose.fire();\n    };\n    Marker._nextId = 1;\n    return Marker;\n}(Lifecycle_1.Disposable));\nexports.Marker = Marker;\n//# sourceMappingURL=Marker.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CHARSETS = {};\nexports.DEFAULT_CHARSET = exports.CHARSETS['B'];\nexports.CHARSETS['0'] = {\n    '`': '\\u25c6',\n    'a': '\\u2592',\n    'b': '\\u0009',\n    'c': '\\u000c',\n    'd': '\\u000d',\n    'e': '\\u000a',\n    'f': '\\u00b0',\n    'g': '\\u00b1',\n    'h': '\\u2424',\n    'i': '\\u000b',\n    'j': '\\u2518',\n    'k': '\\u2510',\n    'l': '\\u250c',\n    'm': '\\u2514',\n    'n': '\\u253c',\n    'o': '\\u23ba',\n    'p': '\\u23bb',\n    'q': '\\u2500',\n    'r': '\\u23bc',\n    's': '\\u23bd',\n    't': '\\u251c',\n    'u': '\\u2524',\n    'v': '\\u2534',\n    'w': '\\u252c',\n    'x': '\\u2502',\n    'y': '\\u2264',\n    'z': '\\u2265',\n    '{': '\\u03c0',\n    '|': '\\u2260',\n    '}': '\\u00a3',\n    '~': '\\u00b7'\n};\nexports.CHARSETS['A'] = {\n    '#': '£'\n};\nexports.CHARSETS['B'] = null;\nexports.CHARSETS['4'] = {\n    '#': '£',\n    '@': '¾',\n    '[': 'ij',\n    '\\\\': '½',\n    ']': '|',\n    '{': '¨',\n    '|': 'f',\n    '}': '¼',\n    '~': '´'\n};\nexports.CHARSETS['C'] =\n    exports.CHARSETS['5'] = {\n        '[': 'Ä',\n        '\\\\': 'Ö',\n        ']': 'Å',\n        '^': 'Ü',\n        '`': 'é',\n        '{': 'ä',\n        '|': 'ö',\n        '}': 'å',\n        '~': 'ü'\n    };\nexports.CHARSETS['R'] = {\n    '#': '£',\n    '@': 'à',\n    '[': '°',\n    '\\\\': 'ç',\n    ']': '§',\n    '{': 'é',\n    '|': 'ù',\n    '}': 'è',\n    '~': '¨'\n};\nexports.CHARSETS['Q'] = {\n    '@': 'à',\n    '[': 'â',\n    '\\\\': 'ç',\n    ']': 'ê',\n    '^': 'î',\n    '`': 'ô',\n    '{': 'é',\n    '|': 'ù',\n    '}': 'è',\n    '~': 'û'\n};\nexports.CHARSETS['K'] = {\n    '@': '§',\n    '[': 'Ä',\n    '\\\\': 'Ö',\n    ']': 'Ü',\n    '{': 'ä',\n    '|': 'ö',\n    '}': 'ü',\n    '~': 'ß'\n};\nexports.CHARSETS['Y'] = {\n    '#': '£',\n    '@': '§',\n    '[': '°',\n    '\\\\': 'ç',\n    ']': 'é',\n    '`': 'ù',\n    '{': 'à',\n    '|': 'ò',\n    '}': 'è',\n    '~': 'ì'\n};\nexports.CHARSETS['E'] =\n    exports.CHARSETS['6'] = {\n        '@': 'Ä',\n        '[': 'Æ',\n        '\\\\': 'Ø',\n        ']': 'Å',\n        '^': 'Ü',\n        '`': 'ä',\n        '{': 'æ',\n        '|': 'ø',\n        '}': 'å',\n        '~': 'ü'\n    };\nexports.CHARSETS['Z'] = {\n    '#': '£',\n    '@': '§',\n    '[': '¡',\n    '\\\\': 'Ñ',\n    ']': '¿',\n    '{': '°',\n    '|': 'ñ',\n    '}': 'ç'\n};\nexports.CHARSETS['H'] =\n    exports.CHARSETS['7'] = {\n        '@': 'É',\n        '[': 'Ä',\n        '\\\\': 'Ö',\n        ']': 'Å',\n        '^': 'Ü',\n        '`': 'é',\n        '{': 'ä',\n        '|': 'ö',\n        '}': 'å',\n        '~': 'ü'\n    };\nexports.CHARSETS['='] = {\n    '#': 'ù',\n    '@': 'à',\n    '[': 'é',\n    '\\\\': 'ç',\n    ']': 'ê',\n    '^': 'î',\n    '_': 'è',\n    '`': 'ô',\n    '{': 'ä',\n    '|': 'ö',\n    '}': 'ü',\n    '~': 'û'\n};\n//# sourceMappingURL=Charsets.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EscapeSequences_1 = require(\"../../common/data/EscapeSequences\");\nvar KEYCODE_KEY_MAPPINGS = {\n    48: ['0', ')'],\n    49: ['1', '!'],\n    50: ['2', '@'],\n    51: ['3', '#'],\n    52: ['4', '$'],\n    53: ['5', '%'],\n    54: ['6', '^'],\n    55: ['7', '&'],\n    56: ['8', '*'],\n    57: ['9', '('],\n    186: [';', ':'],\n    187: ['=', '+'],\n    188: [',', '<'],\n    189: ['-', '_'],\n    190: ['.', '>'],\n    191: ['/', '?'],\n    192: ['`', '~'],\n    219: ['[', '{'],\n    220: ['\\\\', '|'],\n    221: [']', '}'],\n    222: ['\\'', '\"']\n};\nfunction evaluateKeyboardEvent(ev, applicationCursorMode, isMac, macOptionIsMeta) {\n    var result = {\n        type: 0,\n        cancel: false,\n        key: undefined\n    };\n    var modifiers = (ev.shiftKey ? 1 : 0) | (ev.altKey ? 2 : 0) | (ev.ctrlKey ? 4 : 0) | (ev.metaKey ? 8 : 0);\n    switch (ev.keyCode) {\n        case 0:\n            if (ev.key === 'UIKeyInputUpArrow') {\n                if (applicationCursorMode) {\n                    result.key = EscapeSequences_1.C0.ESC + 'OA';\n                }\n                else {\n                    result.key = EscapeSequences_1.C0.ESC + '[A';\n                }\n            }\n            else if (ev.key === 'UIKeyInputLeftArrow') {\n                if (applicationCursorMode) {\n                    result.key = EscapeSequences_1.C0.ESC + 'OD';\n                }\n                else {\n                    result.key = EscapeSequences_1.C0.ESC + '[D';\n                }\n            }\n            else if (ev.key === 'UIKeyInputRightArrow') {\n                if (applicationCursorMode) {\n                    result.key = EscapeSequences_1.C0.ESC + 'OC';\n                }\n                else {\n                    result.key = EscapeSequences_1.C0.ESC + '[C';\n                }\n            }\n            else if (ev.key === 'UIKeyInputDownArrow') {\n                if (applicationCursorMode) {\n                    result.key = EscapeSequences_1.C0.ESC + 'OB';\n                }\n                else {\n                    result.key = EscapeSequences_1.C0.ESC + '[B';\n                }\n            }\n            break;\n        case 8:\n            if (ev.shiftKey) {\n                result.key = EscapeSequences_1.C0.BS;\n                break;\n            }\n            else if (ev.altKey) {\n                result.key = EscapeSequences_1.C0.ESC + EscapeSequences_1.C0.DEL;\n                break;\n            }\n            result.key = EscapeSequences_1.C0.DEL;\n            break;\n        case 9:\n            if (ev.shiftKey) {\n                result.key = EscapeSequences_1.C0.ESC + '[Z';\n                break;\n            }\n            result.key = EscapeSequences_1.C0.HT;\n            result.cancel = true;\n            break;\n        case 13:\n            result.key = EscapeSequences_1.C0.CR;\n            result.cancel = true;\n            break;\n        case 27:\n            result.key = EscapeSequences_1.C0.ESC;\n            result.cancel = true;\n            break;\n        case 37:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'D';\n                if (result.key === EscapeSequences_1.C0.ESC + '[1;3D') {\n                    result.key = isMac ? EscapeSequences_1.C0.ESC + 'b' : EscapeSequences_1.C0.ESC + '[1;5D';\n                }\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OD';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[D';\n            }\n            break;\n        case 39:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'C';\n                if (result.key === EscapeSequences_1.C0.ESC + '[1;3C') {\n                    result.key = isMac ? EscapeSequences_1.C0.ESC + 'f' : EscapeSequences_1.C0.ESC + '[1;5C';\n                }\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OC';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[C';\n            }\n            break;\n        case 38:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'A';\n                if (result.key === EscapeSequences_1.C0.ESC + '[1;3A') {\n                    result.key = EscapeSequences_1.C0.ESC + '[1;5A';\n                }\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OA';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[A';\n            }\n            break;\n        case 40:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'B';\n                if (result.key === EscapeSequences_1.C0.ESC + '[1;3B') {\n                    result.key = EscapeSequences_1.C0.ESC + '[1;5B';\n                }\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OB';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[B';\n            }\n            break;\n        case 45:\n            if (!ev.shiftKey && !ev.ctrlKey) {\n                result.key = EscapeSequences_1.C0.ESC + '[2~';\n            }\n            break;\n        case 46:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[3;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[3~';\n            }\n            break;\n        case 36:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'H';\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OH';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[H';\n            }\n            break;\n        case 35:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'F';\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OF';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[F';\n            }\n            break;\n        case 33:\n            if (ev.shiftKey) {\n                result.type = 2;\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[5~';\n            }\n            break;\n        case 34:\n            if (ev.shiftKey) {\n                result.type = 3;\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[6~';\n            }\n            break;\n        case 112:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'P';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + 'OP';\n            }\n            break;\n        case 113:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'Q';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + 'OQ';\n            }\n            break;\n        case 114:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'R';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + 'OR';\n            }\n            break;\n        case 115:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'S';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + 'OS';\n            }\n            break;\n        case 116:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[15;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[15~';\n            }\n            break;\n        case 117:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[17;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[17~';\n            }\n            break;\n        case 118:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[18;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[18~';\n            }\n            break;\n        case 119:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[19;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[19~';\n            }\n            break;\n        case 120:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[20;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[20~';\n            }\n            break;\n        case 121:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[21;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[21~';\n            }\n            break;\n        case 122:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[23;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[23~';\n            }\n            break;\n        case 123:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[24;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[24~';\n            }\n            break;\n        default:\n            if (ev.ctrlKey && !ev.shiftKey && !ev.altKey && !ev.metaKey) {\n                if (ev.keyCode >= 65 && ev.keyCode <= 90) {\n                    result.key = String.fromCharCode(ev.keyCode - 64);\n                }\n                else if (ev.keyCode === 32) {\n                    result.key = String.fromCharCode(0);\n                }\n                else if (ev.keyCode >= 51 && ev.keyCode <= 55) {\n                    result.key = String.fromCharCode(ev.keyCode - 51 + 27);\n                }\n                else if (ev.keyCode === 56) {\n                    result.key = String.fromCharCode(127);\n                }\n                else if (ev.keyCode === 219) {\n                    result.key = String.fromCharCode(27);\n                }\n                else if (ev.keyCode === 220) {\n                    result.key = String.fromCharCode(28);\n                }\n                else if (ev.keyCode === 221) {\n                    result.key = String.fromCharCode(29);\n                }\n            }\n            else if ((!isMac || macOptionIsMeta) && ev.altKey && !ev.metaKey) {\n                var keyMapping = KEYCODE_KEY_MAPPINGS[ev.keyCode];\n                var key = keyMapping && keyMapping[!ev.shiftKey ? 0 : 1];\n                if (key) {\n                    result.key = EscapeSequences_1.C0.ESC + key;\n                }\n                else if (ev.keyCode >= 65 && ev.keyCode <= 90) {\n                    var keyCode = ev.ctrlKey ? ev.keyCode - 64 : ev.keyCode + 32;\n                    result.key = EscapeSequences_1.C0.ESC + String.fromCharCode(keyCode);\n                }\n            }\n            else if (isMac && !ev.altKey && !ev.ctrlKey && ev.metaKey) {\n                if (ev.keyCode === 65) {\n                    result.type = 1;\n                }\n            }\n            else if (ev.key && !ev.ctrlKey && !ev.altKey && !ev.metaKey && ev.keyCode >= 48 && ev.key.length === 1) {\n                result.key = ev.key;\n            }\n            else if (ev.key && ev.ctrlKey) {\n                if (ev.key === '_') {\n                    result.key = EscapeSequences_1.C0.US;\n                }\n            }\n            break;\n    }\n    return result;\n}\nexports.evaluateKeyboardEvent = evaluateKeyboardEvent;\n//# sourceMappingURL=Keyboard.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction stringFromCodePoint(codePoint) {\n    if (codePoint > 0xFFFF) {\n        codePoint -= 0x10000;\n        return String.fromCharCode((codePoint >> 10) + 0xD800) + String.fromCharCode((codePoint % 0x400) + 0xDC00);\n    }\n    return String.fromCharCode(codePoint);\n}\nexports.stringFromCodePoint = stringFromCodePoint;\nfunction utf32ToString(data, start, end) {\n    if (start === void 0) { start = 0; }\n    if (end === void 0) { end = data.length; }\n    var result = '';\n    for (var i = start; i < end; ++i) {\n        var codepoint = data[i];\n        if (codepoint > 0xFFFF) {\n            codepoint -= 0x10000;\n            result += String.fromCharCode((codepoint >> 10) + 0xD800) + String.fromCharCode((codepoint % 0x400) + 0xDC00);\n        }\n        else {\n            result += String.fromCharCode(codepoint);\n        }\n    }\n    return result;\n}\nexports.utf32ToString = utf32ToString;\nvar StringToUtf32 = (function () {\n    function StringToUtf32() {\n        this._interim = 0;\n    }\n    StringToUtf32.prototype.clear = function () {\n        this._interim = 0;\n    };\n    StringToUtf32.prototype.decode = function (input, target) {\n        var length = input.length;\n        if (!length) {\n            return 0;\n        }\n        var size = 0;\n        var startPos = 0;\n        if (this._interim) {\n            var second = input.charCodeAt(startPos++);\n            if (0xDC00 <= second && second <= 0xDFFF) {\n                target[size++] = (this._interim - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n            }\n            else {\n                target[size++] = this._interim;\n                target[size++] = second;\n            }\n            this._interim = 0;\n        }\n        for (var i = startPos; i < length; ++i) {\n            var code = input.charCodeAt(i);\n            if (0xD800 <= code && code <= 0xDBFF) {\n                if (++i >= length) {\n                    this._interim = code;\n                    return size;\n                }\n                var second = input.charCodeAt(i);\n                if (0xDC00 <= second && second <= 0xDFFF) {\n                    target[size++] = (code - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n                }\n                else {\n                    target[size++] = code;\n                    target[size++] = second;\n                }\n                continue;\n            }\n            target[size++] = code;\n        }\n        return size;\n    };\n    return StringToUtf32;\n}());\nexports.StringToUtf32 = StringToUtf32;\nvar Utf8ToUtf32 = (function () {\n    function Utf8ToUtf32() {\n        this.interim = new Uint8Array(3);\n    }\n    Utf8ToUtf32.prototype.clear = function () {\n        this.interim.fill(0);\n    };\n    Utf8ToUtf32.prototype.decode = function (input, target) {\n        var length = input.length;\n        if (!length) {\n            return 0;\n        }\n        var size = 0;\n        var byte1;\n        var byte2;\n        var byte3;\n        var byte4;\n        var codepoint = 0;\n        var startPos = 0;\n        if (this.interim[0]) {\n            var discardInterim = false;\n            var cp = this.interim[0];\n            cp &= ((((cp & 0xE0) === 0xC0)) ? 0x1F : (((cp & 0xF0) === 0xE0)) ? 0x0F : 0x07);\n            var pos = 0;\n            var tmp = void 0;\n            while ((tmp = this.interim[++pos] & 0x3F) && pos < 4) {\n                cp <<= 6;\n                cp |= tmp;\n            }\n            var type = (((this.interim[0] & 0xE0) === 0xC0)) ? 2 : (((this.interim[0] & 0xF0) === 0xE0)) ? 3 : 4;\n            var missing = type - pos;\n            while (startPos < missing) {\n                if (startPos >= length) {\n                    return 0;\n                }\n                tmp = input[startPos++];\n                if ((tmp & 0xC0) !== 0x80) {\n                    startPos--;\n                    discardInterim = true;\n                    break;\n                }\n                else {\n                    this.interim[pos++] = tmp;\n                    cp <<= 6;\n                    cp |= tmp & 0x3F;\n                }\n            }\n            if (!discardInterim) {\n                if (type === 2) {\n                    if (cp < 0x80) {\n                        startPos--;\n                    }\n                    else {\n                        target[size++] = cp;\n                    }\n                }\n                else if (type === 3) {\n                    if (cp < 0x0800 || (cp >= 0xD800 && cp <= 0xDFFF)) {\n                    }\n                    else {\n                        target[size++] = cp;\n                    }\n                }\n                else {\n                    if (codepoint < 0x010000 || codepoint > 0x10FFFF) {\n                    }\n                    else {\n                        target[size++] = cp;\n                    }\n                }\n            }\n            this.interim.fill(0);\n        }\n        var fourStop = length - 4;\n        var i = startPos;\n        while (i < length) {\n            while (i < fourStop\n                && !((byte1 = input[i]) & 0x80)\n                && !((byte2 = input[i + 1]) & 0x80)\n                && !((byte3 = input[i + 2]) & 0x80)\n                && !((byte4 = input[i + 3]) & 0x80)) {\n                target[size++] = byte1;\n                target[size++] = byte2;\n                target[size++] = byte3;\n                target[size++] = byte4;\n                i += 4;\n            }\n            byte1 = input[i++];\n            if (byte1 < 0x80) {\n                target[size++] = byte1;\n            }\n            else if ((byte1 & 0xE0) === 0xC0) {\n                if (i >= length) {\n                    this.interim[0] = byte1;\n                    return size;\n                }\n                byte2 = input[i++];\n                if ((byte2 & 0xC0) !== 0x80) {\n                    i--;\n                    continue;\n                }\n                codepoint = (byte1 & 0x1F) << 6 | (byte2 & 0x3F);\n                if (codepoint < 0x80) {\n                    i--;\n                    continue;\n                }\n                target[size++] = codepoint;\n            }\n            else if ((byte1 & 0xF0) === 0xE0) {\n                if (i >= length) {\n                    this.interim[0] = byte1;\n                    return size;\n                }\n                byte2 = input[i++];\n                if ((byte2 & 0xC0) !== 0x80) {\n                    i--;\n                    continue;\n                }\n                if (i >= length) {\n                    this.interim[0] = byte1;\n                    this.interim[1] = byte2;\n                    return size;\n                }\n                byte3 = input[i++];\n                if ((byte3 & 0xC0) !== 0x80) {\n                    i--;\n                    continue;\n                }\n                codepoint = (byte1 & 0x0F) << 12 | (byte2 & 0x3F) << 6 | (byte3 & 0x3F);\n                if (codepoint < 0x0800 || (codepoint >= 0xD800 && codepoint <= 0xDFFF)) {\n                    continue;\n                }\n                target[size++] = codepoint;\n            }\n            else if ((byte1 & 0xF8) === 0xF0) {\n                if (i >= length) {\n                    this.interim[0] = byte1;\n                    return size;\n                }\n                byte2 = input[i++];\n                if ((byte2 & 0xC0) !== 0x80) {\n                    i--;\n                    continue;\n                }\n                if (i >= length) {\n                    this.interim[0] = byte1;\n                    this.interim[1] = byte2;\n                    return size;\n                }\n                byte3 = input[i++];\n                if ((byte3 & 0xC0) !== 0x80) {\n                    i--;\n                    continue;\n                }\n                if (i >= length) {\n                    this.interim[0] = byte1;\n                    this.interim[1] = byte2;\n                    this.interim[2] = byte3;\n                    return size;\n                }\n                byte4 = input[i++];\n                if ((byte4 & 0xC0) !== 0x80) {\n                    i--;\n                    continue;\n                }\n                codepoint = (byte1 & 0x07) << 18 | (byte2 & 0x3F) << 12 | (byte3 & 0x3F) << 6 | (byte4 & 0x3F);\n                if (codepoint < 0x010000 || codepoint > 0x10FFFF) {\n                    continue;\n                }\n                target[size++] = codepoint;\n            }\n            else {\n            }\n        }\n        return size;\n    };\n    return Utf8ToUtf32;\n}());\nexports.Utf8ToUtf32 = Utf8ToUtf32;\n//# sourceMappingURL=TextDecoder.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EscapeSequences_1 = require(\"../common/data/EscapeSequences\");\nvar AltClickHandler = (function () {\n    function AltClickHandler(_mouseEvent, _terminal) {\n        var _a;\n        this._mouseEvent = _mouseEvent;\n        this._terminal = _terminal;\n        this._lines = this._terminal.buffer.lines;\n        this._startCol = this._terminal.buffer.x;\n        this._startRow = this._terminal.buffer.y;\n        var coordinates = this._terminal.mouseHelper.getCoords(this._mouseEvent, this._terminal.element, this._terminal.charMeasure, this._terminal.cols, this._terminal.rows, false);\n        if (coordinates) {\n            _a = coordinates.map(function (coordinate) {\n                return coordinate - 1;\n            }), this._endCol = _a[0], this._endRow = _a[1];\n        }\n    }\n    AltClickHandler.prototype.move = function () {\n        if (this._mouseEvent.altKey && this._endCol !== undefined && this._endRow !== undefined) {\n            this._terminal.handler(this._arrowSequences());\n        }\n    };\n    AltClickHandler.prototype._arrowSequences = function () {\n        if (!this._terminal.buffer.hasScrollback) {\n            return this._resetStartingRow() + this._moveToRequestedRow() + this._moveToRequestedCol();\n        }\n        return this._moveHorizontallyOnly();\n    };\n    AltClickHandler.prototype._resetStartingRow = function () {\n        if (this._moveToRequestedRow().length === 0) {\n            return '';\n        }\n        return repeat(this._bufferLine(this._startCol, this._startRow, this._startCol, this._startRow - this._wrappedRowsForRow(this._startRow), false).length, this._sequence(\"D\"));\n    };\n    AltClickHandler.prototype._moveToRequestedRow = function () {\n        var startRow = this._startRow - this._wrappedRowsForRow(this._startRow);\n        var endRow = this._endRow - this._wrappedRowsForRow(this._endRow);\n        var rowsToMove = Math.abs(startRow - endRow) - this._wrappedRowsCount();\n        return repeat(rowsToMove, this._sequence(this._verticalDirection()));\n    };\n    AltClickHandler.prototype._moveToRequestedCol = function () {\n        var startRow;\n        if (this._moveToRequestedRow().length > 0) {\n            startRow = this._endRow - this._wrappedRowsForRow(this._endRow);\n        }\n        else {\n            startRow = this._startRow;\n        }\n        var endRow = this._endRow;\n        var direction = this._horizontalDirection();\n        return repeat(this._bufferLine(this._startCol, startRow, this._endCol, endRow, direction === \"C\").length, this._sequence(direction));\n    };\n    AltClickHandler.prototype._moveHorizontallyOnly = function () {\n        var direction = this._horizontalDirection();\n        return repeat(Math.abs(this._startCol - this._endCol), this._sequence(direction));\n    };\n    AltClickHandler.prototype._wrappedRowsCount = function () {\n        var wrappedRows = 0;\n        var startRow = this._startRow - this._wrappedRowsForRow(this._startRow);\n        var endRow = this._endRow - this._wrappedRowsForRow(this._endRow);\n        for (var i = 0; i < Math.abs(startRow - endRow); i++) {\n            var direction = this._verticalDirection() === \"A\" ? -1 : 1;\n            if (this._lines.get(startRow + (direction * i)).isWrapped) {\n                wrappedRows++;\n            }\n        }\n        return wrappedRows;\n    };\n    AltClickHandler.prototype._wrappedRowsForRow = function (currentRow) {\n        var rowCount = 0;\n        var lineWraps = this._lines.get(currentRow).isWrapped;\n        while (lineWraps && currentRow >= 0 && currentRow < this._terminal.rows) {\n            rowCount++;\n            currentRow--;\n            lineWraps = this._lines.get(currentRow).isWrapped;\n        }\n        return rowCount;\n    };\n    AltClickHandler.prototype._horizontalDirection = function () {\n        var startRow;\n        if (this._moveToRequestedRow().length > 0) {\n            startRow = this._endRow - this._wrappedRowsForRow(this._endRow);\n        }\n        else {\n            startRow = this._startRow;\n        }\n        if ((this._startCol < this._endCol &&\n            startRow <= this._endRow) ||\n            (this._startCol >= this._endCol &&\n                startRow < this._endRow)) {\n            return \"C\";\n        }\n        return \"D\";\n    };\n    AltClickHandler.prototype._verticalDirection = function () {\n        if (this._startRow > this._endRow) {\n            return \"A\";\n        }\n        return \"B\";\n    };\n    AltClickHandler.prototype._bufferLine = function (startCol, startRow, endCol, endRow, forward) {\n        var currentCol = startCol;\n        var currentRow = startRow;\n        var bufferStr = '';\n        while (currentCol !== endCol || currentRow !== endRow) {\n            currentCol += forward ? 1 : -1;\n            if (forward && currentCol > this._terminal.cols - 1) {\n                bufferStr += this._terminal.buffer.translateBufferLineToString(currentRow, false, startCol, currentCol);\n                currentCol = 0;\n                startCol = 0;\n                currentRow++;\n            }\n            else if (!forward && currentCol < 0) {\n                bufferStr += this._terminal.buffer.translateBufferLineToString(currentRow, false, 0, startCol + 1);\n                currentCol = this._terminal.cols - 1;\n                startCol = currentCol;\n                currentRow--;\n            }\n        }\n        return bufferStr + this._terminal.buffer.translateBufferLineToString(currentRow, false, startCol, currentCol);\n    };\n    AltClickHandler.prototype._sequence = function (direction) {\n        var mod = this._terminal.applicationCursor ? 'O' : '[';\n        return EscapeSequences_1.C0.ESC + mod + direction;\n    };\n    return AltClickHandler;\n}());\nexports.AltClickHandler = AltClickHandler;\nfunction repeat(count, str) {\n    count = Math.floor(count);\n    var rpt = '';\n    for (var i = 0; i < count; i++) {\n        rpt += str;\n    }\n    return rpt;\n}\n//# sourceMappingURL=AltClickHandler.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AddonManager = (function () {\n    function AddonManager() {\n        this._addons = [];\n    }\n    AddonManager.prototype.dispose = function () {\n        for (var i = this._addons.length - 1; i >= 0; i--) {\n            this._addons[i].instance.dispose();\n        }\n    };\n    AddonManager.prototype.loadAddon = function (terminal, instance) {\n        var _this = this;\n        var loadedAddon = {\n            instance: instance,\n            dispose: instance.dispose,\n            isDisposed: false\n        };\n        this._addons.push(loadedAddon);\n        instance.dispose = function () { return _this._wrappedAddonDispose(loadedAddon); };\n        instance.activate(terminal);\n    };\n    AddonManager.prototype._wrappedAddonDispose = function (loadedAddon) {\n        if (loadedAddon.isDisposed) {\n            return;\n        }\n        var index = -1;\n        for (var i = 0; i < this._addons.length; i++) {\n            if (this._addons[i] === loadedAddon) {\n                index = i;\n                break;\n            }\n        }\n        if (index === -1) {\n            throw new Error('Could not dispose an addon that has not been loaded');\n        }\n        loadedAddon.isDisposed = true;\n        loadedAddon.dispose.apply(loadedAddon.instance);\n        this._addons.splice(index, 1);\n    };\n    return AddonManager;\n}());\nexports.AddonManager = AddonManager;\n//# sourceMappingURL=AddonManager.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Terminal_1 = require(\"../Terminal\");\nvar Strings = require(\"../Strings\");\nvar AddonManager_1 = require(\"./AddonManager\");\nvar Terminal = (function () {\n    function Terminal(options) {\n        this._core = new Terminal_1.Terminal(options);\n        this._addonManager = new AddonManager_1.AddonManager();\n    }\n    Object.defineProperty(Terminal.prototype, \"onCursorMove\", {\n        get: function () { return this._core.onCursorMove; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onLineFeed\", {\n        get: function () { return this._core.onLineFeed; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onSelectionChange\", {\n        get: function () { return this._core.onSelectionChange; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onData\", {\n        get: function () { return this._core.onData; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onTitleChange\", {\n        get: function () { return this._core.onTitleChange; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onScroll\", {\n        get: function () { return this._core.onScroll; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onKey\", {\n        get: function () { return this._core.onKey; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onRender\", {\n        get: function () { return this._core.onRender; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onResize\", {\n        get: function () { return this._core.onResize; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"element\", {\n        get: function () { return this._core.element; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"textarea\", {\n        get: function () { return this._core.textarea; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"rows\", {\n        get: function () { return this._core.rows; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"cols\", {\n        get: function () { return this._core.cols; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"buffer\", {\n        get: function () { return new BufferApiView(this._core.buffer); },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"markers\", {\n        get: function () { return this._core.markers; },\n        enumerable: true,\n        configurable: true\n    });\n    Terminal.prototype.blur = function () {\n        this._core.blur();\n    };\n    Terminal.prototype.focus = function () {\n        this._core.focus();\n    };\n    Terminal.prototype.on = function (type, listener) {\n        this._core.on(type, listener);\n    };\n    Terminal.prototype.off = function (type, listener) {\n        this._core.off(type, listener);\n    };\n    Terminal.prototype.emit = function (type, data) {\n        this._core.emit(type, data);\n    };\n    Terminal.prototype.addDisposableListener = function (type, handler) {\n        return this._core.addDisposableListener(type, handler);\n    };\n    Terminal.prototype.resize = function (columns, rows) {\n        this._core.resize(columns, rows);\n    };\n    Terminal.prototype.writeln = function (data) {\n        this._core.writeln(data);\n    };\n    Terminal.prototype.open = function (parent) {\n        this._core.open(parent);\n    };\n    Terminal.prototype.attachCustomKeyEventHandler = function (customKeyEventHandler) {\n        this._core.attachCustomKeyEventHandler(customKeyEventHandler);\n    };\n    Terminal.prototype.addCsiHandler = function (flag, callback) {\n        return this._core.addCsiHandler(flag, callback);\n    };\n    Terminal.prototype.addOscHandler = function (ident, callback) {\n        return this._core.addOscHandler(ident, callback);\n    };\n    Terminal.prototype.registerLinkMatcher = function (regex, handler, options) {\n        return this._core.registerLinkMatcher(regex, handler, options);\n    };\n    Terminal.prototype.deregisterLinkMatcher = function (matcherId) {\n        this._core.deregisterLinkMatcher(matcherId);\n    };\n    Terminal.prototype.registerCharacterJoiner = function (handler) {\n        return this._core.registerCharacterJoiner(handler);\n    };\n    Terminal.prototype.deregisterCharacterJoiner = function (joinerId) {\n        this._core.deregisterCharacterJoiner(joinerId);\n    };\n    Terminal.prototype.addMarker = function (cursorYOffset) {\n        return this._core.addMarker(cursorYOffset);\n    };\n    Terminal.prototype.hasSelection = function () {\n        return this._core.hasSelection();\n    };\n    Terminal.prototype.select = function (column, row, length) {\n        this._core.select(column, row, length);\n    };\n    Terminal.prototype.getSelection = function () {\n        return this._core.getSelection();\n    };\n    Terminal.prototype.getSelectionPosition = function () {\n        return this._core.getSelectionPosition();\n    };\n    Terminal.prototype.clearSelection = function () {\n        this._core.clearSelection();\n    };\n    Terminal.prototype.selectAll = function () {\n        this._core.selectAll();\n    };\n    Terminal.prototype.selectLines = function (start, end) {\n        this._core.selectLines(start, end);\n    };\n    Terminal.prototype.dispose = function () {\n        this._addonManager.dispose();\n        this._core.dispose();\n    };\n    Terminal.prototype.destroy = function () {\n        this._core.destroy();\n    };\n    Terminal.prototype.scrollLines = function (amount) {\n        this._core.scrollLines(amount);\n    };\n    Terminal.prototype.scrollPages = function (pageCount) {\n        this._core.scrollPages(pageCount);\n    };\n    Terminal.prototype.scrollToTop = function () {\n        this._core.scrollToTop();\n    };\n    Terminal.prototype.scrollToBottom = function () {\n        this._core.scrollToBottom();\n    };\n    Terminal.prototype.scrollToLine = function (line) {\n        this._core.scrollToLine(line);\n    };\n    Terminal.prototype.clear = function () {\n        this._core.clear();\n    };\n    Terminal.prototype.write = function (data) {\n        this._core.write(data);\n    };\n    Terminal.prototype.writeUtf8 = function (data) {\n        this._core.writeUtf8(data);\n    };\n    Terminal.prototype.getOption = function (key) {\n        return this._core.getOption(key);\n    };\n    Terminal.prototype.setOption = function (key, value) {\n        this._core.setOption(key, value);\n    };\n    Terminal.prototype.refresh = function (start, end) {\n        this._core.refresh(start, end);\n    };\n    Terminal.prototype.reset = function () {\n        this._core.reset();\n    };\n    Terminal.applyAddon = function (addon) {\n        addon.apply(Terminal);\n    };\n    Terminal.prototype.loadAddon = function (addon) {\n        return this._addonManager.loadAddon(this, addon);\n    };\n    Object.defineProperty(Terminal, \"strings\", {\n        get: function () {\n            return Strings;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Terminal;\n}());\nexports.Terminal = Terminal;\nvar BufferApiView = (function () {\n    function BufferApiView(_buffer) {\n        this._buffer = _buffer;\n    }\n    Object.defineProperty(BufferApiView.prototype, \"cursorY\", {\n        get: function () { return this._buffer.y; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferApiView.prototype, \"cursorX\", {\n        get: function () { return this._buffer.x; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferApiView.prototype, \"viewportY\", {\n        get: function () { return this._buffer.ydisp; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferApiView.prototype, \"baseY\", {\n        get: function () { return this._buffer.ybase; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferApiView.prototype, \"length\", {\n        get: function () { return this._buffer.lines.length; },\n        enumerable: true,\n        configurable: true\n    });\n    BufferApiView.prototype.getLine = function (y) {\n        var line = this._buffer.lines.get(y);\n        if (!line) {\n            return undefined;\n        }\n        return new BufferLineApiView(line);\n    };\n    return BufferApiView;\n}());\nvar BufferLineApiView = (function () {\n    function BufferLineApiView(_line) {\n        this._line = _line;\n    }\n    Object.defineProperty(BufferLineApiView.prototype, \"isWrapped\", {\n        get: function () { return this._line.isWrapped; },\n        enumerable: true,\n        configurable: true\n    });\n    BufferLineApiView.prototype.getCell = function (x) {\n        if (x < 0 || x >= this._line.length) {\n            return undefined;\n        }\n        return new BufferCellApiView(this._line, x);\n    };\n    BufferLineApiView.prototype.translateToString = function (trimRight, startColumn, endColumn) {\n        return this._line.translateToString(trimRight, startColumn, endColumn);\n    };\n    return BufferLineApiView;\n}());\nvar BufferCellApiView = (function () {\n    function BufferCellApiView(_line, _x) {\n        this._line = _line;\n        this._x = _x;\n    }\n    Object.defineProperty(BufferCellApiView.prototype, \"char\", {\n        get: function () { return this._line.getString(this._x); },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferCellApiView.prototype, \"width\", {\n        get: function () { return this._line.getWidth(this._x); },\n        enumerable: true,\n        configurable: true\n    });\n    return BufferCellApiView;\n}());\n//# sourceMappingURL=Terminal.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Types_1 = require(\"../common/Types\");\nvar Types_2 = require(\"./atlas/Types\");\nvar CharAtlasCache_1 = require(\"./atlas/CharAtlasCache\");\nvar BufferLine_1 = require(\"../core/buffer/BufferLine\");\nvar BaseRenderLayer = (function () {\n    function BaseRenderLayer(_container, id, zIndex, _alpha, _colors) {\n        this._container = _container;\n        this._alpha = _alpha;\n        this._colors = _colors;\n        this._scaledCharWidth = 0;\n        this._scaledCharHeight = 0;\n        this._scaledCellWidth = 0;\n        this._scaledCellHeight = 0;\n        this._scaledCharLeft = 0;\n        this._scaledCharTop = 0;\n        this._currentGlyphIdentifier = {\n            chars: '',\n            code: 0,\n            bg: 0,\n            fg: 0,\n            bold: false,\n            dim: false,\n            italic: false\n        };\n        this._canvas = document.createElement('canvas');\n        this._canvas.classList.add(\"xterm-\" + id + \"-layer\");\n        this._canvas.style.zIndex = zIndex.toString();\n        this._initCanvas();\n        this._container.appendChild(this._canvas);\n    }\n    BaseRenderLayer.prototype.dispose = function () {\n        this._container.removeChild(this._canvas);\n        if (this._charAtlas) {\n            this._charAtlas.dispose();\n        }\n    };\n    BaseRenderLayer.prototype._initCanvas = function () {\n        this._ctx = this._canvas.getContext('2d', { alpha: this._alpha });\n        if (!this._alpha) {\n            this.clearAll();\n        }\n    };\n    BaseRenderLayer.prototype.onOptionsChanged = function (terminal) { };\n    BaseRenderLayer.prototype.onBlur = function (terminal) { };\n    BaseRenderLayer.prototype.onFocus = function (terminal) { };\n    BaseRenderLayer.prototype.onCursorMove = function (terminal) { };\n    BaseRenderLayer.prototype.onGridChanged = function (terminal, startRow, endRow) { };\n    BaseRenderLayer.prototype.onSelectionChanged = function (terminal, start, end, columnSelectMode) {\n        if (columnSelectMode === void 0) { columnSelectMode = false; }\n    };\n    BaseRenderLayer.prototype.setColors = function (terminal, colorSet) {\n        this._refreshCharAtlas(terminal, colorSet);\n    };\n    BaseRenderLayer.prototype.setTransparency = function (terminal, alpha) {\n        if (alpha === this._alpha) {\n            return;\n        }\n        var oldCanvas = this._canvas;\n        this._alpha = alpha;\n        this._canvas = this._canvas.cloneNode();\n        this._initCanvas();\n        this._container.replaceChild(this._canvas, oldCanvas);\n        this._refreshCharAtlas(terminal, this._colors);\n        this.onGridChanged(terminal, 0, terminal.rows - 1);\n    };\n    BaseRenderLayer.prototype._refreshCharAtlas = function (terminal, colorSet) {\n        if (this._scaledCharWidth <= 0 && this._scaledCharHeight <= 0) {\n            return;\n        }\n        this._charAtlas = CharAtlasCache_1.acquireCharAtlas(terminal, colorSet, this._scaledCharWidth, this._scaledCharHeight);\n        this._charAtlas.warmUp();\n    };\n    BaseRenderLayer.prototype.resize = function (terminal, dim) {\n        this._scaledCellWidth = dim.scaledCellWidth;\n        this._scaledCellHeight = dim.scaledCellHeight;\n        this._scaledCharWidth = dim.scaledCharWidth;\n        this._scaledCharHeight = dim.scaledCharHeight;\n        this._scaledCharLeft = dim.scaledCharLeft;\n        this._scaledCharTop = dim.scaledCharTop;\n        this._canvas.width = dim.scaledCanvasWidth;\n        this._canvas.height = dim.scaledCanvasHeight;\n        this._canvas.style.width = dim.canvasWidth + \"px\";\n        this._canvas.style.height = dim.canvasHeight + \"px\";\n        if (!this._alpha) {\n            this.clearAll();\n        }\n        this._refreshCharAtlas(terminal, this._colors);\n    };\n    BaseRenderLayer.prototype.fillCells = function (x, y, width, height) {\n        this._ctx.fillRect(x * this._scaledCellWidth, y * this._scaledCellHeight, width * this._scaledCellWidth, height * this._scaledCellHeight);\n    };\n    BaseRenderLayer.prototype.fillBottomLineAtCells = function (x, y, width) {\n        if (width === void 0) { width = 1; }\n        this._ctx.fillRect(x * this._scaledCellWidth, (y + 1) * this._scaledCellHeight - window.devicePixelRatio - 1, width * this._scaledCellWidth, window.devicePixelRatio);\n    };\n    BaseRenderLayer.prototype.fillLeftLineAtCell = function (x, y) {\n        this._ctx.fillRect(x * this._scaledCellWidth, y * this._scaledCellHeight, window.devicePixelRatio, this._scaledCellHeight);\n    };\n    BaseRenderLayer.prototype.strokeRectAtCell = function (x, y, width, height) {\n        this._ctx.lineWidth = window.devicePixelRatio;\n        this._ctx.strokeRect(x * this._scaledCellWidth + window.devicePixelRatio / 2, y * this._scaledCellHeight + (window.devicePixelRatio / 2), width * this._scaledCellWidth - window.devicePixelRatio, (height * this._scaledCellHeight) - window.devicePixelRatio);\n    };\n    BaseRenderLayer.prototype.clearAll = function () {\n        if (this._alpha) {\n            this._ctx.clearRect(0, 0, this._canvas.width, this._canvas.height);\n        }\n        else {\n            this._ctx.fillStyle = this._colors.background.css;\n            this._ctx.fillRect(0, 0, this._canvas.width, this._canvas.height);\n        }\n    };\n    BaseRenderLayer.prototype.clearCells = function (x, y, width, height) {\n        if (this._alpha) {\n            this._ctx.clearRect(x * this._scaledCellWidth, y * this._scaledCellHeight, width * this._scaledCellWidth, height * this._scaledCellHeight);\n        }\n        else {\n            this._ctx.fillStyle = this._colors.background.css;\n            this._ctx.fillRect(x * this._scaledCellWidth, y * this._scaledCellHeight, width * this._scaledCellWidth, height * this._scaledCellHeight);\n        }\n    };\n    BaseRenderLayer.prototype.fillCharTrueColor = function (terminal, cell, x, y) {\n        this._ctx.font = this._getFont(terminal, false, false);\n        this._ctx.textBaseline = 'middle';\n        this._clipRow(terminal, y);\n        this._ctx.fillText(cell.getChars(), x * this._scaledCellWidth + this._scaledCharLeft, y * this._scaledCellHeight + this._scaledCharTop + this._scaledCharHeight / 2);\n    };\n    BaseRenderLayer.prototype.drawChars = function (terminal, cell, x, y) {\n        if (cell.isFgRGB() || cell.isBgRGB()) {\n            this._drawUncachedChars(terminal, cell, x, y);\n            return;\n        }\n        var fg;\n        var bg;\n        if (cell.isInverse()) {\n            fg = (cell.isBgDefault()) ? Types_2.INVERTED_DEFAULT_COLOR : cell.getBgColor();\n            bg = (cell.isFgDefault()) ? Types_2.INVERTED_DEFAULT_COLOR : cell.getFgColor();\n        }\n        else {\n            bg = (cell.isBgDefault()) ? Types_1.DEFAULT_COLOR : cell.getBgColor();\n            fg = (cell.isFgDefault()) ? Types_1.DEFAULT_COLOR : cell.getFgColor();\n        }\n        var drawInBrightColor = terminal.options.drawBoldTextInBrightColors && cell.isBold() && fg < 8 && fg !== Types_2.INVERTED_DEFAULT_COLOR;\n        fg += drawInBrightColor ? 8 : 0;\n        this._currentGlyphIdentifier.chars = cell.getChars() || BufferLine_1.WHITESPACE_CELL_CHAR;\n        this._currentGlyphIdentifier.code = cell.getCode() || BufferLine_1.WHITESPACE_CELL_CODE;\n        this._currentGlyphIdentifier.bg = bg;\n        this._currentGlyphIdentifier.fg = fg;\n        this._currentGlyphIdentifier.bold = cell.isBold() && terminal.options.enableBold;\n        this._currentGlyphIdentifier.dim = !!cell.isDim();\n        this._currentGlyphIdentifier.italic = !!cell.isItalic();\n        var atlasDidDraw = this._charAtlas && this._charAtlas.draw(this._ctx, this._currentGlyphIdentifier, x * this._scaledCellWidth + this._scaledCharLeft, y * this._scaledCellHeight + this._scaledCharTop);\n        if (!atlasDidDraw) {\n            this._drawUncachedChars(terminal, cell, x, y);\n        }\n    };\n    BaseRenderLayer.prototype._drawUncachedChars = function (terminal, cell, x, y) {\n        this._ctx.save();\n        this._ctx.font = this._getFont(terminal, cell.isBold() && terminal.options.enableBold, !!cell.isItalic());\n        this._ctx.textBaseline = 'middle';\n        if (cell.isInverse()) {\n            if (cell.isBgDefault()) {\n                this._ctx.fillStyle = this._colors.background.css;\n            }\n            else if (cell.isBgRGB()) {\n                this._ctx.fillStyle = \"rgb(\" + BufferLine_1.AttributeData.toColorRGB(cell.getBgColor()).join(',') + \")\";\n            }\n            else {\n                this._ctx.fillStyle = this._colors.ansi[cell.getBgColor()].css;\n            }\n        }\n        else {\n            if (cell.isFgDefault()) {\n                this._ctx.fillStyle = this._colors.foreground.css;\n            }\n            else if (cell.isFgRGB()) {\n                this._ctx.fillStyle = \"rgb(\" + BufferLine_1.AttributeData.toColorRGB(cell.getFgColor()).join(',') + \")\";\n            }\n            else {\n                var fg = cell.getFgColor();\n                if (terminal.options.drawBoldTextInBrightColors && cell.isBold() && fg < 8) {\n                    fg += 8;\n                }\n                this._ctx.fillStyle = this._colors.ansi[fg].css;\n            }\n        }\n        this._clipRow(terminal, y);\n        if (cell.isDim()) {\n            this._ctx.globalAlpha = Types_2.DIM_OPACITY;\n        }\n        this._ctx.fillText(cell.getChars(), x * this._scaledCellWidth + this._scaledCharLeft, y * this._scaledCellHeight + this._scaledCharTop + this._scaledCharHeight / 2);\n        this._ctx.restore();\n    };\n    BaseRenderLayer.prototype._clipRow = function (terminal, y) {\n        this._ctx.beginPath();\n        this._ctx.rect(0, y * this._scaledCellHeight, terminal.cols * this._scaledCellWidth, this._scaledCellHeight);\n        this._ctx.clip();\n    };\n    BaseRenderLayer.prototype._getFont = function (terminal, isBold, isItalic) {\n        var fontWeight = isBold ? terminal.options.fontWeightBold : terminal.options.fontWeight;\n        var fontStyle = isItalic ? 'italic' : '';\n        return fontStyle + \" \" + fontWeight + \" \" + terminal.options.fontSize * window.devicePixelRatio + \"px \" + terminal.options.fontFamily;\n    };\n    return BaseRenderLayer;\n}());\nexports.BaseRenderLayer = BaseRenderLayer;\n//# sourceMappingURL=BaseRenderLayer.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BufferLine_1 = require(\"../core/buffer/BufferLine\");\nvar JoinedCellData = (function (_super) {\n    __extends(JoinedCellData, _super);\n    function JoinedCellData(firstCell, chars, width) {\n        var _this = _super.call(this) || this;\n        _this.content = 0;\n        _this.combinedData = '';\n        _this.fg = firstCell.fg;\n        _this.bg = firstCell.bg;\n        _this.combinedData = chars;\n        _this._width = width;\n        return _this;\n    }\n    JoinedCellData.prototype.isCombined = function () {\n        return 2097152;\n    };\n    JoinedCellData.prototype.getWidth = function () {\n        return this._width;\n    };\n    JoinedCellData.prototype.getChars = function () {\n        return this.combinedData;\n    };\n    JoinedCellData.prototype.getCode = function () {\n        return 0x1FFFFF;\n    };\n    JoinedCellData.prototype.setFromCharData = function (value) {\n        throw new Error('not implemented');\n    };\n    JoinedCellData.prototype.getAsCharData = function () {\n        return [this.fg, this.getChars(), this.getWidth(), this.getCode()];\n    };\n    return JoinedCellData;\n}(BufferLine_1.AttributeData));\nexports.JoinedCellData = JoinedCellData;\nvar CharacterJoinerRegistry = (function () {\n    function CharacterJoinerRegistry(_terminal) {\n        this._terminal = _terminal;\n        this._characterJoiners = [];\n        this._nextCharacterJoinerId = 0;\n        this._workCell = new BufferLine_1.CellData();\n    }\n    CharacterJoinerRegistry.prototype.registerCharacterJoiner = function (handler) {\n        var joiner = {\n            id: this._nextCharacterJoinerId++,\n            handler: handler\n        };\n        this._characterJoiners.push(joiner);\n        return joiner.id;\n    };\n    CharacterJoinerRegistry.prototype.deregisterCharacterJoiner = function (joinerId) {\n        for (var i = 0; i < this._characterJoiners.length; i++) {\n            if (this._characterJoiners[i].id === joinerId) {\n                this._characterJoiners.splice(i, 1);\n                return true;\n            }\n        }\n        return false;\n    };\n    CharacterJoinerRegistry.prototype.getJoinedCharacters = function (row) {\n        if (this._characterJoiners.length === 0) {\n            return [];\n        }\n        var line = this._terminal.buffer.lines.get(row);\n        if (line.length === 0) {\n            return [];\n        }\n        var ranges = [];\n        var lineStr = line.translateToString(true);\n        var rangeStartColumn = 0;\n        var currentStringIndex = 0;\n        var rangeStartStringIndex = 0;\n        var rangeAttrFG = line.getFg(0);\n        var rangeAttrBG = line.getBg(0);\n        for (var x = 0; x < line.getTrimmedLength(); x++) {\n            line.loadCell(x, this._workCell);\n            if (this._workCell.getWidth() === 0) {\n                continue;\n            }\n            if (this._workCell.fg !== rangeAttrFG || this._workCell.bg !== rangeAttrBG) {\n                if (x - rangeStartColumn > 1) {\n                    var joinedRanges = this._getJoinedRanges(lineStr, rangeStartStringIndex, currentStringIndex, line, rangeStartColumn);\n                    for (var i = 0; i < joinedRanges.length; i++) {\n                        ranges.push(joinedRanges[i]);\n                    }\n                }\n                rangeStartColumn = x;\n                rangeStartStringIndex = currentStringIndex;\n                rangeAttrFG = this._workCell.fg;\n                rangeAttrBG = this._workCell.bg;\n            }\n            currentStringIndex += this._workCell.getChars().length || BufferLine_1.WHITESPACE_CELL_CHAR.length;\n        }\n        if (this._terminal.cols - rangeStartColumn > 1) {\n            var joinedRanges = this._getJoinedRanges(lineStr, rangeStartStringIndex, currentStringIndex, line, rangeStartColumn);\n            for (var i = 0; i < joinedRanges.length; i++) {\n                ranges.push(joinedRanges[i]);\n            }\n        }\n        return ranges;\n    };\n    CharacterJoinerRegistry.prototype._getJoinedRanges = function (line, startIndex, endIndex, lineData, startCol) {\n        var text = line.substring(startIndex, endIndex);\n        var joinedRanges = this._characterJoiners[0].handler(text);\n        for (var i = 1; i < this._characterJoiners.length; i++) {\n            var joinerRanges = this._characterJoiners[i].handler(text);\n            for (var j = 0; j < joinerRanges.length; j++) {\n                CharacterJoinerRegistry._mergeRanges(joinedRanges, joinerRanges[j]);\n            }\n        }\n        this._stringRangesToCellRanges(joinedRanges, lineData, startCol);\n        return joinedRanges;\n    };\n    CharacterJoinerRegistry.prototype._stringRangesToCellRanges = function (ranges, line, startCol) {\n        var currentRangeIndex = 0;\n        var currentRangeStarted = false;\n        var currentStringIndex = 0;\n        var currentRange = ranges[currentRangeIndex];\n        if (!currentRange) {\n            return;\n        }\n        for (var x = startCol; x < this._terminal.cols; x++) {\n            var width = line.getWidth(x);\n            var length_1 = line.getString(x).length || BufferLine_1.WHITESPACE_CELL_CHAR.length;\n            if (width === 0) {\n                continue;\n            }\n            if (!currentRangeStarted && currentRange[0] <= currentStringIndex) {\n                currentRange[0] = x;\n                currentRangeStarted = true;\n            }\n            if (currentRange[1] <= currentStringIndex) {\n                currentRange[1] = x;\n                currentRange = ranges[++currentRangeIndex];\n                if (!currentRange) {\n                    break;\n                }\n                if (currentRange[0] <= currentStringIndex) {\n                    currentRange[0] = x;\n                    currentRangeStarted = true;\n                }\n                else {\n                    currentRangeStarted = false;\n                }\n            }\n            currentStringIndex += length_1;\n        }\n        if (currentRange) {\n            currentRange[1] = this._terminal.cols;\n        }\n    };\n    CharacterJoinerRegistry._mergeRanges = function (ranges, newRange) {\n        var inRange = false;\n        for (var i = 0; i < ranges.length; i++) {\n            var range = ranges[i];\n            if (!inRange) {\n                if (newRange[1] <= range[0]) {\n                    ranges.splice(i, 0, newRange);\n                    return ranges;\n                }\n                if (newRange[1] <= range[1]) {\n                    range[0] = Math.min(newRange[0], range[0]);\n                    return ranges;\n                }\n                if (newRange[0] < range[1]) {\n                    range[0] = Math.min(newRange[0], range[0]);\n                    inRange = true;\n                }\n                continue;\n            }\n            else {\n                if (newRange[1] <= range[0]) {\n                    ranges[i - 1][1] = newRange[1];\n                    return ranges;\n                }\n                if (newRange[1] <= range[1]) {\n                    ranges[i - 1][1] = Math.max(newRange[1], range[1]);\n                    ranges.splice(i, 1);\n                    inRange = false;\n                    return ranges;\n                }\n                ranges.splice(i, 1);\n                i--;\n            }\n        }\n        if (inRange) {\n            ranges[ranges.length - 1][1] = newRange[1];\n        }\n        else {\n            ranges.push(newRange);\n        }\n        return ranges;\n    };\n    return CharacterJoinerRegistry;\n}());\nexports.CharacterJoinerRegistry = CharacterJoinerRegistry;\n//# sourceMappingURL=CharacterJoinerRegistry.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseRenderLayer_1 = require(\"./BaseRenderLayer\");\nvar BufferLine_1 = require(\"../core/buffer/BufferLine\");\nvar BLINK_INTERVAL = 600;\nvar CursorRenderLayer = (function (_super) {\n    __extends(CursorRenderLayer, _super);\n    function CursorRenderLayer(container, zIndex, colors) {\n        var _this = _super.call(this, container, 'cursor', zIndex, true, colors) || this;\n        _this._cell = new BufferLine_1.CellData();\n        _this._state = {\n            x: null,\n            y: null,\n            isFocused: null,\n            style: null,\n            width: null\n        };\n        _this._cursorRenderers = {\n            'bar': _this._renderBarCursor.bind(_this),\n            'block': _this._renderBlockCursor.bind(_this),\n            'underline': _this._renderUnderlineCursor.bind(_this)\n        };\n        return _this;\n    }\n    CursorRenderLayer.prototype.resize = function (terminal, dim) {\n        _super.prototype.resize.call(this, terminal, dim);\n        this._state = {\n            x: null,\n            y: null,\n            isFocused: null,\n            style: null,\n            width: null\n        };\n    };\n    CursorRenderLayer.prototype.reset = function (terminal) {\n        this._clearCursor();\n        if (this._cursorBlinkStateManager) {\n            this._cursorBlinkStateManager.dispose();\n            this._cursorBlinkStateManager = null;\n            this.onOptionsChanged(terminal);\n        }\n    };\n    CursorRenderLayer.prototype.onBlur = function (terminal) {\n        if (this._cursorBlinkStateManager) {\n            this._cursorBlinkStateManager.pause();\n        }\n        terminal.refresh(terminal.buffer.y, terminal.buffer.y);\n    };\n    CursorRenderLayer.prototype.onFocus = function (terminal) {\n        if (this._cursorBlinkStateManager) {\n            this._cursorBlinkStateManager.resume(terminal);\n        }\n        else {\n            terminal.refresh(terminal.buffer.y, terminal.buffer.y);\n        }\n    };\n    CursorRenderLayer.prototype.onOptionsChanged = function (terminal) {\n        var _this = this;\n        if (terminal.options.cursorBlink) {\n            if (!this._cursorBlinkStateManager) {\n                this._cursorBlinkStateManager = new CursorBlinkStateManager(terminal, function () {\n                    _this._render(terminal, true);\n                });\n            }\n        }\n        else {\n            if (this._cursorBlinkStateManager) {\n                this._cursorBlinkStateManager.dispose();\n                this._cursorBlinkStateManager = null;\n            }\n            terminal.refresh(terminal.buffer.y, terminal.buffer.y);\n        }\n    };\n    CursorRenderLayer.prototype.onCursorMove = function (terminal) {\n        if (this._cursorBlinkStateManager) {\n            this._cursorBlinkStateManager.restartBlinkAnimation(terminal);\n        }\n    };\n    CursorRenderLayer.prototype.onGridChanged = function (terminal, startRow, endRow) {\n        if (!this._cursorBlinkStateManager || this._cursorBlinkStateManager.isPaused) {\n            this._render(terminal, false);\n        }\n        else {\n            this._cursorBlinkStateManager.restartBlinkAnimation(terminal);\n        }\n    };\n    CursorRenderLayer.prototype._render = function (terminal, triggeredByAnimationFrame) {\n        if (!terminal.cursorState || terminal.cursorHidden) {\n            this._clearCursor();\n            return;\n        }\n        var cursorY = terminal.buffer.ybase + terminal.buffer.y;\n        var viewportRelativeCursorY = cursorY - terminal.buffer.ydisp;\n        if (viewportRelativeCursorY < 0 || viewportRelativeCursorY >= terminal.rows) {\n            this._clearCursor();\n            return;\n        }\n        terminal.buffer.lines.get(cursorY).loadCell(terminal.buffer.x, this._cell);\n        if (this._cell.content === undefined) {\n            return;\n        }\n        if (!terminal.isFocused) {\n            this._clearCursor();\n            this._ctx.save();\n            this._ctx.fillStyle = this._colors.cursor.css;\n            this._renderBlurCursor(terminal, terminal.buffer.x, viewportRelativeCursorY, this._cell);\n            this._ctx.restore();\n            this._state.x = terminal.buffer.x;\n            this._state.y = viewportRelativeCursorY;\n            this._state.isFocused = false;\n            this._state.style = terminal.options.cursorStyle;\n            this._state.width = this._cell.getWidth();\n            return;\n        }\n        if (this._cursorBlinkStateManager && !this._cursorBlinkStateManager.isCursorVisible) {\n            this._clearCursor();\n            return;\n        }\n        if (this._state) {\n            if (this._state.x === terminal.buffer.x &&\n                this._state.y === viewportRelativeCursorY &&\n                this._state.isFocused === terminal.isFocused &&\n                this._state.style === terminal.options.cursorStyle &&\n                this._state.width === this._cell.getWidth()) {\n                return;\n            }\n            this._clearCursor();\n        }\n        this._ctx.save();\n        this._cursorRenderers[terminal.options.cursorStyle || 'block'](terminal, terminal.buffer.x, viewportRelativeCursorY, this._cell);\n        this._ctx.restore();\n        this._state.x = terminal.buffer.x;\n        this._state.y = viewportRelativeCursorY;\n        this._state.isFocused = false;\n        this._state.style = terminal.options.cursorStyle;\n        this._state.width = this._cell.getWidth();\n    };\n    CursorRenderLayer.prototype._clearCursor = function () {\n        if (this._state) {\n            this.clearCells(this._state.x, this._state.y, this._state.width, 1);\n            this._state = {\n                x: null,\n                y: null,\n                isFocused: null,\n                style: null,\n                width: null\n            };\n        }\n    };\n    CursorRenderLayer.prototype._renderBarCursor = function (terminal, x, y, cell) {\n        this._ctx.save();\n        this._ctx.fillStyle = this._colors.cursor.css;\n        this.fillLeftLineAtCell(x, y);\n        this._ctx.restore();\n    };\n    CursorRenderLayer.prototype._renderBlockCursor = function (terminal, x, y, cell) {\n        this._ctx.save();\n        this._ctx.fillStyle = this._colors.cursor.css;\n        this.fillCells(x, y, cell.getWidth(), 1);\n        this._ctx.fillStyle = this._colors.cursorAccent.css;\n        this.fillCharTrueColor(terminal, cell, x, y);\n        this._ctx.restore();\n    };\n    CursorRenderLayer.prototype._renderUnderlineCursor = function (terminal, x, y, cell) {\n        this._ctx.save();\n        this._ctx.fillStyle = this._colors.cursor.css;\n        this.fillBottomLineAtCells(x, y);\n        this._ctx.restore();\n    };\n    CursorRenderLayer.prototype._renderBlurCursor = function (terminal, x, y, cell) {\n        this._ctx.save();\n        this._ctx.strokeStyle = this._colors.cursor.css;\n        this.strokeRectAtCell(x, y, cell.getWidth(), 1);\n        this._ctx.restore();\n    };\n    return CursorRenderLayer;\n}(BaseRenderLayer_1.BaseRenderLayer));\nexports.CursorRenderLayer = CursorRenderLayer;\nvar CursorBlinkStateManager = (function () {\n    function CursorBlinkStateManager(terminal, _renderCallback) {\n        this._renderCallback = _renderCallback;\n        this.isCursorVisible = true;\n        if (terminal.isFocused) {\n            this._restartInterval();\n        }\n    }\n    Object.defineProperty(CursorBlinkStateManager.prototype, \"isPaused\", {\n        get: function () { return !(this._blinkStartTimeout || this._blinkInterval); },\n        enumerable: true,\n        configurable: true\n    });\n    CursorBlinkStateManager.prototype.dispose = function () {\n        if (this._blinkInterval) {\n            window.clearInterval(this._blinkInterval);\n            this._blinkInterval = null;\n        }\n        if (this._blinkStartTimeout) {\n            window.clearTimeout(this._blinkStartTimeout);\n            this._blinkStartTimeout = null;\n        }\n        if (this._animationFrame) {\n            window.cancelAnimationFrame(this._animationFrame);\n            this._animationFrame = null;\n        }\n    };\n    CursorBlinkStateManager.prototype.restartBlinkAnimation = function (terminal) {\n        var _this = this;\n        if (this.isPaused) {\n            return;\n        }\n        this._animationTimeRestarted = Date.now();\n        this.isCursorVisible = true;\n        if (!this._animationFrame) {\n            this._animationFrame = window.requestAnimationFrame(function () {\n                _this._renderCallback();\n                _this._animationFrame = null;\n            });\n        }\n    };\n    CursorBlinkStateManager.prototype._restartInterval = function (timeToStart) {\n        var _this = this;\n        if (timeToStart === void 0) { timeToStart = BLINK_INTERVAL; }\n        if (this._blinkInterval) {\n            window.clearInterval(this._blinkInterval);\n        }\n        this._blinkStartTimeout = setTimeout(function () {\n            if (_this._animationTimeRestarted) {\n                var time = BLINK_INTERVAL - (Date.now() - _this._animationTimeRestarted);\n                _this._animationTimeRestarted = null;\n                if (time > 0) {\n                    _this._restartInterval(time);\n                    return;\n                }\n            }\n            _this.isCursorVisible = false;\n            _this._animationFrame = window.requestAnimationFrame(function () {\n                _this._renderCallback();\n                _this._animationFrame = null;\n            });\n            _this._blinkInterval = setInterval(function () {\n                if (_this._animationTimeRestarted) {\n                    var time = BLINK_INTERVAL - (Date.now() - _this._animationTimeRestarted);\n                    _this._animationTimeRestarted = null;\n                    _this._restartInterval(time);\n                    return;\n                }\n                _this.isCursorVisible = !_this.isCursorVisible;\n                _this._animationFrame = window.requestAnimationFrame(function () {\n                    _this._renderCallback();\n                    _this._animationFrame = null;\n                });\n            }, BLINK_INTERVAL);\n        }, timeToStart);\n    };\n    CursorBlinkStateManager.prototype.pause = function () {\n        this.isCursorVisible = true;\n        if (this._blinkInterval) {\n            window.clearInterval(this._blinkInterval);\n            this._blinkInterval = null;\n        }\n        if (this._blinkStartTimeout) {\n            window.clearTimeout(this._blinkStartTimeout);\n            this._blinkStartTimeout = null;\n        }\n        if (this._animationFrame) {\n            window.cancelAnimationFrame(this._animationFrame);\n            this._animationFrame = null;\n        }\n    };\n    CursorBlinkStateManager.prototype.resume = function (terminal) {\n        this._animationTimeRestarted = null;\n        this._restartInterval();\n        this.restartBlinkAnimation(terminal);\n    };\n    return CursorBlinkStateManager;\n}());\n//# sourceMappingURL=CursorRenderLayer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar GridCache = (function () {\n    function GridCache() {\n        this.cache = [];\n    }\n    GridCache.prototype.resize = function (width, height) {\n        for (var x = 0; x < width; x++) {\n            if (this.cache.length <= x) {\n                this.cache.push([]);\n            }\n            for (var y = this.cache[x].length; y < height; y++) {\n                this.cache[x].push(null);\n            }\n            this.cache[x].length = height;\n        }\n        this.cache.length = width;\n    };\n    GridCache.prototype.clear = function () {\n        for (var x = 0; x < this.cache.length; x++) {\n            for (var y = 0; y < this.cache[x].length; y++) {\n                this.cache[x][y] = null;\n            }\n        }\n    };\n    return GridCache;\n}());\nexports.GridCache = GridCache;\n//# sourceMappingURL=GridCache.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseRenderLayer_1 = require(\"./BaseRenderLayer\");\nvar Types_1 = require(\"./atlas/Types\");\nvar CharAtlasUtils_1 = require(\"./atlas/CharAtlasUtils\");\nvar LinkRenderLayer = (function (_super) {\n    __extends(LinkRenderLayer, _super);\n    function LinkRenderLayer(container, zIndex, colors, terminal) {\n        var _this = _super.call(this, container, 'link', zIndex, true, colors) || this;\n        _this._state = null;\n        terminal.linkifier.onLinkHover(function (e) { return _this._onLinkHover(e); });\n        terminal.linkifier.onLinkLeave(function (e) { return _this._onLinkLeave(e); });\n        return _this;\n    }\n    LinkRenderLayer.prototype.resize = function (terminal, dim) {\n        _super.prototype.resize.call(this, terminal, dim);\n        this._state = null;\n    };\n    LinkRenderLayer.prototype.reset = function (terminal) {\n        this._clearCurrentLink();\n    };\n    LinkRenderLayer.prototype._clearCurrentLink = function () {\n        if (this._state) {\n            this.clearCells(this._state.x1, this._state.y1, this._state.cols - this._state.x1, 1);\n            var middleRowCount = this._state.y2 - this._state.y1 - 1;\n            if (middleRowCount > 0) {\n                this.clearCells(0, this._state.y1 + 1, this._state.cols, middleRowCount);\n            }\n            this.clearCells(0, this._state.y2, this._state.x2, 1);\n            this._state = null;\n        }\n    };\n    LinkRenderLayer.prototype._onLinkHover = function (e) {\n        if (e.fg === Types_1.INVERTED_DEFAULT_COLOR) {\n            this._ctx.fillStyle = this._colors.background.css;\n        }\n        else if (CharAtlasUtils_1.is256Color(e.fg)) {\n            this._ctx.fillStyle = this._colors.ansi[e.fg].css;\n        }\n        else {\n            this._ctx.fillStyle = this._colors.foreground.css;\n        }\n        if (e.y1 === e.y2) {\n            this.fillBottomLineAtCells(e.x1, e.y1, e.x2 - e.x1);\n        }\n        else {\n            this.fillBottomLineAtCells(e.x1, e.y1, e.cols - e.x1);\n            for (var y = e.y1 + 1; y < e.y2; y++) {\n                this.fillBottomLineAtCells(0, y, e.cols);\n            }\n            this.fillBottomLineAtCells(0, e.y2, e.x2);\n        }\n        this._state = e;\n    };\n    LinkRenderLayer.prototype._onLinkLeave = function (e) {\n        this._clearCurrentLink();\n    };\n    return LinkRenderLayer;\n}(BaseRenderLayer_1.BaseRenderLayer));\nexports.LinkRenderLayer = LinkRenderLayer;\n//# sourceMappingURL=LinkRenderLayer.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RenderDebouncer_1 = require(\"../ui/RenderDebouncer\");\nvar EventEmitter2_1 = require(\"../common/EventEmitter2\");\nvar Lifecycle_1 = require(\"../common/Lifecycle\");\nvar ScreenDprMonitor_1 = require(\"../ui/ScreenDprMonitor\");\nvar Lifecycle_2 = require(\"../ui/Lifecycle\");\nvar RenderCoordinator = (function (_super) {\n    __extends(RenderCoordinator, _super);\n    function RenderCoordinator(_renderer, _rowCount, screenElement) {\n        var _this = _super.call(this) || this;\n        _this._renderer = _renderer;\n        _this._rowCount = _rowCount;\n        _this._isPaused = false;\n        _this._needsFullRefresh = false;\n        _this._canvasWidth = 0;\n        _this._canvasHeight = 0;\n        _this._onDimensionsChange = new EventEmitter2_1.EventEmitter2();\n        _this._onRender = new EventEmitter2_1.EventEmitter2();\n        _this._onRefreshRequest = new EventEmitter2_1.EventEmitter2();\n        _this._renderDebouncer = new RenderDebouncer_1.RenderDebouncer(function (start, end) { return _this._renderRows(start, end); });\n        _this.register(_this._renderDebouncer);\n        _this._screenDprMonitor = new ScreenDprMonitor_1.ScreenDprMonitor();\n        _this._screenDprMonitor.setListener(function () { return _this._renderer.onDevicePixelRatioChange(); });\n        _this.register(_this._screenDprMonitor);\n        _this.register(Lifecycle_2.addDisposableDomListener(window, 'resize', function () { return _this._renderer.onDevicePixelRatioChange(); }));\n        if ('IntersectionObserver' in window) {\n            var observer_1 = new IntersectionObserver(function (e) { return _this._onIntersectionChange(e[e.length - 1]); }, { threshold: 0 });\n            observer_1.observe(screenElement);\n            _this.register({ dispose: function () { return observer_1.disconnect(); } });\n        }\n        return _this;\n    }\n    Object.defineProperty(RenderCoordinator.prototype, \"onDimensionsChange\", {\n        get: function () { return this._onDimensionsChange.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RenderCoordinator.prototype, \"onRender\", {\n        get: function () { return this._onRender.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RenderCoordinator.prototype, \"onRefreshRequest\", {\n        get: function () { return this._onRefreshRequest.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RenderCoordinator.prototype, \"dimensions\", {\n        get: function () { return this._renderer.dimensions; },\n        enumerable: true,\n        configurable: true\n    });\n    RenderCoordinator.prototype._onIntersectionChange = function (entry) {\n        this._isPaused = entry.intersectionRatio === 0;\n        if (!this._isPaused && this._needsFullRefresh) {\n            this.refreshRows(0, this._rowCount - 1);\n            this._needsFullRefresh = false;\n        }\n    };\n    RenderCoordinator.prototype.refreshRows = function (start, end) {\n        if (this._isPaused) {\n            this._needsFullRefresh = true;\n            return;\n        }\n        this._renderDebouncer.refresh(start, end, this._rowCount);\n    };\n    RenderCoordinator.prototype._renderRows = function (start, end) {\n        this._renderer.renderRows(start, end);\n        this._onRender.fire({ start: start, end: end });\n    };\n    RenderCoordinator.prototype.resize = function (cols, rows) {\n        this._rowCount = rows;\n        this._fireOnCanvasResize();\n    };\n    RenderCoordinator.prototype.changeOptions = function () {\n        this._renderer.onOptionsChanged();\n        this._fireOnCanvasResize();\n    };\n    RenderCoordinator.prototype._fireOnCanvasResize = function () {\n        if (this._renderer.dimensions.canvasWidth === this._canvasWidth && this._renderer.dimensions.canvasHeight === this._canvasHeight) {\n            return;\n        }\n        this._onDimensionsChange.fire(this._renderer.dimensions);\n    };\n    RenderCoordinator.prototype.setRenderer = function (renderer) {\n        this._renderer.dispose();\n        this._renderer = renderer;\n    };\n    RenderCoordinator.prototype._fullRefresh = function () {\n        if (this._isPaused) {\n            this._needsFullRefresh = true;\n        }\n        else {\n            this.refreshRows(0, this._rowCount);\n        }\n    };\n    RenderCoordinator.prototype.setColors = function (colors) {\n        this._renderer.setColors(colors);\n        this._fullRefresh();\n    };\n    RenderCoordinator.prototype.onDevicePixelRatioChange = function () {\n        this._renderer.onDevicePixelRatioChange();\n    };\n    RenderCoordinator.prototype.onResize = function (cols, rows) {\n        this._renderer.onResize(cols, rows);\n        this._fullRefresh();\n    };\n    RenderCoordinator.prototype.onCharSizeChanged = function () {\n        this._renderer.onCharSizeChanged();\n    };\n    RenderCoordinator.prototype.onBlur = function () {\n        this._renderer.onBlur();\n    };\n    RenderCoordinator.prototype.onFocus = function () {\n        this._renderer.onFocus();\n    };\n    RenderCoordinator.prototype.onSelectionChanged = function (start, end, columnSelectMode) {\n        this._renderer.onSelectionChanged(start, end, columnSelectMode);\n    };\n    RenderCoordinator.prototype.onCursorMove = function () {\n        this._renderer.onCursorMove();\n    };\n    RenderCoordinator.prototype.onOptionsChanged = function () {\n        this._renderer.onOptionsChanged();\n    };\n    RenderCoordinator.prototype.clear = function () {\n        this._renderer.clear();\n    };\n    RenderCoordinator.prototype.registerCharacterJoiner = function (handler) {\n        return this._renderer.registerCharacterJoiner(handler);\n    };\n    RenderCoordinator.prototype.deregisterCharacterJoiner = function (joinerId) {\n        return this._renderer.deregisterCharacterJoiner(joinerId);\n    };\n    return RenderCoordinator;\n}(Lifecycle_1.Disposable));\nexports.RenderCoordinator = RenderCoordinator;\n//# sourceMappingURL=RenderCoordinator.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TextRenderLayer_1 = require(\"./TextRenderLayer\");\nvar SelectionRenderLayer_1 = require(\"./SelectionRenderLayer\");\nvar CursorRenderLayer_1 = require(\"./CursorRenderLayer\");\nvar LinkRenderLayer_1 = require(\"./LinkRenderLayer\");\nvar CharacterJoinerRegistry_1 = require(\"../renderer/CharacterJoinerRegistry\");\nvar Lifecycle_1 = require(\"../common/Lifecycle\");\nvar Renderer = (function (_super) {\n    __extends(Renderer, _super);\n    function Renderer(_terminal, _colors) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._colors = _colors;\n        var allowTransparency = _this._terminal.options.allowTransparency;\n        _this._characterJoinerRegistry = new CharacterJoinerRegistry_1.CharacterJoinerRegistry(_terminal);\n        _this._renderLayers = [\n            new TextRenderLayer_1.TextRenderLayer(_this._terminal.screenElement, 0, _this._colors, _this._characterJoinerRegistry, allowTransparency),\n            new SelectionRenderLayer_1.SelectionRenderLayer(_this._terminal.screenElement, 1, _this._colors),\n            new LinkRenderLayer_1.LinkRenderLayer(_this._terminal.screenElement, 2, _this._colors, _this._terminal),\n            new CursorRenderLayer_1.CursorRenderLayer(_this._terminal.screenElement, 3, _this._colors)\n        ];\n        _this.dimensions = {\n            scaledCharWidth: null,\n            scaledCharHeight: null,\n            scaledCellWidth: null,\n            scaledCellHeight: null,\n            scaledCharLeft: null,\n            scaledCharTop: null,\n            scaledCanvasWidth: null,\n            scaledCanvasHeight: null,\n            canvasWidth: null,\n            canvasHeight: null,\n            actualCellWidth: null,\n            actualCellHeight: null\n        };\n        _this._devicePixelRatio = window.devicePixelRatio;\n        _this._updateDimensions();\n        _this.onOptionsChanged();\n        return _this;\n    }\n    Renderer.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._renderLayers.forEach(function (l) { return l.dispose(); });\n    };\n    Renderer.prototype.onDevicePixelRatioChange = function () {\n        if (this._devicePixelRatio !== window.devicePixelRatio) {\n            this._devicePixelRatio = window.devicePixelRatio;\n            this.onResize(this._terminal.cols, this._terminal.rows);\n        }\n    };\n    Renderer.prototype.setColors = function (colors) {\n        var _this = this;\n        this._colors = colors;\n        this._renderLayers.forEach(function (l) {\n            l.setColors(_this._terminal, _this._colors);\n            l.reset(_this._terminal);\n        });\n    };\n    Renderer.prototype.onResize = function (cols, rows) {\n        var _this = this;\n        this._updateDimensions();\n        this._renderLayers.forEach(function (l) { return l.resize(_this._terminal, _this.dimensions); });\n        this._terminal.screenElement.style.width = this.dimensions.canvasWidth + \"px\";\n        this._terminal.screenElement.style.height = this.dimensions.canvasHeight + \"px\";\n    };\n    Renderer.prototype.onCharSizeChanged = function () {\n        this.onResize(this._terminal.cols, this._terminal.rows);\n    };\n    Renderer.prototype.onBlur = function () {\n        var _this = this;\n        this._runOperation(function (l) { return l.onBlur(_this._terminal); });\n    };\n    Renderer.prototype.onFocus = function () {\n        var _this = this;\n        this._runOperation(function (l) { return l.onFocus(_this._terminal); });\n    };\n    Renderer.prototype.onSelectionChanged = function (start, end, columnSelectMode) {\n        var _this = this;\n        if (columnSelectMode === void 0) { columnSelectMode = false; }\n        this._runOperation(function (l) { return l.onSelectionChanged(_this._terminal, start, end, columnSelectMode); });\n    };\n    Renderer.prototype.onCursorMove = function () {\n        var _this = this;\n        this._runOperation(function (l) { return l.onCursorMove(_this._terminal); });\n    };\n    Renderer.prototype.onOptionsChanged = function () {\n        var _this = this;\n        this._runOperation(function (l) { return l.onOptionsChanged(_this._terminal); });\n    };\n    Renderer.prototype.clear = function () {\n        var _this = this;\n        this._runOperation(function (l) { return l.reset(_this._terminal); });\n    };\n    Renderer.prototype._runOperation = function (operation) {\n        this._renderLayers.forEach(function (l) { return operation(l); });\n    };\n    Renderer.prototype.renderRows = function (start, end) {\n        var _this = this;\n        this._renderLayers.forEach(function (l) { return l.onGridChanged(_this._terminal, start, end); });\n    };\n    Renderer.prototype._updateDimensions = function () {\n        if (!this._terminal.charMeasure.width || !this._terminal.charMeasure.height) {\n            return;\n        }\n        this.dimensions.scaledCharWidth = Math.floor(this._terminal.charMeasure.width * window.devicePixelRatio);\n        this.dimensions.scaledCharHeight = Math.ceil(this._terminal.charMeasure.height * window.devicePixelRatio);\n        this.dimensions.scaledCellHeight = Math.floor(this.dimensions.scaledCharHeight * this._terminal.options.lineHeight);\n        this.dimensions.scaledCharTop = this._terminal.options.lineHeight === 1 ? 0 : Math.round((this.dimensions.scaledCellHeight - this.dimensions.scaledCharHeight) / 2);\n        this.dimensions.scaledCellWidth = this.dimensions.scaledCharWidth + Math.round(this._terminal.options.letterSpacing);\n        this.dimensions.scaledCharLeft = Math.floor(this._terminal.options.letterSpacing / 2);\n        this.dimensions.scaledCanvasHeight = this._terminal.rows * this.dimensions.scaledCellHeight;\n        this.dimensions.scaledCanvasWidth = this._terminal.cols * this.dimensions.scaledCellWidth;\n        this.dimensions.canvasHeight = Math.round(this.dimensions.scaledCanvasHeight / window.devicePixelRatio);\n        this.dimensions.canvasWidth = Math.round(this.dimensions.scaledCanvasWidth / window.devicePixelRatio);\n        this.dimensions.actualCellHeight = this.dimensions.canvasHeight / this._terminal.rows;\n        this.dimensions.actualCellWidth = this.dimensions.canvasWidth / this._terminal.cols;\n    };\n    Renderer.prototype.registerCharacterJoiner = function (handler) {\n        return this._characterJoinerRegistry.registerCharacterJoiner(handler);\n    };\n    Renderer.prototype.deregisterCharacterJoiner = function (joinerId) {\n        return this._characterJoinerRegistry.deregisterCharacterJoiner(joinerId);\n    };\n    return Renderer;\n}(Lifecycle_1.Disposable));\nexports.Renderer = Renderer;\n//# sourceMappingURL=Renderer.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseRenderLayer_1 = require(\"./BaseRenderLayer\");\nvar SelectionRenderLayer = (function (_super) {\n    __extends(SelectionRenderLayer, _super);\n    function SelectionRenderLayer(container, zIndex, colors) {\n        var _this = _super.call(this, container, 'selection', zIndex, true, colors) || this;\n        _this._clearState();\n        return _this;\n    }\n    SelectionRenderLayer.prototype._clearState = function () {\n        this._state = {\n            start: null,\n            end: null,\n            columnSelectMode: null,\n            ydisp: null\n        };\n    };\n    SelectionRenderLayer.prototype.resize = function (terminal, dim) {\n        _super.prototype.resize.call(this, terminal, dim);\n        this._clearState();\n    };\n    SelectionRenderLayer.prototype.reset = function (terminal) {\n        if (this._state.start && this._state.end) {\n            this._clearState();\n            this.clearAll();\n        }\n    };\n    SelectionRenderLayer.prototype.onSelectionChanged = function (terminal, start, end, columnSelectMode) {\n        if (!this._didStateChange(start, end, columnSelectMode, terminal.buffer.ydisp)) {\n            return;\n        }\n        this.clearAll();\n        if (!start || !end) {\n            this._clearState();\n            return;\n        }\n        var viewportStartRow = start[1] - terminal.buffer.ydisp;\n        var viewportEndRow = end[1] - terminal.buffer.ydisp;\n        var viewportCappedStartRow = Math.max(viewportStartRow, 0);\n        var viewportCappedEndRow = Math.min(viewportEndRow, terminal.rows - 1);\n        if (viewportCappedStartRow >= terminal.rows || viewportCappedEndRow < 0) {\n            return;\n        }\n        this._ctx.fillStyle = this._colors.selection.css;\n        if (columnSelectMode) {\n            var startCol = start[0];\n            var width = end[0] - startCol;\n            var height = viewportCappedEndRow - viewportCappedStartRow + 1;\n            this.fillCells(startCol, viewportCappedStartRow, width, height);\n        }\n        else {\n            var startCol = viewportStartRow === viewportCappedStartRow ? start[0] : 0;\n            var startRowEndCol = viewportCappedStartRow === viewportCappedEndRow ? end[0] : terminal.cols;\n            this.fillCells(startCol, viewportCappedStartRow, startRowEndCol - startCol, 1);\n            var middleRowsCount = Math.max(viewportCappedEndRow - viewportCappedStartRow - 1, 0);\n            this.fillCells(0, viewportCappedStartRow + 1, terminal.cols, middleRowsCount);\n            if (viewportCappedStartRow !== viewportCappedEndRow) {\n                var endCol = viewportEndRow === viewportCappedEndRow ? end[0] : terminal.cols;\n                this.fillCells(0, viewportCappedEndRow, endCol, 1);\n            }\n        }\n        this._state.start = [start[0], start[1]];\n        this._state.end = [end[0], end[1]];\n        this._state.columnSelectMode = columnSelectMode;\n        this._state.ydisp = terminal.buffer.ydisp;\n    };\n    SelectionRenderLayer.prototype._didStateChange = function (start, end, columnSelectMode, ydisp) {\n        return !this._areCoordinatesEqual(start, this._state.start) ||\n            !this._areCoordinatesEqual(end, this._state.end) ||\n            columnSelectMode !== this._state.columnSelectMode ||\n            ydisp !== this._state.ydisp;\n    };\n    SelectionRenderLayer.prototype._areCoordinatesEqual = function (coord1, coord2) {\n        if (!coord1 || !coord2) {\n            return false;\n        }\n        return coord1[0] === coord2[0] && coord1[1] === coord2[1];\n    };\n    return SelectionRenderLayer;\n}(BaseRenderLayer_1.BaseRenderLayer));\nexports.SelectionRenderLayer = SelectionRenderLayer;\n//# sourceMappingURL=SelectionRenderLayer.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar GridCache_1 = require(\"./GridCache\");\nvar BaseRenderLayer_1 = require(\"./BaseRenderLayer\");\nvar BufferLine_1 = require(\"../core/buffer/BufferLine\");\nvar CharacterJoinerRegistry_1 = require(\"./CharacterJoinerRegistry\");\nvar TextRenderLayer = (function (_super) {\n    __extends(TextRenderLayer, _super);\n    function TextRenderLayer(container, zIndex, colors, characterJoinerRegistry, alpha) {\n        var _this = _super.call(this, container, 'text', zIndex, alpha, colors) || this;\n        _this._characterOverlapCache = {};\n        _this._workCell = new BufferLine_1.CellData();\n        _this._state = new GridCache_1.GridCache();\n        _this._characterJoinerRegistry = characterJoinerRegistry;\n        return _this;\n    }\n    TextRenderLayer.prototype.resize = function (terminal, dim) {\n        _super.prototype.resize.call(this, terminal, dim);\n        var terminalFont = this._getFont(terminal, false, false);\n        if (this._characterWidth !== dim.scaledCharWidth || this._characterFont !== terminalFont) {\n            this._characterWidth = dim.scaledCharWidth;\n            this._characterFont = terminalFont;\n            this._characterOverlapCache = {};\n        }\n        this._state.clear();\n        this._state.resize(terminal.cols, terminal.rows);\n    };\n    TextRenderLayer.prototype.reset = function (terminal) {\n        this._state.clear();\n        this.clearAll();\n    };\n    TextRenderLayer.prototype._forEachCell = function (terminal, firstRow, lastRow, joinerRegistry, callback) {\n        for (var y = firstRow; y <= lastRow; y++) {\n            var row = y + terminal.buffer.ydisp;\n            var line = terminal.buffer.lines.get(row);\n            var joinedRanges = joinerRegistry ? joinerRegistry.getJoinedCharacters(row) : [];\n            for (var x = 0; x < terminal.cols; x++) {\n                line.loadCell(x, this._workCell);\n                var cell = this._workCell;\n                var isJoined = false;\n                var lastCharX = x;\n                if (cell.getWidth() === 0) {\n                    continue;\n                }\n                if (joinedRanges.length > 0 && x === joinedRanges[0][0]) {\n                    isJoined = true;\n                    var range = joinedRanges.shift();\n                    cell = new CharacterJoinerRegistry_1.JoinedCellData(this._workCell, line.translateToString(true, range[0], range[1]), range[1] - range[0]);\n                    lastCharX = range[1] - 1;\n                }\n                if (!isJoined && this._isOverlapping(cell)) {\n                    if (lastCharX < line.length - 1 && line.getCodePoint(lastCharX + 1) === BufferLine_1.NULL_CELL_CODE) {\n                        cell.content &= ~12582912;\n                        cell.content |= 2 << 22;\n                    }\n                }\n                callback(cell, x, y);\n                x = lastCharX;\n            }\n        }\n    };\n    TextRenderLayer.prototype._drawBackground = function (terminal, firstRow, lastRow) {\n        var _this = this;\n        var ctx = this._ctx;\n        var cols = terminal.cols;\n        var startX = 0;\n        var startY = 0;\n        var prevFillStyle = null;\n        ctx.save();\n        this._forEachCell(terminal, firstRow, lastRow, null, function (cell, x, y) {\n            var nextFillStyle = null;\n            if (cell.isInverse()) {\n                if (cell.isFgDefault()) {\n                    nextFillStyle = _this._colors.foreground.css;\n                }\n                else if (cell.isFgRGB()) {\n                    nextFillStyle = \"rgb(\" + BufferLine_1.AttributeData.toColorRGB(cell.getFgColor()).join(',') + \")\";\n                }\n                else {\n                    nextFillStyle = _this._colors.ansi[cell.getFgColor()].css;\n                }\n            }\n            else if (cell.isBgRGB()) {\n                nextFillStyle = \"rgb(\" + BufferLine_1.AttributeData.toColorRGB(cell.getBgColor()).join(',') + \")\";\n            }\n            else if (cell.isBgPalette()) {\n                nextFillStyle = _this._colors.ansi[cell.getBgColor()].css;\n            }\n            if (prevFillStyle === null) {\n                startX = x;\n                startY = y;\n            }\n            if (y !== startY) {\n                ctx.fillStyle = prevFillStyle;\n                _this.fillCells(startX, startY, cols - startX, 1);\n                startX = x;\n                startY = y;\n            }\n            else if (prevFillStyle !== nextFillStyle) {\n                ctx.fillStyle = prevFillStyle;\n                _this.fillCells(startX, startY, x - startX, 1);\n                startX = x;\n                startY = y;\n            }\n            prevFillStyle = nextFillStyle;\n        });\n        if (prevFillStyle !== null) {\n            ctx.fillStyle = prevFillStyle;\n            this.fillCells(startX, startY, cols - startX, 1);\n        }\n        ctx.restore();\n    };\n    TextRenderLayer.prototype._drawForeground = function (terminal, firstRow, lastRow) {\n        var _this = this;\n        this._forEachCell(terminal, firstRow, lastRow, this._characterJoinerRegistry, function (cell, x, y) {\n            if (cell.isInvisible()) {\n                return;\n            }\n            _this.drawChars(terminal, cell, x, y);\n            if (cell.isUnderline()) {\n                _this._ctx.save();\n                if (cell.isInverse()) {\n                    if (cell.isBgDefault()) {\n                        _this._ctx.fillStyle = _this._colors.background.css;\n                    }\n                    else if (cell.isBgRGB()) {\n                        _this._ctx.fillStyle = \"rgb(\" + BufferLine_1.AttributeData.toColorRGB(cell.getBgColor()).join(',') + \")\";\n                    }\n                    else {\n                        _this._ctx.fillStyle = _this._colors.ansi[cell.getBgColor()].css;\n                    }\n                }\n                else {\n                    if (cell.isFgDefault()) {\n                        _this._ctx.fillStyle = _this._colors.foreground.css;\n                    }\n                    else if (cell.isFgRGB()) {\n                        _this._ctx.fillStyle = \"rgb(\" + BufferLine_1.AttributeData.toColorRGB(cell.getFgColor()).join(',') + \")\";\n                    }\n                    else {\n                        var fg = cell.getFgColor();\n                        if (terminal.options.drawBoldTextInBrightColors && cell.isBold() && fg < 8) {\n                            fg += 8;\n                        }\n                        _this._ctx.fillStyle = _this._colors.ansi[fg].css;\n                    }\n                }\n                _this.fillBottomLineAtCells(x, y, cell.getWidth());\n                _this._ctx.restore();\n            }\n        });\n    };\n    TextRenderLayer.prototype.onGridChanged = function (terminal, firstRow, lastRow) {\n        if (this._state.cache.length === 0) {\n            return;\n        }\n        if (this._charAtlas) {\n            this._charAtlas.beginFrame();\n        }\n        this.clearCells(0, firstRow, terminal.cols, lastRow - firstRow + 1);\n        this._drawBackground(terminal, firstRow, lastRow);\n        this._drawForeground(terminal, firstRow, lastRow);\n    };\n    TextRenderLayer.prototype.onOptionsChanged = function (terminal) {\n        this.setTransparency(terminal, terminal.options.allowTransparency);\n    };\n    TextRenderLayer.prototype._isOverlapping = function (cell) {\n        if (cell.getWidth() !== 1) {\n            return false;\n        }\n        if (cell.getCode() < 256) {\n            return false;\n        }\n        var chars = cell.getChars();\n        if (this._characterOverlapCache.hasOwnProperty(chars)) {\n            return this._characterOverlapCache[chars];\n        }\n        this._ctx.save();\n        this._ctx.font = this._characterFont;\n        var overlaps = Math.floor(this._ctx.measureText(chars).width) > this._characterWidth;\n        this._ctx.restore();\n        this._characterOverlapCache[chars] = overlaps;\n        return overlaps;\n    };\n    return TextRenderLayer;\n}(BaseRenderLayer_1.BaseRenderLayer));\nexports.TextRenderLayer = TextRenderLayer;\n//# sourceMappingURL=TextRenderLayer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseCharAtlas = (function () {\n    function BaseCharAtlas() {\n        this._didWarmUp = false;\n    }\n    BaseCharAtlas.prototype.dispose = function () { };\n    BaseCharAtlas.prototype.warmUp = function () {\n        if (!this._didWarmUp) {\n            this._doWarmUp();\n            this._didWarmUp = true;\n        }\n    };\n    BaseCharAtlas.prototype._doWarmUp = function () { };\n    BaseCharAtlas.prototype.beginFrame = function () { };\n    return BaseCharAtlas;\n}());\nexports.default = BaseCharAtlas;\n//# sourceMappingURL=BaseCharAtlas.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CharAtlasUtils_1 = require(\"./CharAtlasUtils\");\nvar DynamicCharAtlas_1 = require(\"./DynamicCharAtlas\");\nvar NoneCharAtlas_1 = require(\"./NoneCharAtlas\");\nvar StaticCharAtlas_1 = require(\"./StaticCharAtlas\");\nvar charAtlasImplementations = {\n    'none': NoneCharAtlas_1.default,\n    'static': StaticCharAtlas_1.default,\n    'dynamic': DynamicCharAtlas_1.default\n};\nvar charAtlasCache = [];\nfunction acquireCharAtlas(terminal, colors, scaledCharWidth, scaledCharHeight) {\n    var newConfig = CharAtlasUtils_1.generateConfig(scaledCharWidth, scaledCharHeight, terminal, colors);\n    for (var i = 0; i < charAtlasCache.length; i++) {\n        var entry = charAtlasCache[i];\n        var ownedByIndex = entry.ownedBy.indexOf(terminal);\n        if (ownedByIndex >= 0) {\n            if (CharAtlasUtils_1.configEquals(entry.config, newConfig)) {\n                return entry.atlas;\n            }\n            if (entry.ownedBy.length === 1) {\n                entry.atlas.dispose();\n                charAtlasCache.splice(i, 1);\n            }\n            else {\n                entry.ownedBy.splice(ownedByIndex, 1);\n            }\n            break;\n        }\n    }\n    for (var i = 0; i < charAtlasCache.length; i++) {\n        var entry = charAtlasCache[i];\n        if (CharAtlasUtils_1.configEquals(entry.config, newConfig)) {\n            entry.ownedBy.push(terminal);\n            return entry.atlas;\n        }\n    }\n    var newEntry = {\n        atlas: new charAtlasImplementations[terminal.options.experimentalCharAtlas](document, newConfig),\n        config: newConfig,\n        ownedBy: [terminal]\n    };\n    charAtlasCache.push(newEntry);\n    return newEntry.atlas;\n}\nexports.acquireCharAtlas = acquireCharAtlas;\nfunction removeTerminalFromCache(terminal) {\n    for (var i = 0; i < charAtlasCache.length; i++) {\n        var index = charAtlasCache[i].ownedBy.indexOf(terminal);\n        if (index !== -1) {\n            if (charAtlasCache[i].ownedBy.length === 1) {\n                charAtlasCache[i].atlas.dispose();\n                charAtlasCache.splice(i, 1);\n            }\n            else {\n                charAtlasCache[i].ownedBy.splice(index, 1);\n            }\n            break;\n        }\n    }\n}\nexports.removeTerminalFromCache = removeTerminalFromCache;\n//# sourceMappingURL=CharAtlasCache.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Platform_1 = require(\"../../common/Platform\");\nvar Types_1 = require(\"./Types\");\nfunction generateStaticCharAtlasTexture(context, canvasFactory, config) {\n    var cellWidth = config.scaledCharWidth + Types_1.CHAR_ATLAS_CELL_SPACING;\n    var cellHeight = config.scaledCharHeight + Types_1.CHAR_ATLAS_CELL_SPACING;\n    var canvas = canvasFactory(255 * cellWidth, (2 + 16 + 16) * cellHeight);\n    var ctx = canvas.getContext('2d', { alpha: config.allowTransparency });\n    ctx.fillStyle = config.colors.background.css;\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    ctx.save();\n    ctx.fillStyle = config.colors.foreground.css;\n    ctx.font = getFont(config.fontWeight, config);\n    ctx.textBaseline = 'middle';\n    for (var i = 0; i < 256; i++) {\n        ctx.save();\n        ctx.beginPath();\n        ctx.rect(i * cellWidth, 0, cellWidth, cellHeight);\n        ctx.clip();\n        ctx.fillText(String.fromCharCode(i), i * cellWidth, cellHeight / 2);\n        ctx.restore();\n    }\n    ctx.save();\n    ctx.font = getFont(config.fontWeightBold, config);\n    for (var i = 0; i < 256; i++) {\n        ctx.save();\n        ctx.beginPath();\n        ctx.rect(i * cellWidth, cellHeight, cellWidth, cellHeight);\n        ctx.clip();\n        ctx.fillText(String.fromCharCode(i), i * cellWidth, cellHeight * 1.5);\n        ctx.restore();\n    }\n    ctx.restore();\n    ctx.font = getFont(config.fontWeight, config);\n    for (var colorIndex = 0; colorIndex < 16; colorIndex++) {\n        var y = (colorIndex + 2) * cellHeight;\n        for (var i = 0; i < 256; i++) {\n            ctx.save();\n            ctx.beginPath();\n            ctx.rect(i * cellWidth, y, cellWidth, cellHeight);\n            ctx.clip();\n            ctx.fillStyle = config.colors.ansi[colorIndex].css;\n            ctx.fillText(String.fromCharCode(i), i * cellWidth, y + cellHeight / 2);\n            ctx.restore();\n        }\n    }\n    ctx.font = getFont(config.fontWeightBold, config);\n    for (var colorIndex = 0; colorIndex < 16; colorIndex++) {\n        var y = (colorIndex + 2 + 16) * cellHeight;\n        for (var i = 0; i < 256; i++) {\n            ctx.save();\n            ctx.beginPath();\n            ctx.rect(i * cellWidth, y, cellWidth, cellHeight);\n            ctx.clip();\n            ctx.fillStyle = config.colors.ansi[colorIndex].css;\n            ctx.fillText(String.fromCharCode(i), i * cellWidth, y + cellHeight / 2);\n            ctx.restore();\n        }\n    }\n    ctx.restore();\n    if (!('createImageBitmap' in context) || Platform_1.isFirefox || Platform_1.isSafari) {\n        return canvas;\n    }\n    var charAtlasImageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n    clearColor(charAtlasImageData, config.colors.background);\n    return context.createImageBitmap(charAtlasImageData);\n}\nexports.generateStaticCharAtlasTexture = generateStaticCharAtlasTexture;\nfunction clearColor(imageData, color) {\n    var isEmpty = true;\n    var r = color.rgba >>> 24;\n    var g = color.rgba >>> 16 & 0xFF;\n    var b = color.rgba >>> 8 & 0xFF;\n    for (var offset = 0; offset < imageData.data.length; offset += 4) {\n        if (imageData.data[offset] === r &&\n            imageData.data[offset + 1] === g &&\n            imageData.data[offset + 2] === b) {\n            imageData.data[offset + 3] = 0;\n        }\n        else {\n            isEmpty = false;\n        }\n    }\n    return isEmpty;\n}\nexports.clearColor = clearColor;\nfunction getFont(fontWeight, config) {\n    return fontWeight + \" \" + config.fontSize * config.devicePixelRatio + \"px \" + config.fontFamily;\n}\n//# sourceMappingURL=CharAtlasGenerator.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Types_1 = require(\"../../common/Types\");\nfunction generateConfig(scaledCharWidth, scaledCharHeight, terminal, colors) {\n    var clonedColors = {\n        foreground: colors.foreground,\n        background: colors.background,\n        cursor: null,\n        cursorAccent: null,\n        selection: null,\n        ansi: colors.ansi.slice(0, 16)\n    };\n    return {\n        type: terminal.options.experimentalCharAtlas,\n        devicePixelRatio: window.devicePixelRatio,\n        scaledCharWidth: scaledCharWidth,\n        scaledCharHeight: scaledCharHeight,\n        fontFamily: terminal.options.fontFamily,\n        fontSize: terminal.options.fontSize,\n        fontWeight: terminal.options.fontWeight,\n        fontWeightBold: terminal.options.fontWeightBold,\n        allowTransparency: terminal.options.allowTransparency,\n        colors: clonedColors\n    };\n}\nexports.generateConfig = generateConfig;\nfunction configEquals(a, b) {\n    for (var i = 0; i < a.colors.ansi.length; i++) {\n        if (a.colors.ansi[i].rgba !== b.colors.ansi[i].rgba) {\n            return false;\n        }\n    }\n    return a.type === b.type &&\n        a.devicePixelRatio === b.devicePixelRatio &&\n        a.fontFamily === b.fontFamily &&\n        a.fontSize === b.fontSize &&\n        a.fontWeight === b.fontWeight &&\n        a.fontWeightBold === b.fontWeightBold &&\n        a.allowTransparency === b.allowTransparency &&\n        a.scaledCharWidth === b.scaledCharWidth &&\n        a.scaledCharHeight === b.scaledCharHeight &&\n        a.colors.foreground === b.colors.foreground &&\n        a.colors.background === b.colors.background;\n}\nexports.configEquals = configEquals;\nfunction is256Color(colorCode) {\n    return colorCode < Types_1.DEFAULT_COLOR;\n}\nexports.is256Color = is256Color;\n//# sourceMappingURL=CharAtlasUtils.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Types_1 = require(\"./Types\");\nvar BaseCharAtlas_1 = require(\"./BaseCharAtlas\");\nvar ColorManager_1 = require(\"../../ui/ColorManager\");\nvar CharAtlasGenerator_1 = require(\"./CharAtlasGenerator\");\nvar LRUMap_1 = require(\"./LRUMap\");\nvar Platform_1 = require(\"../../common/Platform\");\nvar TEXTURE_WIDTH = 1024;\nvar TEXTURE_HEIGHT = 1024;\nvar TRANSPARENT_COLOR = {\n    css: 'rgba(0, 0, 0, 0)',\n    rgba: 0\n};\nvar FRAME_CACHE_DRAW_LIMIT = 100;\nvar GLYPH_BITMAP_COMMIT_DELAY = 100;\nfunction getGlyphCacheKey(glyph) {\n    return glyph.code << 21 | glyph.bg << 12 | glyph.fg << 3 | (glyph.bold ? 0 : 4) + (glyph.dim ? 0 : 2) + (glyph.italic ? 0 : 1);\n}\nexports.getGlyphCacheKey = getGlyphCacheKey;\nvar DynamicCharAtlas = (function (_super) {\n    __extends(DynamicCharAtlas, _super);\n    function DynamicCharAtlas(document, _config) {\n        var _this = _super.call(this) || this;\n        _this._config = _config;\n        _this._drawToCacheCount = 0;\n        _this._glyphsWaitingOnBitmap = [];\n        _this._bitmapCommitTimeout = null;\n        _this._bitmap = null;\n        _this._cacheCanvas = document.createElement('canvas');\n        _this._cacheCanvas.width = TEXTURE_WIDTH;\n        _this._cacheCanvas.height = TEXTURE_HEIGHT;\n        _this._cacheCtx = _this._cacheCanvas.getContext('2d', { alpha: true });\n        var tmpCanvas = document.createElement('canvas');\n        tmpCanvas.width = _this._config.scaledCharWidth;\n        tmpCanvas.height = _this._config.scaledCharHeight;\n        _this._tmpCtx = tmpCanvas.getContext('2d', { alpha: _this._config.allowTransparency });\n        _this._width = Math.floor(TEXTURE_WIDTH / _this._config.scaledCharWidth);\n        _this._height = Math.floor(TEXTURE_HEIGHT / _this._config.scaledCharHeight);\n        var capacity = _this._width * _this._height;\n        _this._cacheMap = new LRUMap_1.default(capacity);\n        _this._cacheMap.prealloc(capacity);\n        return _this;\n    }\n    DynamicCharAtlas.prototype.dispose = function () {\n        if (this._bitmapCommitTimeout !== null) {\n            window.clearTimeout(this._bitmapCommitTimeout);\n            this._bitmapCommitTimeout = null;\n        }\n    };\n    DynamicCharAtlas.prototype.beginFrame = function () {\n        this._drawToCacheCount = 0;\n    };\n    DynamicCharAtlas.prototype.draw = function (ctx, glyph, x, y) {\n        if (glyph.code === 32) {\n            return true;\n        }\n        if (!this._canCache(glyph)) {\n            return false;\n        }\n        var glyphKey = getGlyphCacheKey(glyph);\n        var cacheValue = this._cacheMap.get(glyphKey);\n        if (cacheValue !== null && cacheValue !== undefined) {\n            this._drawFromCache(ctx, cacheValue, x, y);\n            return true;\n        }\n        else if (this._drawToCacheCount < FRAME_CACHE_DRAW_LIMIT) {\n            var index = void 0;\n            if (this._cacheMap.size < this._cacheMap.capacity) {\n                index = this._cacheMap.size;\n            }\n            else {\n                index = this._cacheMap.peek().index;\n            }\n            var cacheValue_1 = this._drawToCache(glyph, index);\n            this._cacheMap.set(glyphKey, cacheValue_1);\n            this._drawFromCache(ctx, cacheValue_1, x, y);\n            return true;\n        }\n        return false;\n    };\n    DynamicCharAtlas.prototype._canCache = function (glyph) {\n        return glyph.code < 256;\n    };\n    DynamicCharAtlas.prototype._toCoordinateX = function (index) {\n        return (index % this._width) * this._config.scaledCharWidth;\n    };\n    DynamicCharAtlas.prototype._toCoordinateY = function (index) {\n        return Math.floor(index / this._width) * this._config.scaledCharHeight;\n    };\n    DynamicCharAtlas.prototype._drawFromCache = function (ctx, cacheValue, x, y) {\n        if (cacheValue.isEmpty) {\n            return;\n        }\n        var cacheX = this._toCoordinateX(cacheValue.index);\n        var cacheY = this._toCoordinateY(cacheValue.index);\n        ctx.drawImage(cacheValue.inBitmap ? this._bitmap : this._cacheCanvas, cacheX, cacheY, this._config.scaledCharWidth, this._config.scaledCharHeight, x, y, this._config.scaledCharWidth, this._config.scaledCharHeight);\n    };\n    DynamicCharAtlas.prototype._getColorFromAnsiIndex = function (idx) {\n        if (idx < this._config.colors.ansi.length) {\n            return this._config.colors.ansi[idx];\n        }\n        return ColorManager_1.DEFAULT_ANSI_COLORS[idx];\n    };\n    DynamicCharAtlas.prototype._getBackgroundColor = function (glyph) {\n        if (this._config.allowTransparency) {\n            return TRANSPARENT_COLOR;\n        }\n        else if (glyph.bg === Types_1.INVERTED_DEFAULT_COLOR) {\n            return this._config.colors.foreground;\n        }\n        else if (glyph.bg < 256) {\n            return this._getColorFromAnsiIndex(glyph.bg);\n        }\n        return this._config.colors.background;\n    };\n    DynamicCharAtlas.prototype._getForegroundColor = function (glyph) {\n        if (glyph.fg === Types_1.INVERTED_DEFAULT_COLOR) {\n            return this._config.colors.background;\n        }\n        else if (glyph.fg < 256) {\n            return this._getColorFromAnsiIndex(glyph.fg);\n        }\n        return this._config.colors.foreground;\n    };\n    DynamicCharAtlas.prototype._drawToCache = function (glyph, index) {\n        this._drawToCacheCount++;\n        this._tmpCtx.save();\n        var backgroundColor = this._getBackgroundColor(glyph);\n        this._tmpCtx.globalCompositeOperation = 'copy';\n        this._tmpCtx.fillStyle = backgroundColor.css;\n        this._tmpCtx.fillRect(0, 0, this._config.scaledCharWidth, this._config.scaledCharHeight);\n        this._tmpCtx.globalCompositeOperation = 'source-over';\n        var fontWeight = glyph.bold ? this._config.fontWeightBold : this._config.fontWeight;\n        var fontStyle = glyph.italic ? 'italic' : '';\n        this._tmpCtx.font =\n            fontStyle + \" \" + fontWeight + \" \" + this._config.fontSize * this._config.devicePixelRatio + \"px \" + this._config.fontFamily;\n        this._tmpCtx.textBaseline = 'middle';\n        this._tmpCtx.fillStyle = this._getForegroundColor(glyph).css;\n        if (glyph.dim) {\n            this._tmpCtx.globalAlpha = Types_1.DIM_OPACITY;\n        }\n        this._tmpCtx.fillText(glyph.chars, 0, this._config.scaledCharHeight / 2);\n        this._tmpCtx.restore();\n        var imageData = this._tmpCtx.getImageData(0, 0, this._config.scaledCharWidth, this._config.scaledCharHeight);\n        var isEmpty = false;\n        if (!this._config.allowTransparency) {\n            isEmpty = CharAtlasGenerator_1.clearColor(imageData, backgroundColor);\n        }\n        var x = this._toCoordinateX(index);\n        var y = this._toCoordinateY(index);\n        this._cacheCtx.putImageData(imageData, x, y);\n        var cacheValue = {\n            index: index,\n            isEmpty: isEmpty,\n            inBitmap: false\n        };\n        this._addGlyphToBitmap(cacheValue);\n        return cacheValue;\n    };\n    DynamicCharAtlas.prototype._addGlyphToBitmap = function (cacheValue) {\n        var _this = this;\n        if (!('createImageBitmap' in window) || Platform_1.isFirefox || Platform_1.isSafari) {\n            return;\n        }\n        this._glyphsWaitingOnBitmap.push(cacheValue);\n        if (this._bitmapCommitTimeout !== null) {\n            return;\n        }\n        this._bitmapCommitTimeout = window.setTimeout(function () { return _this._generateBitmap(); }, GLYPH_BITMAP_COMMIT_DELAY);\n    };\n    DynamicCharAtlas.prototype._generateBitmap = function () {\n        var _this = this;\n        var glyphsMovingToBitmap = this._glyphsWaitingOnBitmap;\n        this._glyphsWaitingOnBitmap = [];\n        window.createImageBitmap(this._cacheCanvas).then(function (bitmap) {\n            _this._bitmap = bitmap;\n            for (var i = 0; i < glyphsMovingToBitmap.length; i++) {\n                var value = glyphsMovingToBitmap[i];\n                value.inBitmap = true;\n            }\n        });\n        this._bitmapCommitTimeout = null;\n    };\n    return DynamicCharAtlas;\n}(BaseCharAtlas_1.default));\nexports.default = DynamicCharAtlas;\n//# sourceMappingURL=DynamicCharAtlas.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LRUMap = (function () {\n    function LRUMap(capacity) {\n        this.capacity = capacity;\n        this._map = {};\n        this._head = null;\n        this._tail = null;\n        this._nodePool = [];\n        this.size = 0;\n    }\n    LRUMap.prototype._unlinkNode = function (node) {\n        var prev = node.prev;\n        var next = node.next;\n        if (node === this._head) {\n            this._head = next;\n        }\n        if (node === this._tail) {\n            this._tail = prev;\n        }\n        if (prev !== null) {\n            prev.next = next;\n        }\n        if (next !== null) {\n            next.prev = prev;\n        }\n    };\n    LRUMap.prototype._appendNode = function (node) {\n        var tail = this._tail;\n        if (tail !== null) {\n            tail.next = node;\n        }\n        node.prev = tail;\n        node.next = null;\n        this._tail = node;\n        if (this._head === null) {\n            this._head = node;\n        }\n    };\n    LRUMap.prototype.prealloc = function (count) {\n        var nodePool = this._nodePool;\n        for (var i = 0; i < count; i++) {\n            nodePool.push({\n                prev: null,\n                next: null,\n                key: null,\n                value: null\n            });\n        }\n    };\n    LRUMap.prototype.get = function (key) {\n        var node = this._map[key];\n        if (node !== undefined) {\n            this._unlinkNode(node);\n            this._appendNode(node);\n            return node.value;\n        }\n        return null;\n    };\n    LRUMap.prototype.peekValue = function (key) {\n        var node = this._map[key];\n        if (node !== undefined) {\n            return node.value;\n        }\n        return null;\n    };\n    LRUMap.prototype.peek = function () {\n        var head = this._head;\n        return head === null ? null : head.value;\n    };\n    LRUMap.prototype.set = function (key, value) {\n        var node = this._map[key];\n        if (node !== undefined) {\n            node = this._map[key];\n            this._unlinkNode(node);\n            node.value = value;\n        }\n        else if (this.size >= this.capacity) {\n            node = this._head;\n            this._unlinkNode(node);\n            delete this._map[node.key];\n            node.key = key;\n            node.value = value;\n            this._map[key] = node;\n        }\n        else {\n            var nodePool = this._nodePool;\n            if (nodePool.length > 0) {\n                node = nodePool.pop();\n                node.key = key;\n                node.value = value;\n            }\n            else {\n                node = {\n                    prev: null,\n                    next: null,\n                    key: key,\n                    value: value\n                };\n            }\n            this._map[key] = node;\n            this.size++;\n        }\n        this._appendNode(node);\n    };\n    return LRUMap;\n}());\nexports.default = LRUMap;\n//# sourceMappingURL=LRUMap.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseCharAtlas_1 = require(\"./BaseCharAtlas\");\nvar NoneCharAtlas = (function (_super) {\n    __extends(NoneCharAtlas, _super);\n    function NoneCharAtlas(document, config) {\n        return _super.call(this) || this;\n    }\n    NoneCharAtlas.prototype.draw = function (ctx, glyph, x, y) {\n        return false;\n    };\n    return NoneCharAtlas;\n}(BaseCharAtlas_1.default));\nexports.default = NoneCharAtlas;\n//# sourceMappingURL=NoneCharAtlas.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Types_1 = require(\"./Types\");\nvar CharAtlasGenerator_1 = require(\"./CharAtlasGenerator\");\nvar BaseCharAtlas_1 = require(\"./BaseCharAtlas\");\nvar CharAtlasUtils_1 = require(\"./CharAtlasUtils\");\nvar Types_2 = require(\"../../common/Types\");\nvar StaticCharAtlas = (function (_super) {\n    __extends(StaticCharAtlas, _super);\n    function StaticCharAtlas(_document, _config) {\n        var _this = _super.call(this) || this;\n        _this._document = _document;\n        _this._config = _config;\n        _this._canvasFactory = function (width, height) {\n            var canvas = _this._document.createElement('canvas');\n            canvas.width = width;\n            canvas.height = height;\n            return canvas;\n        };\n        return _this;\n    }\n    StaticCharAtlas.prototype._doWarmUp = function () {\n        var _this = this;\n        var result = CharAtlasGenerator_1.generateStaticCharAtlasTexture(window, this._canvasFactory, this._config);\n        if (result instanceof HTMLCanvasElement) {\n            this._texture = result;\n        }\n        else {\n            result.then(function (texture) {\n                _this._texture = texture;\n            });\n        }\n    };\n    StaticCharAtlas.prototype._isCached = function (glyph, colorIndex) {\n        var isAscii = glyph.code < 256;\n        var isBasicColor = glyph.fg < 16;\n        var isDefaultColor = glyph.fg === Types_2.DEFAULT_COLOR;\n        var isDefaultBackground = glyph.bg === Types_2.DEFAULT_COLOR;\n        return isAscii && (isBasicColor || isDefaultColor) && isDefaultBackground && !glyph.italic;\n    };\n    StaticCharAtlas.prototype.draw = function (ctx, glyph, x, y) {\n        if (this._texture === null || this._texture === undefined) {\n            return false;\n        }\n        var colorIndex = 0;\n        if (CharAtlasUtils_1.is256Color(glyph.fg)) {\n            colorIndex = 2 + glyph.fg + (glyph.bold ? 16 : 0);\n        }\n        else if (glyph.fg === Types_2.DEFAULT_COLOR) {\n            if (glyph.bold) {\n                colorIndex = 1;\n            }\n        }\n        if (!this._isCached(glyph, colorIndex)) {\n            return false;\n        }\n        ctx.save();\n        var charAtlasCellWidth = this._config.scaledCharWidth + Types_1.CHAR_ATLAS_CELL_SPACING;\n        var charAtlasCellHeight = this._config.scaledCharHeight + Types_1.CHAR_ATLAS_CELL_SPACING;\n        if (glyph.dim) {\n            ctx.globalAlpha = Types_1.DIM_OPACITY;\n        }\n        ctx.drawImage(this._texture, glyph.code * charAtlasCellWidth, colorIndex * charAtlasCellHeight, charAtlasCellWidth, this._config.scaledCharHeight, x, y, charAtlasCellWidth, this._config.scaledCharHeight);\n        ctx.restore();\n        return true;\n    };\n    return StaticCharAtlas;\n}(BaseCharAtlas_1.default));\nexports.default = StaticCharAtlas;\n//# sourceMappingURL=StaticCharAtlas.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.INVERTED_DEFAULT_COLOR = 257;\nexports.DIM_OPACITY = 0.5;\nexports.CHAR_ATLAS_CELL_SPACING = 1;\n//# sourceMappingURL=Types.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DomRendererRowFactory_1 = require(\"./DomRendererRowFactory\");\nvar Types_1 = require(\"../atlas/Types\");\nvar Lifecycle_1 = require(\"../../common/Lifecycle\");\nvar TERMINAL_CLASS_PREFIX = 'xterm-dom-renderer-owner-';\nvar ROW_CONTAINER_CLASS = 'xterm-rows';\nvar FG_CLASS_PREFIX = 'xterm-fg-';\nvar BG_CLASS_PREFIX = 'xterm-bg-';\nvar FOCUS_CLASS = 'xterm-focus';\nvar SELECTION_CLASS = 'xterm-selection';\nvar nextTerminalId = 1;\nvar DomRenderer = (function (_super) {\n    __extends(DomRenderer, _super);\n    function DomRenderer(_terminal, _colors) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._colors = _colors;\n        _this._terminalClass = nextTerminalId++;\n        _this._rowElements = [];\n        _this._rowContainer = document.createElement('div');\n        _this._rowContainer.classList.add(ROW_CONTAINER_CLASS);\n        _this._rowContainer.style.lineHeight = 'normal';\n        _this._rowContainer.setAttribute('aria-hidden', 'true');\n        _this._refreshRowElements(_this._terminal.cols, _this._terminal.rows);\n        _this._selectionContainer = document.createElement('div');\n        _this._selectionContainer.classList.add(SELECTION_CLASS);\n        _this._selectionContainer.setAttribute('aria-hidden', 'true');\n        _this.dimensions = {\n            scaledCharWidth: null,\n            scaledCharHeight: null,\n            scaledCellWidth: null,\n            scaledCellHeight: null,\n            scaledCharLeft: null,\n            scaledCharTop: null,\n            scaledCanvasWidth: null,\n            scaledCanvasHeight: null,\n            canvasWidth: null,\n            canvasHeight: null,\n            actualCellWidth: null,\n            actualCellHeight: null\n        };\n        _this._updateDimensions();\n        _this._injectCss();\n        _this._rowFactory = new DomRendererRowFactory_1.DomRendererRowFactory(_terminal.options, document);\n        _this._terminal.element.classList.add(TERMINAL_CLASS_PREFIX + _this._terminalClass);\n        _this._terminal.screenElement.appendChild(_this._rowContainer);\n        _this._terminal.screenElement.appendChild(_this._selectionContainer);\n        _this._terminal.linkifier.onLinkHover(function (e) { return _this._onLinkHover(e); });\n        _this._terminal.linkifier.onLinkLeave(function (e) { return _this._onLinkLeave(e); });\n        return _this;\n    }\n    DomRenderer.prototype.dispose = function () {\n        this._terminal.element.classList.remove(TERMINAL_CLASS_PREFIX + this._terminalClass);\n        this._terminal.screenElement.removeChild(this._rowContainer);\n        this._terminal.screenElement.removeChild(this._selectionContainer);\n        this._terminal.screenElement.removeChild(this._themeStyleElement);\n        this._terminal.screenElement.removeChild(this._dimensionsStyleElement);\n        _super.prototype.dispose.call(this);\n    };\n    DomRenderer.prototype._updateDimensions = function () {\n        var _this = this;\n        this.dimensions.scaledCharWidth = this._terminal.charMeasure.width * window.devicePixelRatio;\n        this.dimensions.scaledCharHeight = Math.ceil(this._terminal.charMeasure.height * window.devicePixelRatio);\n        this.dimensions.scaledCellWidth = this.dimensions.scaledCharWidth + Math.round(this._terminal.options.letterSpacing);\n        this.dimensions.scaledCellHeight = Math.floor(this.dimensions.scaledCharHeight * this._terminal.options.lineHeight);\n        this.dimensions.scaledCharLeft = 0;\n        this.dimensions.scaledCharTop = 0;\n        this.dimensions.scaledCanvasWidth = this.dimensions.scaledCellWidth * this._terminal.cols;\n        this.dimensions.scaledCanvasHeight = this.dimensions.scaledCellHeight * this._terminal.rows;\n        this.dimensions.canvasWidth = Math.round(this.dimensions.scaledCanvasWidth / window.devicePixelRatio);\n        this.dimensions.canvasHeight = Math.round(this.dimensions.scaledCanvasHeight / window.devicePixelRatio);\n        this.dimensions.actualCellWidth = this.dimensions.canvasWidth / this._terminal.cols;\n        this.dimensions.actualCellHeight = this.dimensions.canvasHeight / this._terminal.rows;\n        this._rowElements.forEach(function (element) {\n            element.style.width = _this.dimensions.canvasWidth + \"px\";\n            element.style.height = _this.dimensions.actualCellHeight + \"px\";\n            element.style.lineHeight = _this.dimensions.actualCellHeight + \"px\";\n            element.style.overflow = 'hidden';\n        });\n        if (!this._dimensionsStyleElement) {\n            this._dimensionsStyleElement = document.createElement('style');\n            this._terminal.screenElement.appendChild(this._dimensionsStyleElement);\n        }\n        var styles = this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \" span {\" +\n            \" display: inline-block;\" +\n            \" height: 100%;\" +\n            \" vertical-align: top;\" +\n            (\" width: \" + this.dimensions.actualCellWidth + \"px\") +\n            \"}\";\n        this._dimensionsStyleElement.innerHTML = styles;\n        this._selectionContainer.style.height = this._terminal._viewportElement.style.height;\n        this._terminal.screenElement.style.width = this.dimensions.canvasWidth + \"px\";\n        this._terminal.screenElement.style.height = this.dimensions.canvasHeight + \"px\";\n    };\n    DomRenderer.prototype.setColors = function (colors) {\n        this._colors = colors;\n        this._injectCss();\n    };\n    DomRenderer.prototype._injectCss = function () {\n        var _this = this;\n        if (!this._themeStyleElement) {\n            this._themeStyleElement = document.createElement('style');\n            this._terminal.screenElement.appendChild(this._themeStyleElement);\n        }\n        var styles = this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \" {\" +\n            (\" color: \" + this._colors.foreground.css + \";\") +\n            (\" background-color: \" + this._colors.background.css + \";\") +\n            (\" font-family: \" + this._terminal.options.fontFamily + \";\") +\n            (\" font-size: \" + this._terminal.options.fontSize + \"px;\") +\n            \"}\";\n        styles +=\n            this._terminalSelector + \" span:not(.\" + DomRendererRowFactory_1.BOLD_CLASS + \") {\" +\n                (\" font-weight: \" + this._terminal.options.fontWeight + \";\") +\n                \"}\" +\n                (this._terminalSelector + \" span.\" + DomRendererRowFactory_1.BOLD_CLASS + \" {\") +\n                (\" font-weight: \" + this._terminal.options.fontWeightBold + \";\") +\n                \"}\" +\n                (this._terminalSelector + \" span.\" + DomRendererRowFactory_1.ITALIC_CLASS + \" {\") +\n                \" font-style: italic;\" +\n                \"}\";\n        styles +=\n            \"@keyframes blink {\" +\n                \" 0% { opacity: 1.0; }\" +\n                \" 50% { opacity: 0.0; }\" +\n                \" 100% { opacity: 1.0; }\" +\n                \"}\";\n        styles +=\n            this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \":not(.\" + FOCUS_CLASS + \") .\" + DomRendererRowFactory_1.CURSOR_CLASS + \" {\" +\n                (\" outline: 1px solid \" + this._colors.cursor.css + \";\") +\n                \" outline-offset: -1px;\" +\n                \"}\" +\n                (this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \".\" + FOCUS_CLASS + \" .\" + DomRendererRowFactory_1.CURSOR_CLASS + \".\" + DomRendererRowFactory_1.CURSOR_BLINK_CLASS + \" {\") +\n                \" animation: blink 1s step-end infinite;\" +\n                \"}\" +\n                (this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \".\" + FOCUS_CLASS + \" .\" + DomRendererRowFactory_1.CURSOR_CLASS + \".\" + DomRendererRowFactory_1.CURSOR_STYLE_BLOCK_CLASS + \" {\") +\n                (\" background-color: \" + this._colors.cursor.css + \";\") +\n                (\" color: \" + this._colors.cursorAccent.css + \";\") +\n                \"}\" +\n                (this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \".\" + FOCUS_CLASS + \" .\" + DomRendererRowFactory_1.CURSOR_CLASS + \".\" + DomRendererRowFactory_1.CURSOR_STYLE_BAR_CLASS + \" {\") +\n                (\" box-shadow: 1px 0 0 \" + this._colors.cursor.css + \" inset;\") +\n                \"}\" +\n                (this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \".\" + FOCUS_CLASS + \" .\" + DomRendererRowFactory_1.CURSOR_CLASS + \".\" + DomRendererRowFactory_1.CURSOR_STYLE_UNDERLINE_CLASS + \" {\") +\n                (\" box-shadow: 0 -1px 0 \" + this._colors.cursor.css + \" inset;\") +\n                \"}\";\n        styles +=\n            this._terminalSelector + \" .\" + SELECTION_CLASS + \" {\" +\n                \" position: absolute;\" +\n                \" top: 0;\" +\n                \" left: 0;\" +\n                \" z-index: 1;\" +\n                \" pointer-events: none;\" +\n                \"}\" +\n                (this._terminalSelector + \" .\" + SELECTION_CLASS + \" div {\") +\n                \" position: absolute;\" +\n                (\" background-color: \" + this._colors.selection.css + \";\") +\n                \"}\";\n        this._colors.ansi.forEach(function (c, i) {\n            styles +=\n                _this._terminalSelector + \" .\" + FG_CLASS_PREFIX + i + \" { color: \" + c.css + \"; }\" +\n                    (_this._terminalSelector + \" .\" + BG_CLASS_PREFIX + i + \" { background-color: \" + c.css + \"; }\");\n        });\n        styles +=\n            this._terminalSelector + \" .\" + FG_CLASS_PREFIX + Types_1.INVERTED_DEFAULT_COLOR + \" { color: \" + this._colors.background.css + \"; }\" +\n                (this._terminalSelector + \" .\" + BG_CLASS_PREFIX + Types_1.INVERTED_DEFAULT_COLOR + \" { background-color: \" + this._colors.foreground.css + \"; }\");\n        this._themeStyleElement.innerHTML = styles;\n    };\n    DomRenderer.prototype.onDevicePixelRatioChange = function () {\n        this._updateDimensions();\n    };\n    DomRenderer.prototype._refreshRowElements = function (cols, rows) {\n        for (var i = this._rowElements.length; i <= rows; i++) {\n            var row = document.createElement('div');\n            this._rowContainer.appendChild(row);\n            this._rowElements.push(row);\n        }\n        while (this._rowElements.length > rows) {\n            this._rowContainer.removeChild(this._rowElements.pop());\n        }\n    };\n    DomRenderer.prototype.onResize = function (cols, rows) {\n        this._refreshRowElements(cols, rows);\n        this._updateDimensions();\n    };\n    DomRenderer.prototype.onCharSizeChanged = function () {\n        this._updateDimensions();\n    };\n    DomRenderer.prototype.onBlur = function () {\n        this._rowContainer.classList.remove(FOCUS_CLASS);\n    };\n    DomRenderer.prototype.onFocus = function () {\n        this._rowContainer.classList.add(FOCUS_CLASS);\n    };\n    DomRenderer.prototype.onSelectionChanged = function (start, end, columnSelectMode) {\n        while (this._selectionContainer.children.length) {\n            this._selectionContainer.removeChild(this._selectionContainer.children[0]);\n        }\n        if (!start || !end) {\n            return;\n        }\n        var viewportStartRow = start[1] - this._terminal.buffer.ydisp;\n        var viewportEndRow = end[1] - this._terminal.buffer.ydisp;\n        var viewportCappedStartRow = Math.max(viewportStartRow, 0);\n        var viewportCappedEndRow = Math.min(viewportEndRow, this._terminal.rows - 1);\n        if (viewportCappedStartRow >= this._terminal.rows || viewportCappedEndRow < 0) {\n            return;\n        }\n        var documentFragment = document.createDocumentFragment();\n        if (columnSelectMode) {\n            documentFragment.appendChild(this._createSelectionElement(viewportCappedStartRow, start[0], end[0], viewportCappedEndRow - viewportCappedStartRow + 1));\n        }\n        else {\n            var startCol = viewportStartRow === viewportCappedStartRow ? start[0] : 0;\n            var endCol = viewportCappedStartRow === viewportCappedEndRow ? end[0] : this._terminal.cols;\n            documentFragment.appendChild(this._createSelectionElement(viewportCappedStartRow, startCol, endCol));\n            var middleRowsCount = viewportCappedEndRow - viewportCappedStartRow - 1;\n            documentFragment.appendChild(this._createSelectionElement(viewportCappedStartRow + 1, 0, this._terminal.cols, middleRowsCount));\n            if (viewportCappedStartRow !== viewportCappedEndRow) {\n                var endCol_1 = viewportEndRow === viewportCappedEndRow ? end[0] : this._terminal.cols;\n                documentFragment.appendChild(this._createSelectionElement(viewportCappedEndRow, 0, endCol_1));\n            }\n        }\n        this._selectionContainer.appendChild(documentFragment);\n    };\n    DomRenderer.prototype._createSelectionElement = function (row, colStart, colEnd, rowCount) {\n        if (rowCount === void 0) { rowCount = 1; }\n        var element = document.createElement('div');\n        element.style.height = rowCount * this.dimensions.actualCellHeight + \"px\";\n        element.style.top = row * this.dimensions.actualCellHeight + \"px\";\n        element.style.left = colStart * this.dimensions.actualCellWidth + \"px\";\n        element.style.width = this.dimensions.actualCellWidth * (colEnd - colStart) + \"px\";\n        return element;\n    };\n    DomRenderer.prototype.onCursorMove = function () {\n    };\n    DomRenderer.prototype.onOptionsChanged = function () {\n        this._updateDimensions();\n        this._injectCss();\n        this._terminal.refresh(0, this._terminal.rows - 1);\n    };\n    DomRenderer.prototype.clear = function () {\n        this._rowElements.forEach(function (e) { return e.innerHTML = ''; });\n    };\n    DomRenderer.prototype.renderRows = function (start, end) {\n        var terminal = this._terminal;\n        var cursorAbsoluteY = terminal.buffer.ybase + terminal.buffer.y;\n        var cursorX = this._terminal.buffer.x;\n        var cursorBlink = this._terminal.options.cursorBlink;\n        for (var y = start; y <= end; y++) {\n            var rowElement = this._rowElements[y];\n            rowElement.innerHTML = '';\n            var row = y + terminal.buffer.ydisp;\n            var lineData = terminal.buffer.lines.get(row);\n            var cursorStyle = terminal.options.cursorStyle;\n            rowElement.appendChild(this._rowFactory.createRow(lineData, row === cursorAbsoluteY, cursorStyle, cursorX, cursorBlink, this.dimensions.actualCellWidth, terminal.cols));\n        }\n    };\n    Object.defineProperty(DomRenderer.prototype, \"_terminalSelector\", {\n        get: function () {\n            return \".\" + TERMINAL_CLASS_PREFIX + this._terminalClass;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    DomRenderer.prototype.registerCharacterJoiner = function (handler) { return -1; };\n    DomRenderer.prototype.deregisterCharacterJoiner = function (joinerId) { return false; };\n    DomRenderer.prototype._onLinkHover = function (e) {\n        this._setCellUnderline(e.x1, e.x2, e.y1, e.y2, e.cols, true);\n    };\n    DomRenderer.prototype._onLinkLeave = function (e) {\n        this._setCellUnderline(e.x1, e.x2, e.y1, e.y2, e.cols, false);\n    };\n    DomRenderer.prototype._setCellUnderline = function (x, x2, y, y2, cols, enabled) {\n        while (x !== x2 || y !== y2) {\n            var row = this._rowElements[y];\n            if (!row) {\n                return;\n            }\n            var span = row.children[x];\n            if (span) {\n                span.style.textDecoration = enabled ? 'underline' : 'none';\n            }\n            if (++x >= cols) {\n                x = 0;\n                y++;\n            }\n        }\n    };\n    return DomRenderer;\n}(Lifecycle_1.Disposable));\nexports.DomRenderer = DomRenderer;\n//# sourceMappingURL=DomRenderer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Types_1 = require(\"../atlas/Types\");\nvar BufferLine_1 = require(\"../../core/buffer/BufferLine\");\nexports.BOLD_CLASS = 'xterm-bold';\nexports.DIM_CLASS = 'xterm-dim';\nexports.ITALIC_CLASS = 'xterm-italic';\nexports.UNDERLINE_CLASS = 'xterm-underline';\nexports.CURSOR_CLASS = 'xterm-cursor';\nexports.CURSOR_BLINK_CLASS = 'xterm-cursor-blink';\nexports.CURSOR_STYLE_BLOCK_CLASS = 'xterm-cursor-block';\nexports.CURSOR_STYLE_BAR_CLASS = 'xterm-cursor-bar';\nexports.CURSOR_STYLE_UNDERLINE_CLASS = 'xterm-cursor-underline';\nvar DomRendererRowFactory = (function () {\n    function DomRendererRowFactory(_terminalOptions, _document) {\n        this._terminalOptions = _terminalOptions;\n        this._document = _document;\n        this._workCell = new BufferLine_1.CellData();\n    }\n    DomRendererRowFactory.prototype.createRow = function (lineData, isCursorRow, cursorStyle, cursorX, cursorBlink, cellWidth, cols) {\n        var fragment = this._document.createDocumentFragment();\n        var lineLength = 0;\n        for (var x = Math.min(lineData.length, cols) - 1; x >= 0; x--) {\n            if (lineData.loadCell(x, this._workCell).getCode() !== BufferLine_1.NULL_CELL_CODE || (isCursorRow && x === cursorX)) {\n                lineLength = x + 1;\n                break;\n            }\n        }\n        for (var x = 0; x < lineLength; x++) {\n            lineData.loadCell(x, this._workCell);\n            var width = this._workCell.getWidth();\n            if (width === 0) {\n                continue;\n            }\n            var charElement = this._document.createElement('span');\n            if (width > 1) {\n                charElement.style.width = cellWidth * width + \"px\";\n            }\n            if (isCursorRow && x === cursorX) {\n                charElement.classList.add(exports.CURSOR_CLASS);\n                if (cursorBlink) {\n                    charElement.classList.add(exports.CURSOR_BLINK_CLASS);\n                }\n                switch (cursorStyle) {\n                    case 'bar':\n                        charElement.classList.add(exports.CURSOR_STYLE_BAR_CLASS);\n                        break;\n                    case 'underline':\n                        charElement.classList.add(exports.CURSOR_STYLE_UNDERLINE_CLASS);\n                        break;\n                    default:\n                        charElement.classList.add(exports.CURSOR_STYLE_BLOCK_CLASS);\n                        break;\n                }\n            }\n            if (this._workCell.isBold() && this._terminalOptions.enableBold) {\n                charElement.classList.add(exports.BOLD_CLASS);\n            }\n            if (this._workCell.isItalic()) {\n                charElement.classList.add(exports.ITALIC_CLASS);\n            }\n            if (this._workCell.isDim()) {\n                charElement.classList.add(exports.DIM_CLASS);\n            }\n            if (this._workCell.isUnderline()) {\n                charElement.classList.add(exports.UNDERLINE_CLASS);\n            }\n            charElement.textContent = this._workCell.getChars() || BufferLine_1.WHITESPACE_CELL_CHAR;\n            var swapColor = this._workCell.isInverse();\n            if (this._workCell.isFgRGB()) {\n                var style = charElement.getAttribute('style') || '';\n                style += (swapColor ? 'background-' : '') + \"color:rgb(\" + (BufferLine_1.AttributeData.toColorRGB(this._workCell.getFgColor())).join(',') + \");\";\n                charElement.setAttribute('style', style);\n            }\n            else if (this._workCell.isFgPalette()) {\n                var fg = this._workCell.getFgColor();\n                if (this._workCell.isBold() && fg < 8 && !swapColor &&\n                    this._terminalOptions.enableBold && this._terminalOptions.drawBoldTextInBrightColors) {\n                    fg += 8;\n                }\n                charElement.classList.add(\"xterm-\" + (swapColor ? 'b' : 'f') + \"g-\" + fg);\n            }\n            else if (swapColor) {\n                charElement.classList.add(\"xterm-bg-\" + Types_1.INVERTED_DEFAULT_COLOR);\n            }\n            if (this._workCell.isBgRGB()) {\n                var style = charElement.getAttribute('style') || '';\n                style += (swapColor ? '' : 'background-') + \"color:rgb(\" + (BufferLine_1.AttributeData.toColorRGB(this._workCell.getBgColor())).join(',') + \");\";\n                charElement.setAttribute('style', style);\n            }\n            else if (this._workCell.isBgPalette()) {\n                charElement.classList.add(\"xterm-\" + (swapColor ? 'f' : 'b') + \"g-\" + this._workCell.getBgColor());\n            }\n            else if (swapColor) {\n                charElement.classList.add(\"xterm-fg-\" + Types_1.INVERTED_DEFAULT_COLOR);\n            }\n            fragment.appendChild(charElement);\n        }\n        return fragment;\n    };\n    return DomRendererRowFactory;\n}());\nexports.DomRendererRowFactory = DomRendererRowFactory;\n//# sourceMappingURL=DomRendererRowFactory.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DEFAULT_FOREGROUND = fromHex('#ffffff');\nvar DEFAULT_BACKGROUND = fromHex('#000000');\nvar DEFAULT_CURSOR = fromHex('#ffffff');\nvar DEFAULT_CURSOR_ACCENT = fromHex('#000000');\nvar DEFAULT_SELECTION = {\n    css: 'rgba(255, 255, 255, 0.3)',\n    rgba: 0xFFFFFF77\n};\nexports.DEFAULT_ANSI_COLORS = (function () {\n    var colors = [\n        fromHex('#2e3436'),\n        fromHex('#cc0000'),\n        fromHex('#4e9a06'),\n        fromHex('#c4a000'),\n        fromHex('#3465a4'),\n        fromHex('#75507b'),\n        fromHex('#06989a'),\n        fromHex('#d3d7cf'),\n        fromHex('#555753'),\n        fromHex('#ef2929'),\n        fromHex('#8ae234'),\n        fromHex('#fce94f'),\n        fromHex('#729fcf'),\n        fromHex('#ad7fa8'),\n        fromHex('#34e2e2'),\n        fromHex('#eeeeec')\n    ];\n    var v = [0x00, 0x5f, 0x87, 0xaf, 0xd7, 0xff];\n    for (var i = 0; i < 216; i++) {\n        var r = v[(i / 36) % 6 | 0];\n        var g = v[(i / 6) % 6 | 0];\n        var b = v[i % 6];\n        colors.push({\n            css: \"#\" + toPaddedHex(r) + toPaddedHex(g) + toPaddedHex(b),\n            rgba: ((r << 24) | (g << 16) | (b << 8) | 0xFF) >>> 0\n        });\n    }\n    for (var i = 0; i < 24; i++) {\n        var c = 8 + i * 10;\n        var ch = toPaddedHex(c);\n        colors.push({\n            css: \"#\" + ch + ch + ch,\n            rgba: ((c << 24) | (c << 16) | (c << 8) | 0xFF) >>> 0\n        });\n    }\n    return colors;\n})();\nfunction fromHex(css) {\n    return {\n        css: css,\n        rgba: parseInt(css.slice(1), 16) << 8 | 0xFF\n    };\n}\nfunction toPaddedHex(c) {\n    var s = c.toString(16);\n    return s.length < 2 ? '0' + s : s;\n}\nvar ColorManager = (function () {\n    function ColorManager(document, allowTransparency) {\n        this.allowTransparency = allowTransparency;\n        var canvas = document.createElement('canvas');\n        canvas.width = 1;\n        canvas.height = 1;\n        var ctx = canvas.getContext('2d');\n        if (!ctx) {\n            throw new Error('Could not get rendering context');\n        }\n        this._ctx = ctx;\n        this._ctx.globalCompositeOperation = 'copy';\n        this._litmusColor = this._ctx.createLinearGradient(0, 0, 1, 1);\n        this.colors = {\n            foreground: DEFAULT_FOREGROUND,\n            background: DEFAULT_BACKGROUND,\n            cursor: DEFAULT_CURSOR,\n            cursorAccent: DEFAULT_CURSOR_ACCENT,\n            selection: DEFAULT_SELECTION,\n            ansi: exports.DEFAULT_ANSI_COLORS.slice()\n        };\n    }\n    ColorManager.prototype.setTheme = function (theme) {\n        if (theme === void 0) { theme = {}; }\n        this.colors.foreground = this._parseColor(theme.foreground, DEFAULT_FOREGROUND);\n        this.colors.background = this._parseColor(theme.background, DEFAULT_BACKGROUND);\n        this.colors.cursor = this._parseColor(theme.cursor, DEFAULT_CURSOR, true);\n        this.colors.cursorAccent = this._parseColor(theme.cursorAccent, DEFAULT_CURSOR_ACCENT, true);\n        this.colors.selection = this._parseColor(theme.selection, DEFAULT_SELECTION, true);\n        this.colors.ansi[0] = this._parseColor(theme.black, exports.DEFAULT_ANSI_COLORS[0]);\n        this.colors.ansi[1] = this._parseColor(theme.red, exports.DEFAULT_ANSI_COLORS[1]);\n        this.colors.ansi[2] = this._parseColor(theme.green, exports.DEFAULT_ANSI_COLORS[2]);\n        this.colors.ansi[3] = this._parseColor(theme.yellow, exports.DEFAULT_ANSI_COLORS[3]);\n        this.colors.ansi[4] = this._parseColor(theme.blue, exports.DEFAULT_ANSI_COLORS[4]);\n        this.colors.ansi[5] = this._parseColor(theme.magenta, exports.DEFAULT_ANSI_COLORS[5]);\n        this.colors.ansi[6] = this._parseColor(theme.cyan, exports.DEFAULT_ANSI_COLORS[6]);\n        this.colors.ansi[7] = this._parseColor(theme.white, exports.DEFAULT_ANSI_COLORS[7]);\n        this.colors.ansi[8] = this._parseColor(theme.brightBlack, exports.DEFAULT_ANSI_COLORS[8]);\n        this.colors.ansi[9] = this._parseColor(theme.brightRed, exports.DEFAULT_ANSI_COLORS[9]);\n        this.colors.ansi[10] = this._parseColor(theme.brightGreen, exports.DEFAULT_ANSI_COLORS[10]);\n        this.colors.ansi[11] = this._parseColor(theme.brightYellow, exports.DEFAULT_ANSI_COLORS[11]);\n        this.colors.ansi[12] = this._parseColor(theme.brightBlue, exports.DEFAULT_ANSI_COLORS[12]);\n        this.colors.ansi[13] = this._parseColor(theme.brightMagenta, exports.DEFAULT_ANSI_COLORS[13]);\n        this.colors.ansi[14] = this._parseColor(theme.brightCyan, exports.DEFAULT_ANSI_COLORS[14]);\n        this.colors.ansi[15] = this._parseColor(theme.brightWhite, exports.DEFAULT_ANSI_COLORS[15]);\n    };\n    ColorManager.prototype._parseColor = function (css, fallback, allowTransparency) {\n        if (allowTransparency === void 0) { allowTransparency = this.allowTransparency; }\n        if (css === undefined) {\n            return fallback;\n        }\n        this._ctx.fillStyle = this._litmusColor;\n        this._ctx.fillStyle = css;\n        if (typeof this._ctx.fillStyle !== 'string') {\n            console.warn(\"Color: \" + css + \" is invalid using fallback \" + fallback.css);\n            return fallback;\n        }\n        this._ctx.fillRect(0, 0, 1, 1);\n        var data = this._ctx.getImageData(0, 0, 1, 1).data;\n        if (!allowTransparency && data[3] !== 0xFF) {\n            console.warn(\"Color: \" + css + \" is using transparency, but allowTransparency is false. \" +\n                (\"Using fallback \" + fallback.css + \".\"));\n            return fallback;\n        }\n        return {\n            css: css,\n            rgba: (data[0] << 24 | data[1] << 16 | data[2] << 8 | data[3]) >>> 0\n        };\n    };\n    return ColorManager;\n}());\nexports.ColorManager = ColorManager;\n//# sourceMappingURL=ColorManager.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction addDisposableDomListener(node, type, handler, useCapture) {\n    node.addEventListener(type, handler, useCapture);\n    return {\n        dispose: function () {\n            if (!handler) {\n                return;\n            }\n            node.removeEventListener(type, handler, useCapture);\n        }\n    };\n}\nexports.addDisposableDomListener = addDisposableDomListener;\n//# sourceMappingURL=Lifecycle.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RenderDebouncer = (function () {\n    function RenderDebouncer(_renderCallback) {\n        this._renderCallback = _renderCallback;\n    }\n    RenderDebouncer.prototype.dispose = function () {\n        if (this._animationFrame) {\n            window.cancelAnimationFrame(this._animationFrame);\n            this._animationFrame = undefined;\n        }\n    };\n    RenderDebouncer.prototype.refresh = function (rowStart, rowEnd, rowCount) {\n        var _this = this;\n        this._rowCount = rowCount;\n        rowStart = rowStart !== undefined ? rowStart : 0;\n        rowEnd = rowEnd !== undefined ? rowEnd : this._rowCount - 1;\n        this._rowStart = this._rowStart !== undefined ? Math.min(this._rowStart, rowStart) : rowStart;\n        this._rowEnd = this._rowEnd !== undefined ? Math.max(this._rowEnd, rowEnd) : rowEnd;\n        if (this._animationFrame) {\n            return;\n        }\n        this._animationFrame = window.requestAnimationFrame(function () { return _this._innerRefresh(); });\n    };\n    RenderDebouncer.prototype._innerRefresh = function () {\n        if (this._rowStart === undefined || this._rowEnd === undefined || this._rowCount === undefined) {\n            return;\n        }\n        this._rowStart = Math.max(this._rowStart, 0);\n        this._rowEnd = Math.min(this._rowEnd, this._rowCount - 1);\n        this._renderCallback(this._rowStart, this._rowEnd);\n        this._rowStart = undefined;\n        this._rowEnd = undefined;\n        this._animationFrame = undefined;\n    };\n    return RenderDebouncer;\n}());\nexports.RenderDebouncer = RenderDebouncer;\n//# sourceMappingURL=RenderDebouncer.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Lifecycle_1 = require(\"../common/Lifecycle\");\nvar ScreenDprMonitor = (function (_super) {\n    __extends(ScreenDprMonitor, _super);\n    function ScreenDprMonitor() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._currentDevicePixelRatio = window.devicePixelRatio;\n        return _this;\n    }\n    ScreenDprMonitor.prototype.setListener = function (listener) {\n        var _this = this;\n        if (this._listener) {\n            this.clearListener();\n        }\n        this._listener = listener;\n        this._outerListener = function () {\n            if (!_this._listener) {\n                return;\n            }\n            _this._listener(window.devicePixelRatio, _this._currentDevicePixelRatio);\n            _this._updateDpr();\n        };\n        this._updateDpr();\n    };\n    ScreenDprMonitor.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this.clearListener();\n    };\n    ScreenDprMonitor.prototype._updateDpr = function () {\n        if (!this._resolutionMediaMatchList || !this._outerListener) {\n            return;\n        }\n        this._resolutionMediaMatchList.removeListener(this._outerListener);\n        this._currentDevicePixelRatio = window.devicePixelRatio;\n        this._resolutionMediaMatchList = window.matchMedia(\"screen and (resolution: \" + window.devicePixelRatio + \"dppx)\");\n        this._resolutionMediaMatchList.addListener(this._outerListener);\n    };\n    ScreenDprMonitor.prototype.clearListener = function () {\n        if (!this._resolutionMediaMatchList || !this._listener || !this._outerListener) {\n            return;\n        }\n        this._resolutionMediaMatchList.removeListener(this._outerListener);\n        this._resolutionMediaMatchList = undefined;\n        this._listener = undefined;\n        this._outerListener = undefined;\n    };\n    return ScreenDprMonitor;\n}(Lifecycle_1.Disposable));\nexports.ScreenDprMonitor = ScreenDprMonitor;\n//# sourceMappingURL=ScreenDprMonitor.js.map"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticStyle","$t","on","selectedNamespace","nativeOn","$event","getNamespace","apply","arguments","model","value","callback","$$v","namespace","expression","_l","item","key","staticClass","current_page","page_sizes","page_size","total_count","handleSizeChange","handleCurrentChange","search_key","directives","name","rawName","table_data","filter","data","pod_name","toLowerCase","includes","node_name","host_ip","prop","order","scopedSlots","_u","fn","scope","row","state","_v","_s","_e","State","list","ip","ref","c","openTerminal","slot","openFileBrowser","dialog_terminal_visible","doOpened","doClose","dialog_file_browser_visible","openFileDialog","global_path","createDir","uploadFileOrDir","bulkDownload","bulk_path","path","padding","file_browser_data","Name","handleSelectionChange","Path","Size","download","IsDir","openRenameDialog","removeFileOrDir","dialog_file_visible","create_for_path","create_name","saveFile","fileContent","staticRenderFns","version","VERSION","_hasatob","atob","_hasbtoa","btoa","_hasBuffer","Buffer","_TD","TextDecoder","undefined","_TE","TextEncoder","b64ch","b64chs","Array","prototype","slice","call","b64tab","a","tab","forEach","i","b64re","_fromCC","String","fromCharCode","bind","_U8Afrom","Uint8Array","from","it","x","map","_mkUriSafe","src","replace","m0","_tidyB64","s","btoaPolyfill","bin","u32","c0","c1","c2","asc","pad","length","charCodeAt","TypeError","substring","_btoa","toString","_fromUint8Array","u8a","maxargs","strs","l","push","subarray","join","fromUint8Array","urlsafe","cb_utob","cc","re_utob","utob","u","_encode","encode","re_btou","cb_btou","cccc","cp","offset","btou","b","atobPolyfill","test","u24","r1","r2","charAt","_atob","_toUint8Array","toUint8Array","_unURI","_decode","decode","isValid","_noEnum","v","enumerable","writable","configurable","extendString","_add","body","Object","defineProperty","extendUint8Array","extendBuiltins","gBase64","fromBase64","toBase64","encodeURI","encodeURL","toolbar_options","header","script","indent","size","color","background","font","align","defaultTheme","foreground","cursor","selection","black","brightBlack","red","brightRed","green","brightGreen","yellow","brightYellow","magenta","brightMagenta","blue","brightBlue","cyan","brightCyan","white","brightWhite","bindTerminalResize","term","websocket","Base64","JSON","type","rows","cols","bindTerminal","bidirectional","bufferedTime","messageBuffer","setTimeout","input","clearInterval","namespaces","table_datas","pods","continue","container","header_paths","ws_url","ws","thisV","is_new_file","editor_option","theme","modules","toolbar","methods","GetNamespace","GetPods","limit","err","getTableData","os","arch","create_time","pod_ips","containers","restart_count","getRestartTimes","restartCount","shell","_p","_pa","FileBrowserList","pod","then","res","FileBrowserOpen","console","FileBrowserCreateFile","confirmButtonText","cancelButtonText","FileBrowserCreateDir","catch","FileBrowserRename","old_path","FileBrowserRemove","val","window","paths","e","formData","Upload","dest_path","showInput","onWindowResize","doLink","Terminal","rendererType","convertEol","disableStdin","fontSize","cursorBlink","cursorStyle","bellStyle","watch","visible","created","component","__extends","extendStatics","d","setPrototypeOf","__proto__","p","hasOwnProperty","__","constructor","create","exports","Strings","Platform_1","RenderDebouncer_1","Lifecycle_1","Lifecycle_2","ScreenDprMonitor_1","MAX_ROWS_TO_READ","AccessibilityManager","_super","_terminal","_dimensions","_this","_liveRegionLineCount","_charsToConsume","_charsToAnnounce","_accessibilityTreeRoot","document","createElement","classList","add","_rowContainer","_rowElements","_createAccessibilityTreeNode","appendChild","_topBoundaryFocusListener","_onBoundaryFocus","_bottomBoundaryFocusListener","addEventListener","_refreshRowsDimensions","_renderRowsDebouncer","RenderDebouncer","_renderRows","_refreshRows","_liveRegion","setAttribute","element","insertAdjacentElement","register","onResize","_onResize","onRender","start","end","onScroll","addDisposableListener","char","_onChar","onLineFeed","spaceCount","_onTab","onKey","_onKey","_clearLiveRegion","_screenDprMonitor","ScreenDprMonitor","setListener","addDisposableDomListener","dispose","removeChild","position","boundaryElement","target","beforeBoundaryElement","posInSet","getAttribute","lastRowPos","buffer","lines","relatedTarget","topBoundaryElement","bottomBoundaryElement","pop","shift","removeEventListener","newElement","unshift","scrollLines","focus","preventDefault","stopImmediatePropagation","children","tabIndex","_refreshRowDimensions","shiftedChar","textContent","tooMuchOutput","isMac","parentNode","keyChar","refresh","setSize","lineData","translateBufferLineToString","ydisp","blankLine","_announceCharacters","actualCellHeight","setDimensions","dimensions","style","height","Disposable","CircularList_1","BufferLine_1","BufferReflow_1","Marker_1","MAX_BUFFER_SIZE","_hasScrollback","savedCurAttrData","DEFAULT_ATTR_DATA","clone","markers","_nullCell","CellData","fromCharData","NULL_CELL_CHAR","NULL_CELL_WIDTH","NULL_CELL_CODE","_whitespaceCell","WHITESPACE_CELL_CHAR","WHITESPACE_CELL_WIDTH","WHITESPACE_CELL_CODE","_cols","_rows","clear","getNullCell","attr","fg","bg","getWhitespaceCell","getBlankLine","isWrapped","BufferLine","get","maxLength","absoluteY","ybase","y","relativeY","_getCorrectBufferLength","correctBufferLength","options","scrollback","fillViewportRows","fillAttr","CircularList","scrollTop","scrollBottom","setupTabStops","resize","newCols","newRows","nullCell","newMaxLength","addToY","amountToTrim","trimStart","Math","max","min","savedY","savedX","_isReflowEnabled","_reflow","windowsMode","_reflowLarger","_reflowSmaller","toRemove","reflowLargerGetLinesToRemove","newLayoutResult","reflowLargerCreateNewLayout","reflowLargerApplyNewLayout","layout","_reflowLargerAdjustViewport","countRemoved","viewportAdjustments","toInsert","countToInsert","nextLine","getTrimmedLength","wrappedLines","lastLineLength","destLineLengths","reflowSmallerGetNewLineLengths","linesToAdd","trimmedLines","newLines","newLine","destLineIndex","destCol","srcLineIndex","srcCol","cellsToCopy","copyCellsFrom","wrappedLinesIndex","getWrappedLineTrimmedLength","setCell","insertEvents","originalLines","originalLinesLength","originalLineIndex","nextToInsertIndex","nextToInsert","countInsertedSoFar","nextI","set","index","amount","insertCountEmitted","onInsertEmitter","fire","onTrimEmitter","stringIndexToBufferIndex","lineIndex","stringIndex","trimRight","line","length_1","CHAR_DATA_WIDTH_INDEX","CHAR_DATA_CHAR_INDEX","startCol","endCol","translateToString","getWrappedRangeForLine","first","last","tabs","prevStop","tabStopWidth","nextStop","addMarker","marker","Marker","onTrim","onInsert","event","onDelete","onDispose","_removeMarker","splice","indexOf","iterator","startIndex","endIndex","startOverscan","endOverscan","BufferStringIterator","_buffer","_trimRight","_startIndex","_endIndex","_startOverscan","_endOverscan","_current","hasNext","next","range","result","content","Buffer_1","EventEmitter2_1","BufferSet","_onBufferActivate","EventEmitter2","_normal","_alt","_activeBuffer","activateNormalBuffer","activeBuffer","inactiveBuffer","activateAltBuffer","CharMeasure","parentElement","_onCharSizeChanged","_document","_parentElement","_measureElement","_width","_height","measure","fontFamily","geometry","getBoundingClientRect","width","adjustedHeight","ceil","TypedArrayUtils_1","getStringCellWidth","code","wcwidth","second","opts","COMBINING_BMP","COMBINING_HIGH","bisearch","ucs","mid","wcwidthHigh","control","table","fill","nul","r","num","prepareTextForTerminal","text","bracketTextForPaste","bracketedPasteMode","copyHandler","ev","selectionManager","browser","isMSIE","clipboardData","setData","selectionText","pasteHandler","stopPropagation","dispatchPaste","handler","textarea","emit","cancel","getData","moveTextAreaUnderMouseCursor","pos","screenElement","left","clientX","top","clientY","zIndex","rightClickHandler","shouldSelectWord","isClickInSelection","selectWordAtCursor","select","CompositionHelper","_textarea","_compositionView","_isComposing","_isSendingComposition","_compositionPosition","compositionstart","compositionupdate","updateCompositionElements","compositionend","_finalizeComposition","keydown","keyCode","_handleAnyTextareaChanges","waitForPropagation","remove","_clearTextareaPosition","currentCompositionPosition_1","oldValue","newValue","diff","dontRecurse","isCursorInViewport","cellHeight","charMeasure","lineHeight","cursorTop","cursorLeft","compositionViewBounds","TextDecoder_1","low","high","arr","TransitionTable","action","addMany","codes","PRINTABLES","EXECUTABLES","NON_ASCII_PRINTABLE","VT500_TRANSITION_TABLE","states","DcsDummy","hook","collect","params","flag","put","unhook","EscapeSequenceParser","TRANSITIONS","initialState","currentState","_osc","_params","_collect","_printHandlerFb","_executeHandlerFb","_csiHandlerFb","_escHandlerFb","_oscHandlerFb","identifier","_dcsHandlerFb","_errorHandlerFb","_printHandler","_executeHandlers","_csiHandlers","_escHandlers","_oscHandlers","_dcsHandlers","_activeDcsHandler","_errorHandler","setEscHandler","setPrintHandler","clearPrintHandler","setExecuteHandler","clearExecuteHandler","setExecuteHandlerFallback","addCsiHandler","handlerList","handlerIndex","setCsiHandler","clearCsiHandler","setCsiHandlerFallback","collectAndFlag","clearEscHandler","setEscHandlerFallback","addOscHandler","ident","setOscHandler","clearOscHandler","setOscHandlerFallback","setDcsHandler","clearDcsHandler","setDcsHandlerFallback","setErrorHandler","clearErrorHandler","reset","parse","transition","error","print","dcs","osc","dcsHandler","inject","abort","handlers","j","j_1","utf32ToString","idx","parseInt","handlers_1","j_2","EscapeSequences_1","Charsets_1","CharWidth_1","EscapeSequenceParser_1","GLEVEL","DECRQSS","_data","Uint32Array","concat","C0","ESC","pt","STYLES","getOption","InputHandler","_parser","_parseBuffer","_stringDecoder","StringToUtf32","_utf8Decoder","Utf8ToUtf32","_workCell","_onCursorMove","_onData","_onLineFeed","_onScroll","insertChars","cursorUp","cursorDown","cursorForward","cursorBackward","cursorNextLine","cursorPrecedingLine","cursorCharAbsolute","cursorPosition","cursorForwardTab","eraseInDisplay","eraseInLine","insertLines","deleteLines","deleteChars","scrollUp","scrollDown","eraseChars","cursorBackwardTab","charPosAbsolute","hPositionRelative","repeatPrecedingCharacter","sendDeviceAttributes","linePosAbsolute","vPositionRelative","hVPosition","tabClear","setMode","resetMode","charAttributes","deviceStatus","softReset","setCursorStyle","setScrollRegion","saveCursor","restoreCursor","BEL","bell","LF","lineFeed","VT","FF","CR","carriageReturn","BS","backspace","HT","SO","shiftOut","SI","shiftIn","C1","IND","NEL","HTS","tabSet","setTitle","reverseIndex","keypadApplicationMode","keypadNumericMode","setgLevel","selectDefaultCharset","_loop_1","this_1","selectCharset","CHARSETS","cursorStartX","cursorStartY","debug","log","parseUtf8","chWidth","charset","screenReaderMode","wraparoundMode","insertMode","curAttr","curAttrData","bufferRow","updateRange","ch","stringFromCodePoint","scroll","insertCells","getWidth","setCellFromCodePoint","addCodepointToCell","originalX","eraseAttrData","param","col","_eraseInBufferLine","clearWrap","replaceCells","_resetBufferLine","scrollBackSize","scrollBottomRowsOffset","scrollBottomAbsolute","deleteCells","loadCell","is","applicationCursor","setgCharset","DEFAULT_CHARSET","savedCols","originMode","applicationKeypad","viewport","syncScrollArea","x10Mouse","vt200Mouse","normalMouse","mouseEvents","disable","sendFocus","utfMouse","sgrMouse","urxvtMouse","cursorHidden","buffers","showCursor","enable","AttributeData","fromColorRGB","glevel","charsets","setOption","isBlinking","handleTitle","level","MouseZoneManager_1","Linkifier","_linkMatchers","_nextLinkMatcherId","_onLinkHover","_onLinkLeave","_onLinkTooltip","_rowsToLinkify","attachToDom","mouseZoneManager","_mouseZoneManager","linkifyRows","clearAll","_rowsTimeoutId","clearTimeout","_linkifyRows","TIME_BEFORE_LINKIFY","absoluteRowIndexStart","absoluteRowIndexEnd","overscanLineLimit","OVERSCAN_CHAR_LIMIT","_doLinkifyRow","registerLinkMatcher","regex","Error","matcher","id","matchIndex","validationCallback","hoverTooltipCallback","tooltipCallback","hoverLeaveCallback","leaveCallback","willLinkActivate","priority","_addLinkMatcherToList","deregisterLinkMatcher","matcherId","rowIndex","match","rex","RegExp","source","flags","uri","lastIndex","bufferIndex","getFg","_addLink","exec","state_1","x1","y1","floor","x2","y2","MouseZone","open","_createLinkHoverEvent","MouseHelper","_renderCoordinator","getCoordsRelativeToElement","rect","getCoords","colCount","rowCount","isSelection","coords","actualCellWidth","getRawByteCoords","HOVER_DURATION","MouseZoneManager","_zones","_areZonesActive","_tooltipTimeout","_currentZone","_lastHoverCoords","_onMouseDown","_mouseMoveListener","_onMouseMove","_mouseLeaveListener","_onMouseLeave","_clickListener","_onClick","_deactivate","zone","_activate","pageX","pageY","_onHover","_findZoneEventAt","hoverCallback","_onTooltip","_initialSelectionLength","getSelection","currentSelectionLength","clickCallback","mouseHelper","MouseHelper_1","Browser","SelectionModel_1","AltClickHandler_1","DRAG_SCROLL_MAX_THRESHOLD","DRAG_SCROLL_MAX_SPEED","DRAG_SCROLL_INTERVAL","ALT_CLICK_MOVE_CURSOR_TIME","WORD_SEPARATORS","NON_BREAKING_SPACE_CHAR","ALL_NON_BREAKING_SPACE_REGEX","SelectionManager","_charMeasure","_enabled","_onLinuxMouseSelection","_onRedrawRequest","_onSelectionChange","_initListeners","_model","SelectionModel","_activeSelectionMode","_removeMouseDownListeners","active","_mouseUpListener","_onMouseUp","initBuffersListeners","_trimListener","_onTrim","onBufferActivate","clearSelection","finalSelectionStart","finalSelectionEnd","lineText","startRowEndCol","bufferLine","formattedResult","isMSWindows","isLinuxMouseSelection","_refreshAnimationFrame","requestAnimationFrame","_refresh","isLinux","columnSelectMode","_getMouseBufferCoords","_areCoordsInSelection","_selectWordAt","selectionEnd","selectAll","isSelectAllActive","selectLines","selectionStart","needsRefresh","_getMouseEventScrollAmount","terminalHeight","abs","round","shouldForceSelection","altKey","macOptionClickForcesSelection","shiftKey","onMouseDown","_mouseDownTimeStamp","timeStamp","button","hasSelection","_dragScrollAmount","_onIncrementalClick","detail","_onSingleClick","_onDoubleClick","_onTripleClick","_addMouseDownListeners","ownerDocument","_dragScrollIntervalTimer","setInterval","_dragScroll","selectionStartLength","shouldColumnSelect","hasWidth","_selectLineAt","previousSelectionEnd","_selectToWordAt","timeElapsed","AltClickHandler","move","_convertViewportColToCharacterIndex","charIndex","getChars","setSelection","_getWordAt","allowWhitespaceOnlySelection","followWrappedLinesAbove","followWrappedLinesBelow","charOffset","leftWideCharCount","rightWideCharCount","leftLongCharOffset","rightLongCharOffset","length_2","getString","_isCharWordSeparator","length_3","length_4","trim","getCodePoint","previousBufferLine","previousLineWordPosition","nextBufferLine","nextLineWordPosition","wordPosition","endRow","areSelectionValuesReversed","cell","wrappedRange","startPlusLength","DEFAULT_BELL_SOUND","SoundManager","_audioContext","audioContextCtor","AudioContext","webkitAudioContext","warn","playBellSound","ctx","audioContext","bellAudioSource","createBufferSource","decodeAudioData","_base64ToArrayBuffer","_removeMimeType","bellSound","connect","destination","base64","binaryString","len","bytes","dataURI","splitUri","split","promptLabel","BufferSet_1","CompositionHelper_1","EventEmitter_1","Viewport_1","Clipboard_1","InputHandler_1","Renderer_1","Linkifier_1","SelectionManager_1","CharMeasure_1","SoundManager_1","AccessibilityManager_1","CharAtlasCache_1","DomRenderer_1","Keyboard_1","Clone_1","WindowsMode_1","ColorManager_1","RenderCoordinator_1","WRITE_BUFFER_PAUSE_THRESHOLD","WRITE_TIMEOUT_MS","WRITE_BUFFER_LENGTH_THRESHOLD","MINIMUM_COLS","MINIMUM_ROWS","CONSTRUCTOR_ONLY_OPTIONS","DEFAULT_OPTIONS","termName","drawBoldTextInBrightColors","enableBold","experimentalCharAtlas","fontWeight","fontWeightBold","letterSpacing","screenKeys","macOptionIsMeta","cancelEvents","useFlowControl","allowTransparency","rightClickSelectsWord","_blankLine","_onRender","_onTitleChange","_setup","onCursorMove","onData","domEvent","onSelectionChange","onTitleChange","_windowsMode","_customKeyEventHandler","removeTerminalFromCache","write","destroy","keys","_parent","cursorState","gcharset","_eraseAttrData","currentParam","writeBuffer","writeBufferUtf8","_writeInProgress","_xoffSentToCatchUp","_userScrolling","_inputHandler","linkifier","soundManager","applyWindowsMode","preventScroll","activeElement","hasFocus","_setTheme","newBufferLength","setRenderer","_createRenderer","_accessibilityManager","onOptionsChanged","_onTextAreaFocus","updateCursorStyle","blur","_onTextAreaBlur","_initGlobal","_bindKeys","pasteHandlerWrapper","isFirefox","self","_keyDown","_keyPress","wasModifierKeyOnlyEvent","_keyUp","_compositionHelper","_queueLinkification","parent","_context","defaultView","dir","fragment","createDocumentFragment","_viewportElement","_viewportScrollArea","_helperContainer","_theme","_colorManager","ColorManager","setTheme","renderer","RenderCoordinator","Viewport","onThemeChange","colors","onBlur","onFocus","onCharSizeChanged","onDimensionsChange","onRedrawRequest","onSelectionChanged","onLinuxMouseSelection","toggle","bindMouse","Renderer","DomRenderer","setColors","el","pressed","sendButton","getButton","sendEvent","overrideType","sendMove","_vt300Mouse","data_1","_decLocator","page","meta","ctrl","mod","which","deltaY","metaKey","ctrlKey","moveHandler","hasScrollback","getLinesScrolled","sequence","onWheel","onTouchStart","onTouchMove","refreshRows","eraseAttr","getBg","topRow","bottomRow","willBufferBeTrimmed","isFull","recycle","copyFrom","scrollRegionHeight","shiftElements","disp","suppressScrollEvent","oldYdisp","scrollPages","pageCount","scrollToTop","scrollToBottom","scrollToLine","scrollAmount","writeUtf8","_isDisposed","DC3","_innerWriteUtf8","bufferOffset","startTime","Date","now","DC1","_refreshStart","_refreshEnd","_innerWrite","writeln","attachCustomKeyEventHandler","customKeyEventHandler","registerCharacterJoiner","joinerId","deregisterCharacterJoiner","cursorYOffset","normal","column","getSelectionPosition","startColumn","startRow","endColumn","evaluateKeyboardEvent","scrollCount","_isThirdLevelShift","thirdLevelKey","g","charCode","_soundBell","_visualBell","_visualBellTimer","isNaN","maxRange","title","inputHandler","writeInProgress","xoffSentToCatchUp","userScrolling","force","EventEmitter","FALLBACK_SCROLL_BAR_WIDTH","_scrollArea","scrollBarWidth","_currentRowHeight","_lastRecordedBufferLength","_lastRecordedViewportHeight","_lastRecordedBufferHeight","_lastScrollTop","_wheelPartialScroll","_ignoreNextScrollEvent","offsetWidth","onDimensionsChance","backgroundColor","css","_innerRefresh","scaledCellHeight","devicePixelRatio","offsetHeight","newBufferHeight","canvasHeight","newScrollTop","offsetParent","newRow","_getPixelsScrolled","deltaMode","WheelEvent","DOM_DELTA_LINE","DOM_DELTA_PAGE","DOM_DELTA_PIXEL","_lastTouchY","touches","terminal","lastChar","CHAR_DATA_CODE_INDEX","proposeGeometry","parentElementStyle","getComputedStyle","parentElementHeight","getPropertyValue","parentElementWidth","elementStyle","elementPadding","bottom","right","elementPaddingVer","elementPaddingHor","availableHeight","availableWidth","_core","fit","terminalConstructor","NON_WORD_CHARACTERS","LINES_CACHE_TIME_TO_LIVE","SearchHelper","_linesCache","_linesCacheTimeoutId","_destroyLinesCache","findNext","searchOptions","incremental","viewportY","currentSelection","_initLinesCache","findingRow","cumulativeCols","getLine","_findInLine","baseY","_selectResult","findPrevious","isReverseSearch","searchFrom","_cursorMoveListener","_resizeListener","_isWholeWord","searchIndex","stringLine","translateBufferLineToStringWithWrap","searchTerm","caseSensitive","searchStringLine","resultIndex","searchRegex","foundTerm","lastIndexOf","wholeWord","getCell","charWidth","lineWrapsToNext","lineString","SearchHelper_1","addonTerminal","__searchHelper","protocolClause","domainCharacterSet","negatedDomainCharacterSet","domainBodyClause","tldClause","ipClause","localHostClause","portClause","hostClause","pathCharacterSet","pathClause","queryStringHashFragmentCharacterSet","queryStringClause","hashFragmentClause","negatedPathCharacterSet","bodyClause","strictUrlRegex","handleLink","webLinksInit","_maxLength","onDeleteEmitter","_array","_length","newArray","_getCyclicIndex","newLength","deleteCount","items","_i","countToTrim","count","expandListBy","depth","clonedObject","isArray","_events","listener","disposed","off","obj","removeAllListeners","args","emitMayRemoveListeners","listeners","_listeners","_event","disposable","queue","_disposables","unregister","isNode","navigator","userAgent","platform","contains","isSafari","isIpad","isIphone","array","fillFallback","DEFAULT_COLOR","NUL","SOH","STX","ETX","EOT","ENQ","ACK","DLE","DC2","DC4","NAK","SYN","ETB","CAN","EM","SUB","FS","GS","RS","US","SP","DEL","PAD","HOP","BPH","NBH","SSA","ESA","HTJ","VTS","PLD","PLU","RI","SS2","SS3","DCS","PU1","PU2","STS","CCH","MW","SPA","EPA","SOS","SGCI","SCI","CSI","ST","OSC","PM","APC","Types_1","DEFAULT_ATTR","CHAR_DATA_ATTR_INDEX","CELL_SIZE","toColorRGB","newObj","isInverse","isBold","isUnderline","isBlink","isInvisible","isItalic","isDim","getFgColorMode","getBgColorMode","isFgRGB","isBgRGB","isFgPalette","isBgPalette","isFgDefault","isBgDefault","getFgColor","getBgColor","freeze","combinedData","setFromCharData","isCombined","getCode","combined","getAsCharData","fillCellData","_combined","hasContent","codePoint","n","applyInReverse","srcData","srcCombinedKeys","oldCols","bufferAbsoluteY","srcTrimmedTineLength","srcRemainingCells","destRemainingCells","countToRemove","i_1","nextToRemoveIndex","nextToRemoveStart","countRemovedSoFar","newLayout","newLayoutLines","newLineLengths","cellsNeeded","reduce","srcLine","cellsAvailable","oldTrimmedLength","endsWithWide","lineLength","endsInNull","followingLineStartsWithWide","_id","_nextId","isDisposed","_onDispose","KEYCODE_KEY_MAPPINGS","applicationCursorMode","modifiers","keyMapping","codepoint","_interim","startPos","interim","byte1","byte2","byte3","byte4","discardInterim","tmp","missing","fourStop","_mouseEvent","_a","_lines","_startCol","_startRow","coordinates","coordinate","_endCol","_endRow","_arrowSequences","_moveHorizontallyOnly","_resetStartingRow","_moveToRequestedRow","_moveToRequestedCol","repeat","_bufferLine","_wrappedRowsForRow","_sequence","rowsToMove","_wrappedRowsCount","_verticalDirection","direction","_horizontalDirection","wrappedRows","currentRow","lineWraps","forward","currentCol","bufferStr","str","rpt","AddonManager","_addons","instance","loadAddon","loadedAddon","_wrappedAddonDispose","activate","Terminal_1","AddonManager_1","_addonManager","BufferApiView","columns","applyAddon","addon","BufferLineApiView","_line","BufferCellApiView","_x","Types_2","BaseRenderLayer","_container","_alpha","_colors","_scaledCharWidth","_scaledCharHeight","_scaledCellWidth","_scaledCellHeight","_scaledCharLeft","_scaledCharTop","_currentGlyphIdentifier","chars","bold","dim","italic","_canvas","_initCanvas","_charAtlas","_ctx","getContext","alpha","onGridChanged","colorSet","_refreshCharAtlas","setTransparency","oldCanvas","cloneNode","replaceChild","acquireCharAtlas","warmUp","scaledCellWidth","scaledCharWidth","scaledCharHeight","scaledCharLeft","scaledCharTop","scaledCanvasWidth","scaledCanvasHeight","canvasWidth","fillCells","fillRect","fillBottomLineAtCells","fillLeftLineAtCell","strokeRectAtCell","lineWidth","strokeRect","clearRect","fillStyle","clearCells","fillCharTrueColor","_getFont","textBaseline","_clipRow","fillText","drawChars","_drawUncachedChars","INVERTED_DEFAULT_COLOR","drawInBrightColor","atlasDidDraw","draw","save","ansi","globalAlpha","DIM_OPACITY","restore","beginPath","clip","fontStyle","JoinedCellData","firstCell","CharacterJoinerRegistry","_characterJoiners","_nextCharacterJoinerId","joiner","getJoinedCharacters","ranges","lineStr","rangeStartColumn","currentStringIndex","rangeStartStringIndex","rangeAttrFG","rangeAttrBG","joinedRanges","_getJoinedRanges","joinerRanges","_mergeRanges","_stringRangesToCellRanges","currentRangeIndex","currentRangeStarted","currentRange","newRange","inRange","BaseRenderLayer_1","BLINK_INTERVAL","CursorRenderLayer","_cell","_state","isFocused","_cursorRenderers","_renderBarCursor","_renderBlockCursor","_renderUnderlineCursor","_clearCursor","_cursorBlinkStateManager","pause","resume","CursorBlinkStateManager","_render","restartBlinkAnimation","isPaused","triggeredByAnimationFrame","cursorY","viewportRelativeCursorY","_renderBlurCursor","isCursorVisible","cursorAccent","strokeStyle","_renderCallback","_restartInterval","_blinkStartTimeout","_blinkInterval","_animationFrame","cancelAnimationFrame","_animationTimeRestarted","timeToStart","time","GridCache","cache","CharAtlasUtils_1","LinkRenderLayer","onLinkHover","onLinkLeave","_clearCurrentLink","middleRowCount","is256Color","_renderer","_rowCount","_isPaused","_needsFullRefresh","_canvasWidth","_canvasHeight","_onDimensionsChange","_onRefreshRequest","_renderDebouncer","onDevicePixelRatioChange","observer_1","IntersectionObserver","_onIntersectionChange","threshold","observe","disconnect","entry","intersectionRatio","renderRows","_fireOnCanvasResize","changeOptions","_fullRefresh","TextRenderLayer_1","SelectionRenderLayer_1","CursorRenderLayer_1","LinkRenderLayer_1","CharacterJoinerRegistry_1","_characterJoinerRegistry","_renderLayers","TextRenderLayer","SelectionRenderLayer","_devicePixelRatio","_updateDimensions","_runOperation","operation","_clearState","_didStateChange","viewportStartRow","viewportEndRow","viewportCappedStartRow","viewportCappedEndRow","middleRowsCount","_areCoordinatesEqual","coord1","coord2","GridCache_1","characterJoinerRegistry","_characterOverlapCache","terminalFont","_characterWidth","_characterFont","_forEachCell","firstRow","lastRow","joinerRegistry","isJoined","lastCharX","_isOverlapping","_drawBackground","startX","startY","prevFillStyle","nextFillStyle","_drawForeground","beginFrame","overlaps","measureText","BaseCharAtlas","_didWarmUp","_doWarmUp","DynamicCharAtlas_1","NoneCharAtlas_1","StaticCharAtlas_1","charAtlasImplementations","default","charAtlasCache","newConfig","generateConfig","ownedByIndex","ownedBy","configEquals","config","atlas","newEntry","generateStaticCharAtlasTexture","context","canvasFactory","cellWidth","CHAR_ATLAS_CELL_SPACING","canvas","getFont","colorIndex","charAtlasImageData","getImageData","clearColor","createImageBitmap","imageData","isEmpty","rgba","clonedColors","colorCode","BaseCharAtlas_1","CharAtlasGenerator_1","LRUMap_1","TEXTURE_WIDTH","TEXTURE_HEIGHT","TRANSPARENT_COLOR","FRAME_CACHE_DRAW_LIMIT","GLYPH_BITMAP_COMMIT_DELAY","getGlyphCacheKey","glyph","DynamicCharAtlas","_config","_drawToCacheCount","_glyphsWaitingOnBitmap","_bitmapCommitTimeout","_bitmap","_cacheCanvas","_cacheCtx","tmpCanvas","_tmpCtx","capacity","_cacheMap","prealloc","_canCache","glyphKey","cacheValue","_drawFromCache","peek","cacheValue_1","_drawToCache","_toCoordinateX","_toCoordinateY","cacheX","cacheY","drawImage","inBitmap","_getColorFromAnsiIndex","DEFAULT_ANSI_COLORS","_getBackgroundColor","_getForegroundColor","globalCompositeOperation","putImageData","_addGlyphToBitmap","_generateBitmap","glyphsMovingToBitmap","bitmap","LRUMap","_map","_head","_tail","_nodePool","_unlinkNode","node","prev","_appendNode","tail","nodePool","peekValue","head","NoneCharAtlas","StaticCharAtlas","_canvasFactory","HTMLCanvasElement","_texture","texture","_isCached","isAscii","isBasicColor","isDefaultColor","isDefaultBackground","charAtlasCellWidth","charAtlasCellHeight","DomRendererRowFactory_1","TERMINAL_CLASS_PREFIX","ROW_CONTAINER_CLASS","FG_CLASS_PREFIX","BG_CLASS_PREFIX","FOCUS_CLASS","SELECTION_CLASS","nextTerminalId","_terminalClass","_refreshRowElements","_selectionContainer","_injectCss","_rowFactory","DomRendererRowFactory","_themeStyleElement","_dimensionsStyleElement","overflow","styles","_terminalSelector","innerHTML","BOLD_CLASS","ITALIC_CLASS","CURSOR_CLASS","CURSOR_BLINK_CLASS","CURSOR_STYLE_BLOCK_CLASS","CURSOR_STYLE_BAR_CLASS","CURSOR_STYLE_UNDERLINE_CLASS","documentFragment","_createSelectionElement","endCol_1","colStart","colEnd","cursorAbsoluteY","cursorX","rowElement","createRow","_setCellUnderline","enabled","span","textDecoration","DIM_CLASS","UNDERLINE_CLASS","_terminalOptions","isCursorRow","charElement","swapColor","DEFAULT_FOREGROUND","fromHex","DEFAULT_BACKGROUND","DEFAULT_CURSOR","DEFAULT_CURSOR_ACCENT","DEFAULT_SELECTION","toPaddedHex","_litmusColor","createLinearGradient","_parseColor","fallback","useCapture","rowStart","rowEnd","_rowStart","_rowEnd","_currentDevicePixelRatio","_listener","clearListener","_outerListener","_updateDpr","_resolutionMediaMatchList","removeListener","matchMedia","addListener"],"sourceRoot":""}