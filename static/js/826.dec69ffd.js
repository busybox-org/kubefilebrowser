"use strict";(self["webpackChunkKubernetesFileBrowser"]=self["webpackChunkKubernetesFileBrowser"]||[]).push([[826],{1826:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{attrs:{shadow:"never"}},[a("div",[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:e.$t("please_select_namespace")},on:{change:e.selectedNamespace},nativeOn:{click:function(t){return e.getNamespace.apply(null,arguments)}},model:{value:e.namespace,callback:function(t){e.namespace=t},expression:"namespace"}},e._l(e.namespaces,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),a("div",{staticStyle:{"margin-top":"15px"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.$t("please_select_pvc"),filterable:""},model:{value:e.pvc,callback:function(t){e.pvc=t},expression:"pvc"}},e._l(e.pvcs,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("div",{staticStyle:{"margin-top":"15px"}},[a("el-dropdown",{staticClass:"avatar-container",staticStyle:{height:"36px",float:"right","margin-bottom":"10px"},attrs:{type:"success",trigger:"click"}},[a("div",{staticClass:"avatar-wrapper"},[a("el-button",{staticClass:"el-icon-upload",staticStyle:{width:"90px",height:"30px","margin-right":"6px","padding-top":"7px","padding-left":"14px"},attrs:{type:"success",round:"",size:"medium"}},[e._v(" "+e._s(e.$t("upload"))+" "),a("i",{staticClass:"el-icon-caret-bottom"})])],1),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("span",{staticClass:"fake-file-btn"},[e._v(" "+e._s(e.$t("upload_file"))+" "),a("input",{staticStyle:{display:"block"},attrs:{type:"file",name:"files",multiple:"true"},on:{change:function(t){return e.uploadFileOrDir(t)}}})])]),a("el-dropdown-item",{attrs:{divided:""}},[a("span",{staticClass:"fake-file-btn"},[e._v(" "+e._s(e.$t("upload_dir"))+" "),a("input",{staticStyle:{display:"block"},attrs:{type:"file",name:"files",webkitdirectory:"",mozdirectory:"",accept:"*/*"},on:{change:function(t){return e.uploadFileOrDir(t)}}})])])],1)],1)],1)])],1)},l=[],i=a(771);a(8313);const n={data(){return{namespace:"",pvc:[],namespaces:[],pvcs:[],destPath:"",fileList:[]}},methods:{getNamespace(){(0,i.Lf)().then((e=>{if(e){this.namespaces=[],this.pvc=[],this.pvcs=[];const t=e.items;for(const e in t)this.namespaces.push(t[e].metadata.name)}}))},selectedNamespace(){(0,i.XG)({namespace:this.namespace}).then((e=>{if(e){const t=[];this.pvc=[],this.pvcs=[];const a=e.items;for(const e in a){const s={label:a[e].metadata.name,value:a[e].metadata.name};t.push(s)}this.pvcs=t}}))},uploadFileOrDir(e){const t=e.target.files;if(0===t.length)return void(e.target.value="");let a=this.pvc;const s=new FormData;for(let l=0;l<t.length;l++)s.append("files",t[l]);(0,i.Tp)(s,{namespace:this.namespace,pvc:a},{"Content-Type":"multipart/form-data"}).then((e=>{this.$message.success("upload success!")}),(e=>{console.log(e.message),this.$message.error(e.message)})),e.target.value=""}}},c=n;var p=a(1001),r=(0,p.Z)(c,s,l,!1,null,null,null);const o=r.exports}}]);
//# sourceMappingURL=826.dec69ffd.js.map